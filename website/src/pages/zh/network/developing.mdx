---
title: 开发
---

开发人员是 Graph 生态系统的需求方。开发人员构建子图并将其发布到图形Graph网络。然后，它们使用 GraphQL 查询实时子图，以便为应用程序助力。

## 子图生命周期

部署到网络中的子图有一个确定的生命周期。

### 本地建造

与所有子图开发一样，它从本地开发和测试开始。开发人员可以使用相同的本地设置，无论是为Graph 网络、托管服务还是本地 Graph 节点构建，都可以利用`graph-cli` 和 `graph-ts`构建子图。鼓励开发人员使用[Matchstick](https://github.com/LimeChain/matchstick)等工具进行单元测试，以提高子图的可靠性。

> Graph网络在功能和网络支持方面存在一定限制。只有[支持的网络](/developing/supported-networks)上的子图才能获得索引奖励，从IPFS获取数据的子图也不符合条件。

### 部署到子图工作室

一旦定义了子图，就可以构建子图并将其部署到[Subgraph Studio](https://thegraph.com/docs/en/deploying/subgraph-studio-faqs/)。子图工作室是一个沙箱环境，它将对已部署的子图进行索引，并使其可用于速率受限的开发和测试。这使得开发人员有机会验证他们的子图没有遇到任何索引错误，并且正常工作。

### 发布到网络

当开发人员对他们的子图感到满意时，他们可以将其发布到 Graph网络。这是一个链上操作，它注册子图，以便索引人可以发现它。已发布的子图具有相应的 NFT，这样就很容易转移。已发布的子图具有关联的元数据，这些元数据为其他网络参与者提供有用的背景和信息。

### 鼓励索引的信号

索引人不可能在不添加信号的情况下获取已发布的子图。信号被锁定与给定子图相关联的 GRT，它向索引人指示给定子图将接收查询量，并且还有助于处理它的索引奖励。子图开发人员通常会向他们的子图添加信号，以鼓励索引。如果第三方策展人认为某个子图可能驱动查询量，他们也可以在给定的子图上发出信号。

### 查询& 应用开发

一旦子图被索引者处理并用于查询，开发人员就可以开始在其应用程序中使用该子图。开发人员通过网关查询子图，该网关将他们的查询转发给处理子图的索引者，并以 GRT 支付查询费用。

为了进行查询，开发人员必须生成一个 API 密钥，这可以在子图工作室完成。此 API 密钥必须由 GRT 资助，以支付查询费用。开发人员可以设置一个最大查询费用，以控制他们的成本，并限制他们到一个给定的子图或原点域的API 密钥。子图工作室为开发人员提供关于其 API 密钥使用时随时间变化的数据。

开发人员还可以对网关表示索引人首选项，例如，首选查询响应更快或数据最新的索引者。这些控件在子图工作室中设置。

### 升级子图

一段时间后，子图开发人员可能想要更新其子图，可能是修复漏洞或添加新功能。子图开发人员可以将其子图的新版本部署到子图工作室，以进行速率有限的开发和测试。

一旦子图开发人员准备升级，他们就可以发起一个交易，将子图指向新版本。升级子图将任何信号迁移到新版本(假设应用该信号的用户选择了“自动迁移”) ，这也会带来迁移税。这种信号迁移应该会提示索引者开始为子图的新版本建立索引，因此它应该很快就可以用于查询。

### 弃用子图

在某种程度上，开发人员可能决定不再需要已发布的子图。在这一点上，他们可能不赞成子图，它将任何有信号的 GRT 返回给管理员。

### 不同的开发人员角色

一些开发人员将参与网络上子图的整个生命周期，在他们自己的子图上发布、查询和迭代。有些可能专注于子图开发，构建其他人可以构建的开放 API。有些可能是专注于应用程序的，查询由其他人部署的子图。

### 开发商与网络经济

开发人员是网络中关键的经济参与者，锁定 GRT 以鼓励索引，关键是查询子图，这是网络的主要价值交换。每当子图升级时，子图开发人员也会销毁GRT。
