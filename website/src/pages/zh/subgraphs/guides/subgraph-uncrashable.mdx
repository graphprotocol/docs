---
title: 安全子图代码生成器
---

[Subgraph Uncrashable](https://float-capital.github.io/float-subgraph-uncrashable/) 是一个代码生成工具，从项目的 Graphql 模式生成一组辅助函数。确保与子图中实体的所有交互都是完全安全和一致的。

## 为什么要整合子图使其不崩溃？

- **连续正常运行时间**。处理不当的实体可能会导致子图崩溃，这可能会破坏依赖于 The Graph 的项目。设置 helper 函数，使您的子图“不可崩溃”，并确保业务连续性。

- **绝对安全**。在子图开发中常见的问题是加载未定义的实体，不设置或初始化实体的所有值，以及加载和保存实体的竞态条件。确保与实体的所有交互都是完全原子的。

- **User Configure**。设置默认值，并配置适合各个项目需要的安全检查级别。警告日志被记录下来，表明哪里存在子图逻辑的缺陷，以帮助修补这个问题，从而确保数据的准确性。

**主要特征**

- 代码生成工具可以容纳**所有**子图类型，并且可以为用户配置，以便在值上设置合理默认值。代码生成将使用此配置生成用户规范所要求的辅助函数。

- 该框架还包括一种方法(通过配置文件) 为实体变量组创建自定义但安全的 setter 函数。这样，用户就不可能加载/使用过时的图形实体，也不可能忘记保存或设置函数所需的变量。

- 警告日志被记录为指示子图逻辑漏洞的日志，以帮助修补问题，确保数据准确性。

使用 Graph CLI codegen 命令，Subgraph Uncrashable 可以作为一个可选标志运行。

```sh
graph codegen -u [options] [<subgraph-manifest>]
```

访问[子图不可崩溃的文档](https://float-capital.github.io/float-subgraph-uncrashable/docs/)或观看此[视频教程](https://float-capital.github.io/float-subgraph-uncrashable/docs/tutorial)了解更多信息，并开始开发更安全的子图。
