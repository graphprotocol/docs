---
title: 传输到The Graph
---

快速将您的子图从任何平台升级到[The Graph的去中心化网络](https://thegraph.com/networks/)。

## 切换到The Graph的好处

- 使用您的应用程序已经使用的零停机迁移子图。
- 通过100多个索引人支持的全球网络提高可靠性。
- Receive lightning-fast support for subgraphs 24/7, with an on-call engineering team.

## 通过3个简单步骤将子图升级为The Graph

1. [设置您的Studio环境](/subgraphs/cookbook/transfer-to-the-graph/#1-set-up-your-studio-environment)
2. [将子图部署到Studio](/subgraphs/cookbook/transfer-to-the-graph/#2-deploy-your-subgraph-to-studio)
3. [发布到The Graph网络](/subgraphs/cookbook/transfer-to-the-graph/#publish-your-subgraph-to-the-graphs-decentralized-network)

## 1.设置你的Studio环境

### 在Subgraph Studio中创建子图

- 进入[Subgraph Studio](https://thegraph.com/studio/)并连接你的钱包。
- 点击“创建子图”。建议在标题大小写中为子图命名：“子图名称链名称”。

> 注意：发布后，子图名称将是可编辑的，但每次都需要进行链上操作，因此请正确命名。

### 安装Graph CLI⁠

你必须安装[Node.js](https://nodejs.org/)和你选择的包管理器 (`npm` or `pnpm`) 才能使用Graph CLI。检查[最新的](https://github.com/graphprotocol/graph-tooling/releases?q=%40graphprotocol%2Fgraph-cli&expanded=true)CLI版本。

在本地计算机上，运行以下命令之一：

使用[npm](https://www.npmjs.com/)：

```sh
npm install -g @graphprotocol/graph-cli@latest
```

使用以下命令在Studio中使用CLI创建子图：

```sh
graph init --product subgraph-studio
```

### 验证你的子图

在The Graph CLI中，使用Subgraph Studio中的auth命令：

```sh
graph auth <your-auth-code>
```

## 2. 部署到Subgraph Studio

如果你有源代码，你可以很容易地将其部署到Studio。如果你没有它，这里有一个快速部署子图的方法。

在 The Graph CLI中，运行以下命令：

```sh
graph deploy <slug> --ipfs-hash <your-subgraph-ipfs-hash>

```

> **注意：**每个子图都有一个IPFS哈希（部署ID），看起来像这样：“Qmasdfad…”。要部署，只需使用此**IPFS哈希**。系统将提示您输入版本（例如v0.0.1）。

## 3. 将你的子图发布到 The Graph的去中心化网络

![publish button](/img/publish-sub-transfer.png)

### 查询子图

> 为了吸引大约3个索引人查询你的子图，建议至少策展3000 GRT。要了解更多关于策展的信息，请查看The Graph上的[策展](/resources/roles/curating/)。

您可以通过将GraphQL查询发送到子图的查询URL端点（位于subgraph Studio中其Explorer页面的顶部）来开始[查询](/subgraphs/querying/introduction/) 任何子图。

#### 示例

[CryptoPunks以太坊子图](https://thegraph.com/explorer/subgraphs/HdVdERFUe8h61vm2fDyycHgxjsde5PbB832NHgJfZNqK) 通过 Messari：

![Query URL](/img/cryptopunks-screenshot-transfer.png)

此子图的查询URL为：

```sh
https://gateway-arbitrum.network.thegraph.com/api/`**your-own-api-key**`/subgraphs/id/HdVdERFUe8h61vm2fDyycgxjsde5PbB832NHgJfZNqK
```

现在，您只需填写**您自己的API密钥**即可开始向该端点发送GraphQL查询。

### 获取您自己的API密钥

您可以在Subgraph Studio中的页面顶部的“API键”菜单下创建：

![API 键](/img/Api-keys-screenshot.png)

### 监控子图状态

升级后，您可以在[Subgraph Studio](https://thegraph.com/studio/) 中访问和管理子图，并在[The Graph Explorer](https://thegraph.com/networks/)中浏览所有子图。

### 其他资源

- 要快速创建和发布新的子图，请查看[快速入门](/subgraphs/quick-start/)。
- 要探索优化和自定义子图以获得更好性能的所有方法，请在此处阅读有关[创建子图](/developing/creating-a-subgraph/)的更多信息。
