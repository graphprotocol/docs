---
title: 计费
---

## 查询计划

在 The Graph网络上查询子图时，有两种计划可以使用。

- **免费计划**：免费计划包括每月100000次免费查询，可完全访问Subgraph Studio测试环境。这个计划是为业余爱好者、黑客马拉松者和那些有副项目的人设计的，他们可以在扩展他们的dapp之前尝试Graph。

- **增长计划**：增长计划包括免费计划中的所有内容，以及每月100000次查询后需要使用GRT或信用卡付款的所有查询。增长计划足够灵活，可以覆盖在各种用例中建立dapp的团队。

了解更多关于定价的 [here](https://thegraph.com/studio-pricing/)。

<VideoEmbed title="How to Set Up Billing on The Graph Network" youtube="Nn771WagX2I" />

## 使用信用卡付款

- 要使用信用卡/借记卡设置账单，用户应访问Subgraph Studio(https://thegraph.com/studio/)。
  1. 转到 [Subgraph Studio计费页面](https://thegraph.com/studio/subgraphs/billing/)。
  2. 单击页面右上角的“Connect Wallet”（连接钱包）按钮。您将被重定向到钱包选择页面。选择您的钱包，然后单击“Connect”（连接）。
  3. 如果您从免费计划升级，请选择“升级计划“，如果您过去已经将GRT添加到您的计费余额中，则选择“管理计划“。接下来，您可以估计查询次数以获得定价估计，但这不是必需的步骤。
  4. 要选择信用卡付款，请选择“信用卡”作为付款方式，并填写您的信用卡信息。以前使用过Stripe的人可以使用链接功能自动填充他们的详细信息。
- 发票将在每月月底处理，对于超出免费计划配额的所有查询，都需要一张有效的信用卡存档。

## 使用GRT查询付款

Subgraph用户可以使用Graph代币（或GRT）在Graph网络上支付查询费用。使用GRT，发票将在每月末处理，并需要足够的GRT余额来进行超过每月100000次查询的免费计划配额的查询。您将被要求支付API密钥产生的费用。使用计费合约，您将能够：

- 从您的账户余额中添加和提取GRT。
- 根据您的账户添加的GRT数量、移除的数量和发票，跟踪您的余额。
- 只要您的账单余额中有足够的GRT，就可以根据生成的查询费用自动支付发票。

### Arbitrum或以太坊上的GRT

Graph的计费系统在Arbitrum上接受GRT，用户将需要Arbitrum的ETH来支付他们的费用。虽然Graph协议始于以太坊主网，但所有活动，包括计费合同，现在都在Arbitrum One上。

因此，要为查询付费，您需要Arbitrum上的GRT。以下是实现这一目标的几种不同方法：

- 如果你已经在以太坊上有了GRT，你可以把它连接到Arbitrum。您可以通过Subgraph Studio中提供的GRT桥接选项或使用以下桥接器之一来完成此操作：

- Arbitrum大桥(https://bridge.arbitrum.io/?l2ChainId=42161)

- [TransferTo](https://transferto.xyz/swap)

- 如果你在Arbitrum上有其他资产，你可以通过Uniswap等交换协议将它们交换为GRT。

- 或者，您可以通过去中心化交易所直接在Arbitrum上获得GRT。

> 本节假设您的加密钱包中已经有GRT，并且您在以太坊主网上。如果你没有GRT，你可以在[这里](#getting-grt)学习如何获得GRT。

一旦您桥接了GRT，您就可以将其添加到您的计费余额中。

### 使用加密钱包添加GRT

1. 转到 [Subgraph Studio计费页面](https://thegraph.com/studio/subgraphs/billing/)。
2. 单击页面右上角的“Connect Wallet”（连接钱包）按钮。您将被重定向到钱包选择页面。选择您的钱包，然后单击“Connect”（连接）。
3. 选择右上角附近的“管理”按钮。首次用户将看到“升级到增长计划”的选项，而回头客将点击“从钱包存款”。
4. 使用滑块估算您每月预计进行的查询数量。
   - 有关您可以使用的查询数量的建议，请参阅我们的**常见问题**页面。
5. 选择“加密货币”。GRT目前是The Graph网络上唯一接受的加密货币。
6. 选择您要预付的月数。
   - 提前付款并不意味着您将来会使用。您只需支付您使用的费用，您可以随时提取余额。
7. 选择您存入GRT的网络。Arbitrum或以太坊上的GRT都是可以接受的。
8. 点击“允许GRT访问”，然后指定可以从钱包中提取的GRT金额。
   - 如果您预付了几个月，您必须允许访问与该金额相对应的金额。这种相互作用不会消耗任何燃气费。
9. 最后，点击“将GRT添加到计费余额”。这笔交易将需要Arbitrum上的ETH来支付燃气费。

- 请注意，从Arbitrum存入的GRT将在几分钟内处理，而从以太坊存入的GRT大约需要15到20分钟才能处理。交易确认后，您将看到GRT添加到您的计费余额中。

### 使用加密钱包提取GRT

1. 转到  [Subgraph Studio计费页面](https://thegraph.com/studio/subgraphs/billing/)。
2. 单击页面右上角的“Connect Wallet”（连接钱包）按钮。选择您的钱包，然后单击“Connect”（连接）。
3. 单击页面右上角的“管理”按钮。选择“提取GRT”。将出现一个侧面板。
4. 输入您要提取的GRT金额。
5. 单击“提取GRT”，从您的账单余额中提取GRT。在您的钱包中签署相关交易。这将耗费燃气费。GRT将发送到您的Arbitrum钱包。
6. 一旦交易被确认，您将在一小时内看到GRT提取到您的Arbitrum钱包的账单余额中。

### 使用多签钱包添加GRT

1. 转到  [Subgraph Studio计费页面](https://thegraph.com/studio/subgraphs/billing/)。
2. 点击页面右上角的“连接钱包”按钮。选择您的钱包，然后单击“连接”。如果您使用的是[Gnosis-Safe](https://gnosis-safe.io/)，您将能够连接您的多重签名和签名钱包。然后，在相关消息上签名。这不会花费任何燃气费。
3. 选择右上角附近的“管理”按钮。首次用户将看到“升级到增长计划”的选项，而回头客将点击“从钱包存款”。
4. 使用滑块估算您每月预计进行的查询数量。
   - 有关您可以使用的查询数量的建议，请参阅我们的**常见问题**页面。
5. 选择“加密货币”。GRT目前是The Graph网络上唯一接受的加密货币。
6. 选择您要预付的月数。
   - 提前付款并不意味着您将来会使用。您只需支付您使用的费用，您可以随时提取余额。
7. 选择您存入GRT的网络。Arbitrum或以太坊上的GRT都是可以接受的。8.点击“允许GRT访问”，然后指定可以从您的钱包中提取的GRT金额。
   - 如果您预付了几个月，您必须允许访问与该金额相对应的金额。这种相互作用不会消耗任何燃气费。
8. 最后，点击“将GRT添加到计费余额”。这笔交易将需要Arbitrum上的ETH来支付燃气费。

- 请注意，从Arbitrum存入的GRT将在几分钟内处理，而从以太坊存入的GRT大约需要15到20分钟才能处理。交易确认后，您将看到GRT添加到您的计费余额中。

## 获取GRT

本节将向您展示如何让GRT支付查询费用。

### Coinbase

这将是在Coinbase上购买GRT的分步指南。

1. 到 [Coinbase](https://www.coinbase.com/) 并创建一个账户。
2. 创建账户后，您需要通过KYC（或了解您的客户）流程验证您的身份。这是所有中心化或托管加密交易所的标准程序。
3. 一旦您验证了自己的身份，就可以购买GRT。您可以通过单击页面右上方的“买入/卖出”按钮来完成此操作。
4. 选择要购买的货币。选择GRT。
5. 选择付款方式。选择您的首选付款方式。
6. 选择您要购买的GRT数量。
7. 查看您的购买。查看您的购买并单击“购买GRT”。
8. 确认您的购买。确认您的购买，您将成功购买GRT。
9. 您可以将GRT从您的帐户转移到您的钱包，如 [MetaMask](https://metamask.io/)。
   - 要将GRT转移到您的加密钱包，请单击页面右上方的“账户”按钮。
   - 单击GRT账户旁边的“发送”按钮。
   - 输入您要发送的GRT金额和您要发送到的钱包地址。
   - 单击“继续”并确认您的交易。-请注意，对于较大的购买金额，Coinbase可能需要您等待7到10天，然后才能将全部金额转移到加密钱包。

您可以在[此处]了解有关在Coinbase上获取GRT的更多信息。(https://help.coinbase.com/en/coinbase/trading-and-funding/buying-selling-or-converting-crypto/how-do-i-buy-digital-currency)。

### Binance

这将是在Binance上购买GRT的分步指南。

1. 转到[Coinbase](https://www.binance.com/en) 并创建一个账户。
2. 创建账户后，您需要通过KYC（或了解您的客户）流程验证您的身份。这是所有中心化或托管加密交易所的标准程序。
3. 一旦您验证了自己的身份，就可以购买GRT。您可以通过单击主页横幅上的“立即购买”按钮来完成此操作。
4. 您将转到一个可以选择要购买的货币的页面，选择GRT。
5. 选择您的首选付款方式。您可以使用不同的法定货币支付，如欧元、美元等。
6. 选择您要购买的GRT数量。
7. 查看您的购买并单击“购买GRT”。
8. 确认您的购买，您将能够在Binance现货钱包中看到您的GRT。
9. 您可以将GRT从您的帐户转移到您的钱包，如 [MetaMask](https://metamask.io/)。
   - [要提取](https://www.binance.com/en/blog/ecosystem/how-to-transfer-crypto-from-binance-to-trust-wallet-8305050796630181570) GRT到您的钱包, 需将您的钱包地址添加到提款白名单中。
   - 单击“钱包”按钮，单击提取，然后选择GRT。
   - 输入您要发送的GRT金额和您要发送到的白名单钱包地址。
   - 单击“继续”并确认您的交易。

您可以在[此处]了解有关在Binance上获取GRT的更多信息。(https://www.binance.com/en/support/faq/how-to-buy-cryptocurrency-on-binance-homepage-400c38f5e0cd4b46a1d0805c296b5582)。

### Uniswap

这是您在Uniswap上购买GRT的方式。

1. 到[Uniswap](https://app.uniswap.org/swap?chain=arbitrum) 并连接您的钱包。
2. 选择要从中交换的代币。选择ETH。
3. 选择要从中交换的代币。选择GRT。
   - 确保您正在交换正确的代币。Arbitrum One上的GRT智能合约地址为：: [0x9623063377AD1B27544C965cCd7342f7EA7e88C7](https://arbiscan.io/token/0x9623063377ad1b27544c965ccd7342f7ea7e88c7)
4. 输入要交换的ETH数量。
5. 单击“交换”。
6. 确认钱包中的交易，然后等待交易处理。

您可以在[此处]了解有关在Uniswap上获取GRT的更多信息。(https://support.uniswap.org/hc/en-us/articles/8370549680909-How-to-Swap-Tokens-)。

## 获取以太币

这一部分将向您展示如何获取以太币（ETH）以支付交易费用或燃气费用。在以太坊网络上执行操作，例如转移代币或与智能合约交互，都需要以太币（ETH）。

### Coinbase

这将是在Coinbase上购买ETH的分步指南。

1. 转到[Coinbase](https://www.coinbase.com/) 并创建一个账户。
2. 创建账户后，您需要通过KYC（或了解您的客户）流程验证您的身份。这是所有中心化或托管加密交易所的标准程序。
3. 一旦您验证了自己的身份，就可以购买ETH。您可以通过单击页面右上方的“买入/卖出”按钮来完成此操作。
4. 选择要购买的货币。选择ETH。
5. 选择你偏好的支付方式。
6. 输入要购买的ETH金额。
7. 查看您的购买并单击“购买ETH”。
8. 确认您的购买，您将成功购买ETH。
9. 您可以将ETH从您的帐户转移到您的钱包，如 [MetaMask](https://metamask.io/)。
   - 要将ETH转移到您的加密钱包，请单击页面右上方的“账户”按钮。
   - 单击ETH账户旁边的“发送”按钮。
   - 输入您要发送的ETH金额和您要发送到的钱包地址。
   - 确保您正在发送到Arbitrum One上的以太坊钱包地址。
   - 单击“继续”并确认您的交易。

您可以在[此处]了解有关在Coinbase上获取ETH的更多信息。(https://help.coinbase.com/en/coinbase/trading-and-funding/buying-selling-or-converting-crypto/how-do-i-buy-digital-currency)。

### Binance

这将是在Binance上购买ETH的分步指南。

1. 到[Binance](https://www.binance.com/en) 并创建一个账户。
2. 创建账户后，您需要通过KYC（或了解您的客户）流程验证您的身份。这是所有中心化或托管加密交易所的标准程序。
3. 一旦您完成了身份验证，您可以通过在首页横幅上点击“立即购买”按钮来购买ETH。
4. 选择要购买的货币。选择ETH。
5. 选择你偏好的支付方式。
6. 输入要购买的ETH金额。
7. 查看您的购买并单击“购买ETH”。
8. 确认您的购买，您将能够在Binance现货钱包中看到您的ETH。
9. 您可以将ETH从您的帐户转移到您的钱包，如 [MetaMask](https://metamask.io/)。
   - 想要将ETH提现到你的加密钱包，先将你的加密钱包地址添加到提现白名单。
   - 单击“钱包”按钮，单击提取，然后选择ETH。
   - 输入您要发送的ETH金额和您要发送到的白名单钱包地址。
   - 确保您正在发送到Arbitrum One上的以太坊钱包地址。
   - 单击“继续”并确认您的交易。

您可以在[此处]了解有关在Binance上获取ETH的更多信息。(https://www.binance.com/en/support/faq/how-to-buy-cryptocurrency-on-binance-homepage-400c38f5e0cd4b46a1d0805c296b5582)。

## 计费常见问题

### 我需要多少个查询？

你不需要提前知道你需要多少查询。您只需支付您使用的费用，您可以随时从您的账户中提取GRT。

我们建议您高估所需的查询次数，这样您就不必经常充值余额。对于中小型应用程序，一个很好的估计是每月从1M-2M的查询开始，并在头几周密切监控使用情况。对于较大的应用程序，一个很好的估计是使用您的网站每天的访问次数乘以您最活跃的页面在打开时的查询次数。

当然，新用户和现有用户都可以联系Edge&Node的BD团队进行咨询，以了解更多关于预期使用情况的信息。

### 我能从我的计费余额中添加和提取GRT吗？

是的，您始终可以从计费余额中提取尚未用于查询的GRT。计费合约仅用于将GRT从以太坊主网桥接到Arbitrum网络。如果您想将GRT从Arbitrum转移回以太坊主网上，您需要使用[Arbitrum bridge](https://bridge.arbitrum.io/?l2ChainId=42161)。

### 当我的计费余额用完时会发生什么？我会得到警告吗？

在您的计费余额用完之前，您将收到几封电子邮件通知。
