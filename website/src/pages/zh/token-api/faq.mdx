---
title: 代币 API 常见问题
---

获取快速答案以便轻松地与The Graph的高性能代币API进行整合和缩放。

## 通用

### 代币 API 支持什么区块链？

Currently, the Token API supports Ethereum, Binance Smart Chain (BSC), Polygon, Optimism, Base, Unichain, and Arbitrum One.

### How do I authenticate requests to the Token API, and why doesn't my API key from The Graph Market work?

Authentication is managed via API tokens obtained through [The Graph Market](https://thegraph.market/). If you're experiencing issues, make sure you're using the API Token generated from the API key, not the API key itself. An API token can be found on The Graph Market dashboard next to each API key. JWT tokens issued by [Pinax](https://pinax.network/en), a core developer of The Graph, are also supported.

### API提供的数据相对于区块链的最新程度如何？

API提供最新最终块的数据。

### How do I retrieve token prices?

By default, token prices are returned with token-related responses, including token balances, token transfers, token metadata, and token holders. Historical prices are available with the Open-High-Low-Close (OHLC) endpoints.

### Does the Token API support historical token data?

The Token API supports historical token balances with the `/historical/balances/evm/{address}` endpoint. You can query historical price data by pool at `/ohlc/pools/evm/{pool}` and by contract at `/ohlc/prices/evm/{contract}`.

### What exchanges does the Token API use for token prices?

The Token API currently tracks prices on Uniswap v2 and Uniswap v3, with plans to support additional exchanges in the future.

### Token API 提供客户端SDK吗？

虽然客户端SDK目前不可用。 请分享您想要在 [Discord](https://discord.gg/graphprotocol)上看到的 SDK 或集成的反馈。

### 未来是否有计划支持更多的区块链？

是的，将来会支持更多的区块链。请分享关于在[Discord](https://discord.gg/graphprotocol)上所需的的反馈。

### 是否有计划提供更接近链头的数据？

是的，正在计划进行改进以提供更接近链头的数据。欢迎反馈到 [Discord](https://discord.gg/graphprotocol)。

### 是否计划支持诸如NFT等其他用途案例？

Support for NFT endpoints is coming soon. The Graph ecosystem is actively determining the [roadmap](https://thegraph.com/blog/token-api-the-graph/) for additional use cases. Please provide feedback on specific features you would like prioritized on [Discord](https://discord.gg/graphprotocol).

## MCP / LLM / AI 主题

### LLM查询是否有时限？

是的。LLM查询的最大时间限制为10秒。

### 是否有已知的与API共用的 LLM清单？

是的，Cline，Cursor，Claude Desktop 已成功整合到 The Graph 的Token API + MCP 服务器。

除此之外，LLM “工作”是否取决于它是否直接支持 MCP 协议(或拥有兼容的插件/适配器)。

### 我在哪里可以找到MCP客户端？

您可以在 [The Graph的仓库](https://github.com/graphprotocol/mcp-client) 中找到MCP客户端的代码。

## 高级主题

### 我有403/401错误。是怎么回事？

检查您是否包含了 `Authorization: Bearer <jwt>` 页眉和正确且未过期的代币。 常见问题包括使用 API 密钥而不是生成一个新的 JWT， 忘记“Bearer”前缀，使用不正确的代币，或完全省略标题。 请确保您复制JWT，正好像The Graph市场提供的。

### Are there rate limits or usage costs?

Beta期间，Token API 对授权的开发者是免费的。虽然特定的费率限制没有记录，但存在着合理的节奏来防止滥用。 高请求卷可能会触发HTTP 429 错误。请监视官方公告，以了解Beta以后未来的定价变化。

### How do I specify a network?

You can query available networks with [this link](https://token-api.thegraph.com/#tag/monitoring/GET/networks). A full list of the exact network IDs accepted by The Graph can be found on [The Graph's Networks](https://thegraph.com/docs/en/supported-networks/). Use the optional `network_id` parameter (e.g., `mainnet`, `bsc`, `base`, `arbitrum-one`, `optimism`, `matic`, `unichain`) to target a specific chain. Without this parameter, the API defaults to Ethereum mainnet.

### 为什么我只看到10个结果？我怎么能够获得更多的数据？

Endpoints cap output at 10 items by default. Use pagination parameters: `limit` and `page` (1-indexed) to return more results. For example, set `limit=50` to get 50 results, and increment `page` for subsequent batches (e.g., `page=2` for items 51-100).

### 如何获取较早的转账历史？

传输端点默认为30天历史记录。要检索更早的事件，请最多增加180天的`年龄`参数(如，`age=180`可以调用六个月转账记录)。超过180 天的转账记录不能在一次调用中获取。

### 空的`数据'：[]`数组是什么意思？

空数据组意味着没有找到匹配查询的记录——不是错误。 当查询钱包时没有任何代币/转账或与没有持有人的代币合约时发生。 验证您使用了正确的地址和参数。无效的地址格式将触发一个 4xx 错误。

### 为什么JSON响应被包装在一个“data”数组中？

所有 Token API 响应始终都会在顶级`data`数组中产生结果，即使是单个项目。 这种统一设计，处理地址有多个余额或传输的常见情况。 解析时，肯定要索引到 `data` 数组(例如`const results = response.data`)。

### 为什么作为字符串退回代币数量？

作为字符串返回大的数值(例如代币数量或供应品)，以避免精度损失，因为它们常常超过JavaScript的安全整数范围。 将这些类型转换为大型算术操作。像`十进制`这样的字段作为正常数字提供，以帮助得出可读值。

### 地址应该包含什么格式？

API 接受带有或不带`0x`前缀的40个字符十六进制地址。端点是大小写不敏感的，所以下级和上级十六进制字符都可以工作。 如果您删除前缀，请确保地址正好是40个十六进制数字(20个字节)。 对于合约查询，使用代币的合约地址；对于余额/转账查询，请使用钱包地址。

### 除了身份验证外，我是否需要特殊的块头？

虽然建议使用`Accept:application/json`，但这并不是严格要求的，因为API默认返回json。关键标头是`Authorization：Bearer<token>`。确保你对正确的URL发出GET请求，没有尾随斜线或路径拼写错误（例如，使用`/bances/evm/{address}`而不是`/bancel`）。

### MCP 集成与 Claude/Cline/Cursor 显示了诸如"ENOENT" 或 "服务器断开连接"等错误。我如何解决这个问题？

关于“ENOENT”错误，请确保Node.js 18+ 已安装，并且`npx`/`bunx` 的路径是正确的(请考虑使用配置中的全部路径)。 "服务器断开连接"通常表示身份验证或连接问题——验证您的`ACCESS_TOKEN`设置正确，您的网络允许访问 `https://token-api.thegraph.com/sse`。

### Token API 是否是The Graph的 GraphQL 服务的一部分？

不，Token API 是一个单独的RESTify服务。 不同于传统子图，它提供现成的REST 端点(HTTP GET) 以获取通用代币数据。 您无需写入 GraphQL 查询或部署子图。 在这个场景下，它使用 The Graph的基础设施和MCP 与 AI 进行丰富，但你只是与REST 端点交互。

### 我是否需要使用 MCP 或工具，如Claude、Cline或Cursor？

不，它们是可选的。MCP 是一个高级功能，允许AI 助手通过子流与 API 接口。 对于标准用法，只需使用您的JWT来调用 REST 端点和任意HTTP客户端。 为方便起见，提供了Claude Desktop、Cline bot 和光标IDE集成，但不需要。
