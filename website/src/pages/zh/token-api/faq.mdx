---
title: 代币 API 常见问题
---

获取快速答案以便轻松地与The Graph的高性能代币API进行整合和缩放。

## 通用

### 代币 API 支持什么区块链？

目前，代币API支持Etherum, Binance Smart Chain(BSC), Polygon, Optimism, Base, and Arbitrum One。

### 为什么我的 API 密钥无法从The Graph市场运行？

请务必使用 API 密钥生成的 Access Token ，而不是 API 密钥本身。 在每个API密钥旁边的下拉菜单可以从The Graph市场上的控制板生成访问代币。

### API提供的数据相对于区块链的最新程度如何？

API提供最新最终块的数据。

### 如何验证对代币API的请求？

身份验证是通过 JWT 代币通过The Graph市场获得的。 由 [Pinax](https://pinax.network/en)发布的 JWT代币，The Graph的核心开发者也获得了支持。

### Token API 提供客户端SDK吗？

虽然客户端SDK目前不可用。 请分享您想要在 [Discord](https://discord.gg/graphprotocol)上看到的 SDK 或集成的反馈。

### 未来是否有计划支持更多的区块链？

是的，将来会支持更多的区块链。请分享关于在[Discord](https://discord.gg/graphprotocol)上所需的的反馈。

### 是否有计划提供更接近链头的数据？

是的，正在计划进行改进以提供更接近链头的数据。欢迎反馈到 [Discord](https://discord.gg/graphprotocol)。

### 是否计划支持诸如NFT等其他用途案例？

The Graph生态系统正在积极确定包括NFT在内的额外使用案例的 [roadmap](https://thegraph.com/blog/token-api-the-graph/)。 请提供您想要在 [Discord](https://discord.gg/graphprotocol)上优先级的特定功能的反馈。

## MCP / LLM / AI 主题

### LLM查询是否有时限？

是的。LLM查询的最大时间限制为10秒。

### 是否有已知的与API共用的 LLM清单？

是的，Cline，Cursor，Claude Desktop 已成功整合到 The Graph 的Token API + MCP 服务器。

除此之外，LLM “工作”是否取决于它是否直接支持 MCP 协议(或拥有兼容的插件/适配器)。

### 我在哪里可以找到MCP客户端？

您可以在 [The Graph的仓库](https://github.com/graphprotocol/mcp-client) 中找到MCP客户端的代码。

## 高级主题

### 我有403/401错误。是怎么回事？

检查您是否包含了 `Authorization: Bearer <jwt>` 页眉和正确且未过期的代币。 常见问题包括使用 API 密钥而不是生成一个新的 JWT， 忘记“Bearer”前缀，使用不正确的代币，或完全省略标题。 请确保您复制JWT，正好像The Graph市场提供的。

### 是否有费率限制或使用成本？\*\*

Beta期间，Token API 对授权的开发者是免费的。虽然特定的费率限制没有记录，但存在着合理的节奏来防止滥用。 高请求卷可能会触发HTTP 429 错误。请监视官方公告，以了解Beta以后未来的定价变化。

### 支持哪些网络，以及我如何指定这些网络？

您可以通过 [此链接](https://token-api.thegraph.com/#tag/monitoring/GET/networks)查询可用网络。 完整的网络ID列表被该图接受，可在 [The Graph的网络](https://thegraph.com/docs/en/supported-networks/)上找到。 API支持Ethereum 主机、 Binance Smart Chain、 Base 、 Arbitrum One 、 Optimism 和 Polygon/Matic 。 使用可选的 `net_id` 参数(如：`mainnet`、`bsc`、`base`、`arbitrum-one`、`optim`) 来针对特定的链。 没有此参数，API默认为Ethereum 主网。

### 为什么我只看到10个结果？我怎么能够获得更多的数据？

默认情况下，终点上限输出为10个项目。使用分页参数：`limit` (最多500个)和`page` (1-index)。 例如，设置`limit=50` 以获得50个结果，并为以后的批次增加`page` (例如项目51-100的`page=2`)。

### 如何获取较早的转账历史？

传输端点默认为30天历史记录。要检索更早的事件，请最多增加180天的`年龄`参数(如，`age=180`可以调用六个月转账记录)。超过180 天的转账记录不能在一次调用中获取。

### 空的`数据'：[]`数组是什么意思？

空数据组意味着没有找到匹配查询的记录——不是错误。 当查询钱包时没有任何代币/转账或与没有持有人的代币合约时发生。 验证您使用了正确的地址和参数。无效的地址格式将触发一个 4xx 错误。

### 为什么JSON响应被包装在一个“data”数组中？

所有 Token API 响应始终都会在顶级`data`数组中产生结果，即使是单个项目。 这种统一设计，处理地址有多个余额或传输的常见情况。 解析时，肯定要索引到 `data` 数组(例如`const results = response.data`)。

### 为什么作为字符串退回代币数量？

作为字符串返回大的数值(例如代币数量或供应品)，以避免精度损失，因为它们常常超过JavaScript的安全整数范围。 将这些类型转换为大型算术操作。像`十进制`这样的字段作为正常数字提供，以帮助得出可读值。

### 地址应该包含什么格式？

API 接受带有或不带`0x`前缀的40个字符十六进制地址。端点是大小写不敏感的，所以下级和上级十六进制字符都可以工作。 如果您删除前缀，请确保地址正好是40个十六进制数字(20个字节)。 对于合约查询，使用代币的合约地址；对于余额/转账查询，请使用钱包地址。

### 除了身份验证外，我是否需要特殊的块头？

虽然建议使用`Accept:application/json`，但这并不是严格要求的，因为API默认返回json。关键标头是`Authorization：Bearer<token>`。确保你对正确的URL发出GET请求，没有尾随斜线或路径拼写错误（例如，使用`/bances/evm/{address}`而不是`/bancel`）。

### MCP 集成与 Claude/Cline/Cursor 显示了诸如"ENOENT" 或 "服务器断开连接"等错误。我如何解决这个问题？

关于“ENOENT”错误，请确保Node.js 18+ 已安装，并且`npx`/`bunx` 的路径是正确的(请考虑使用配置中的全部路径)。 "服务器断开连接"通常表示身份验证或连接问题——验证您的`ACCESS_TOKEN`设置正确，您的网络允许访问 `https://token-api.thegraph.com/sse`。

### Token API 是否是The Graph的 GraphQL 服务的一部分？

不，Token API 是一个单独的RESTify服务。 不同于传统子图，它提供现成的REST 端点(HTTP GET) 以获取通用代币数据。 您无需写入 GraphQL 查询或部署子图。 在这个场景下，它使用 The Graph的基础设施和MCP 与 AI 进行丰富，但你只是与REST 端点交互。

### 我是否需要使用 MCP 或工具，如Claude、Cline或Cursor？

不，它们是可选的。MCP 是一个高级功能，允许AI 助手通过子流与 API 接口。 对于标准用法，只需使用您的JWT来调用 REST 端点和任意HTTP客户端。 为方便起见，提供了Claude Desktop、Cline bot 和光标IDE集成，但不需要。
