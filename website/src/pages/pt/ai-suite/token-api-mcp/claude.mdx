---
title: Using Claude Desktop to Access the Token API via MCP
sidebarTitle: Claude Desktop
---

## Pré-requisitos

- [Claude Desktop](https://claude.ai/download) installed.
- A [JWT token](/token-api/quick-start) from [The Graph Market](https://thegraph.market/).
- [`npx`](https://docs.npmjs.com/downloading-and-installing-node-js-and-npm) or [`bunx`](https://bun.sh/) installed and available in your path.
- The `@pinax/mcp` package requires Node 18+, as it relies on built-in `fetch()` / `Headers`, which are not available in Node 17 or older. You may need to specify an exact path to an up-to-date Node version, or uninstall previous versions of Node to ensure `@pinax/mcp` uses the correct version.

## Configuração

Create or edit your `claude_desktop_config.json` file.

- OSX: `~/Library/Application Support/Claude/claude_desktop_config.json`
- Windows: `%APPDATA%\Claude\claude_desktop_config.json`
- Linux: `.config/Claude/claude_desktop_config.json`

**REST-based MCP**

```json label="claude_desktop_config.json"
{
  "mcpServers": {
    "token-api": {
      "command": "npx",
      "args": ["@pinax/mcp", "--remote-url", "https://token-api.mcp.thegraph.com/"],
      "env": {
        "ACCESS_TOKEN": "<https://thegraph.market JWT Access Token>"
      }
    }
  }
}
```

**SQL-based MCP**

```json label="claude_desktop_config.json"
{
  "mcpServers": {
    "token-api": {
      "command": "npx",
      "args": ["@pinax/mcp", "--remote-url", "https://token-api.mcp.thegraph.com/sql"],
      "env": {
        "ACCESS_TOKEN": "<https://thegraph.market JWT Access Token>"
      }
    }
  }
}
```

> [!NOTE] The previous `--sse-url` option is deprecated, use `--remote-url`.

## Troubleshooting

To enable logs for troubleshooting the MCP, add the option `"--verbose", "true"` under `"args"`.

```json label="claude_desktop_config.json"
{
  "mcpServers": {
    "token-api": {
      "command": "npx",
      "args": ["@pinax/mcp", "--remote-url", "https://token-api.mcp.thegraph.com/", "--verbose", "true"],
      "env": {
        "ACCESS_TOKEN": "<https://thegraph.market JWT Access Token>"
      }
    }
  }
}
```

Logs are available under `logs/mcp.log` and `logs/mcp-server-token-api.log` inside the folder of your Claude configuration file.

### ENOENT

![Error dialog in Claude Desktop showing 'ENOENT' system error, indicating the npx/bunx command wasn't found in the system path.](/img/claude-ENOENT.png)

Try to use the full path of the command instead:

- Run `which npx` or `which bunx` in the command line interface to get the path of the command.
- Replace `npx` or `bunx` in the configuration file with the full path (e.g. `/home/user/bin/bunx`).

### Server disconnected

![Connection error notification in Claude Desktop displaying 'Server disconnected' message.](/img/claude-server-disconnect.png)

Double-check your API key. Otherwise, look in your navigator if `https://token-api.mcp.thegraph.com/sse` is reachable.
