---
title: Começo Rápido
---

Learn how to easily build, publish and query a [Subgraph](/subgraphs/developing/developer-faq/#1-what-is-a-subgraph) on The Graph.

## Pré-requisitos

- Uma carteira de criptomoedas
- Um endereço de contrato inteligente numa [rede apoiada](/supported-networks/)
- Ter o [Node.js](https://nodejs.org/) instalado
- Um gestor de pacotes da sua escolha (`npm`, `yarn` ou `pnpm`)

## Como Construir um Subgraph

### 1. Create a Subgraph in Subgraph Studio

Entre no [Subgraph Studio](https://thegraph.com/studio/) e conecte a sua carteira de criptomoedas.

Subgraph Studio lets you create, manage, deploy, and publish Subgraphs, as well as create and manage API keys.

Click "Create a Subgraph". It is recommended to name the Subgraph in Title Case: "Subgraph Name Chain Name".

### 2. Como instalar o Graph CLI

Execute um dos seguintes comandos na sua máquina local:

Uso de [npm](https://www.npmjs.com/):

```sh
npm install -g @graphprotocol/graph-cli@latest
```

Uso de [yarn](https://yarnpkg.com/):

```sh
yarn global add @graphprotocol/graph-cli
```

### 3. Initialize your Subgraph

> You can find commands for your specific Subgraph on the Subgraph page in [Subgraph Studio](https://thegraph.com/studio/).

The `graph init` command will automatically create a scaffold of a Subgraph based on your contract's events.

The following command initializes your Subgraph from an existing contract:

```sh
graph init
```

Se o seu contrato for verificado no scanner de blocos respetivo onde foi implantado (por exemplo, [Etherscan](https://etherscan.io/)), a interface binária de aplicativo será criada na CLI.

When you initialize your Subgraph, the CLI will ask you for the following information:

- **Protocol**: Choose the protocol your Subgraph will be indexing data from.
- **Subgraph slug**: Create a name for your Subgraph. Your Subgraph slug is an identifier for your Subgraph.
- **Directory**: Choose a directory to create your Subgraph in.
- **Ethereum network** (optional): You may need to specify which EVM-compatible network your Subgraph will be indexing data from.
- **Endereço de contrato:** Localize o endereço do contrato inteligente do qual quer solicitar dados por queries.
- **ABI (interface binária de aplicativo):** Se a ABI não estiver preenchida automaticamente, insira-a manualmente como um arquivo JSON.
- **Start Block**: You should input the start block to optimize Subgraph indexing of blockchain data. Locate the start block by finding the block where your contract was deployed.
- **Nome do Contrato:** Insira o nome do seu contrato.
- **Index contract events as entities**: It is suggested that you set this to true, as it will automatically add mappings to your Subgraph for every emitted event.
- **Adicionar outro contrato** (opcional): também é possível adicionar outro contrato.

See the following screenshot for an example for what to expect when initializing your Subgraph:

![Comando do subgraph](/img/CLI-Example.png)

### 4. Edit your Subgraph

The `init` command in the previous step creates a scaffold Subgraph that you can use as a starting point to build your Subgraph.

When making changes to the Subgraph, you will mainly work with three files:

- Manifest (`subgraph.yaml`) - defines what data sources your Subgraph will index.
- Schema (`schema.graphql`) - defines what data you wish to retrieve from the Subgraph.
- Mapeamentos em AssemblyScript (`mapping.ts`) — traduz dados das suas fontes de dados às entidades definidas no schema.

For a detailed breakdown on how to write your Subgraph, check out [Creating a Subgraph](/developing/creating-a-subgraph/).

### 5. Deploy your Subgraph

> Lembre-se: implantar não é o mesmo que editar.

When you **deploy** a Subgraph, you push it to [Subgraph Studio](https://thegraph.com/studio/), where you can test, stage and review it. A deployed Subgraph's indexing is performed by the [Upgrade Indexer](https://thegraph.com/blog/upgrade-indexer/), which is a single Indexer owned and operated by Edge & Node, rather than by the many decentralized Indexers in The Graph Network. A **deployed** Subgraph is free to use, rate-limited, not visible to the public, and meant to be used for development, staging, and testing purposes.

Once your Subgraph is written, run the following commands:

````
```sh
graph codegen && graph build
```
````

Authenticate and deploy your Subgraph. The deploy key can be found on the Subgraph's page in Subgraph Studio.

![Chave de implantação](/img/subgraph-studio-deploy-key.jpg)

````
```sh

graph auth <DEPLOY_KEY>

graph deploy <SUBGRAPH_SLUG>
```
````

A CLI solicitará um rótulo de versão. Recomendamos fortemente que use [controle semântico de versão](https://semver.org/); por exemplo, `0.0.1`.

### 6. Analise o seu subgraph

Se quiser testar o seu subgraph antes de editá-lo, use o [Subgraph Studio](https://thegraph.com/studio/) para:

- Executar um exemplo de query.
- Analisar o seu subgraph no painel de controlo para verificar informações.
- Verificar os registos no painel de controlo para ver se há erros com o seu subgraph. Os registos de um subgraph operacional parecerão com isto:

  ![Logs do subgraph](/img/subgraph-logs-image.png)

### 7. Edite o seu subgraph na The Graph Network

Quando o seu subgraph estiver pronto para um ambiente de produção, ele pode ser editado na rede descentralizada. Editar é uma ação na chain que:

- Torna o seu subgraph disponível para indexação pelos [indexadores](/indexing/overview/) descentralizados na The Graph Network.
- Remove limites de taxa, e torna o seu subgraph disponível a buscas e queries no [Graph Explorer](https://thegraph.com/explorer/).
- Disponibiliza o seu subgraph para curadoria por [Curadores](/resources/roles/curating/).

> Quanto maior a quantia de GRT selecionada por você e outros no seu subgraph, mais os indexadores serão incentivados a indexar o seu subgraph, o que melhora a qualidade do serviço, reduz a latência, e aprimora a redundância de rede para o seu subgraph.

#### Como Editar com o Subgraph Studio

Para editar o seu subgraph, clique no botão Publish ("Editar") no painel de controlo.

![Edite um subgraph no Subgraph Studio](/img/publish-sub-transfer.png)

Selecione a rede onde deseja editar o seu subgraph.

#### Publicação da CLI

Desde a versão 0.73.0, é possível editar o seu subgraph com a Graph CLI.

Abra a `graph-cli`.

Use os seguintes comandos:

````
```sh
graph codegen && graph build
```

Depois,

```sh
graph publish
```
````

3. A window will open, allowing you to connect your wallet, add metadata, and deploy your finalized Subgraph to a network of your choice.

![cli-ui](/img/cli-ui.png)

Para personalizar a sua implantação, veja [Como Editar um Subgraph](/subgraphs/developing/publishing/publishing-a-subgraph/).

#### Adding signal to your Subgraph

1. Para atrair Indexadores de modo a fazer queries no seu subgraph, adicione um sinal de curadoria de GRT a ele.

   - Isto melhora a qualidade do serviço, reduz a latência, e aprimora a redundância e a disponibilidade da rede para o seu subgraph.

2. Se tiverem direito a recompensas por indexação, os Indexadores recebem recompensas em GRT com base na quantia sinalizada.

   - Recomendamos curar pelo menos 3.000 GRT para atrair 3 Indexadores. Verifique a elegibilidade de recompensas com base no uso de funções do subgraph e nas redes apoiadas.

Para saber mais sobre curadoria, clique [aqui](/resources/roles/curating/).

Para economizar gás, é possível selecionar o seu subgraph na mesma transação em que o edita através desta opção:

![Edição de Subgraph](/img/studio-publish-modal.png)

### 8. Consulte o seu Subgraph

Agora, você tem acesso a 100 mil queries grátis por mês com o seu subgraph na The Graph Network!

Agora, é possível solicitar queries do seu subgraph com o envio de queries da GraphQL para o URL de Query do seu subgraph, visível ao clicar no botão Query.

Para mais informações sobre queries de dados do seu subgraph, leia mais [aqui](/subgraphs/querying/introduction/).
