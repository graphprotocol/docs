---
title: Subgraphs
---

## Qu'est-ce qu'un subgraph ?

Un Subgraph est une API ouverte personnalisée qui extrait des données d'une blockchain, les traite et les stocke de manière à ce qu'elles puissent être facilement interrogées via GraphQL.

### Capacités des subgraphs

- **Accès aux données:** Les subgraphs permettent d'interroger et d'indexer les données de la blockchain pour le web3.
- \*\*Les développeurs peuvent créer, déployer et publier des Subgraphs sur The Graph Network. Pour commencer, consultez le [Démarrage rapide] du développeur de Subgraphs (quick-start/).
- **Indexation et interrogation:** Une fois qu'un Subgraph est indexé, tout le monde peut l'interroger. Explorez et interrogez tous les Subgraphs publiés sur le réseau dans [Graph Explorer](https://thegraph.com/explorer).

## À l'intérieur d'un subgraph

The Subgraph manifest, `subgraph.yaml`, defines the smart contracts & network your Subgraph will index, the events from these contracts to pay attention to, and how to map event data to entities that Graph Node stores and allows to query.

The **Subgraph definition** consists of the following files:

- `subgraph.yaml`: Contains the Subgraph manifest

- `schema.graphql`: A GraphQL schema defining the data stored for your Subgraph and how to query it via GraphQL

- `mapping.ts` : [AssemblyScript Mappings](https://github.com/AssemblyScript/assemblyscript) code qui traduit les données d'événements en entités définies dans votre schéma

Pour en savoir plus sur chaque composant du Subgraph, consultez [créer un Subgraph](/developing/creating-a-subgraph/).

## Flux du cycle de vie des subgraphes

Voici un aperçu général du cycle de vie d'un Subgraph :

![Cycle de vie d'un Subgraph](/img/subgraph-lifecycle.png)

## Développement de subgraphs

1. [Créer un Subgraph](/developing/creating-a-subgraph/)
2. [Déployer un Subgraph](/deploying/deploying-a-subgraph-to-studio/)
3. [Tester un Subgraph](/deploying/subgraph-studio/#testing-your-subgraph-in-subgraph-studio)
4. [Publier un Subgraph](/subgraphs/developing/publishing/publishing-a-subgraph/)
5. [Signaler sur un Subgraph](/subgraphs/developing/publishing/publishing-a-subgraph/#adding-signal-to-your-subgraph)

### Développement en local

Les grands subgraphs commencent par un environnement de développement local et des tests unitaires. Les développeurs utilisent [Graph CLI] (https://github.com/graphprotocol/graph-tooling/tree/main/packages/cli), un outil d'interface de ligne de commande pour construire et déployer des subgraphs sur The Graph. Ils peuvent également utiliser [Graph TypeScript](/subgraphs/developing/creating/graph-ts/README/) et [Matchstick](/subgraphs/developing/creating/unit-testing-framework/) pour créer des subgraphs robustes.

### Déployer sur Subgraph Studio

Une fois défini, un Subgraph peut être [déployé dans le Subgraph Studio] (/deploying/deploying-a-subgraph-to-studio/). Dans Subgraph Studio, vous pouvez effectuer les opérations suivantes :

- Utiliser l'environnement d'essai pour indexer le Subgraph déployé et le mettre à disposition pour examen.
- Vérifiez que votre Subgraph ne présente aucune erreur d'indexation et qu'il fonctionne comme prévu.

### Publier sur le réseau

Lorsque vous êtes satisfait de votre Subgraph, vous pouvez le [publier](/subgraphs/developing/publishing/publishing-a-subgraph/) sur The Graph Network.

- Il s'agit d'une action onchain, qui enregistre le Subgraph et le rend accessible aux Indexeurs.
- Les Subgraphs publiés ont un NFT correspondant, qui définit la propriété du Subgraphs. Vous pouvez [transférer la propriété du Subgraph](/subgraphs/developing/managing/transferring-a-subgraph/) en envoyant le NFT.
- Les Subgraph publiés sont associés à des métadonnées qui fournissent aux autres participants du réseau un contexte et des informations utiles.

### Ajouter un signal de curation pour l'indexation

Les Subgraphs publiés ont peu de chances d'être repérés par les Indexeurs s'ils ne sont pas accompagnés d'un signal de curation. Pour encourager l'indexation, vous devez ajouter un signal à votre Subgraph. Pour en savoir plus sur la signalisation et la [curation](/resources/roles/curating/), consultez le site The Graph.

#### Qu'est-ce qu'un signal ?

- Le signal est constitué de GRT verrouillés associés à un Subgrqph donné. Il indique aux Indexeurs qu'un Subgraph donné recevra un volume de requêtes et contribue aux récompenses d'indexation disponibles pour le traiter.
- Les Curateurs tiers peuvent également signaler un Subgraph donné s'ils estiment que ce Subgraph est susceptible de générer un volume de requêtes.

### Intérrogation & Développement d'applications

Les subgraphs sur The Graph Network reçoivent 100 000 requêtes gratuites par mois, après quoi les développeurs peuvent soit [payer les requêtes avec GRT ou une carte de crédit](/subgraphs/billing/).

En savoir plus sur [l'interrogation des Subgraphs](/subgraphs/querying/introduction/).

### Mise à jour des subgraphs

Pour mettre à jour votre Subgraph avec des corrections de bogues ou de nouvelles fonctionnalités, lancez une transaction pour le faire pointer vers la nouvelle version. Vous pouvez déployer les nouvelles versions de vos Subgraph dans le [Subgraph Studio](https://thegraph.com/studio/) à des fins de développement et de test.

- Si vous avez sélectionné "migration automatique" lorsque vous avez appliqué le signal, la mise à jour du Subgraph migrera tout signal vers la nouvelle version et entraînera une taxe de migration.
- Ce signal de migration devrait inciter les Indexeurs à commencer à indexer la nouvelle version du Subgraph, qui devrait donc bientôt pouvoir être consultée.

### Suppression et Transfert de Subgraphs

Si vous n'avez plus besoin d'un Subgraph publié, vous pouvez le [supprimer](/subgraphs/developing/managing/deleting-a-subgraph/) ou le [transférer](/subgraphs/developing/managing/transferring-a-subgraph/). La suppression d'un Subgraph renvoie tout GRT signalé aux [Curateurs](/resources/roles/curating/).
