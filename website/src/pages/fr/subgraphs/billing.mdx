---
title: Facturation
---

## Plans de requêtes

Il existe deux plans à utiliser pour interroger les subgraphs sur The Graph Network.

- **Plan Gratuit (Free Plan)** : Le plan gratuit comprend 100 000 requêtes mensuelles gratuites et un accès complet à l'environnement de test Subgraph Studio. Ce plan est conçu pour les amateurs, les hackathoniens et ceux qui ont des projets parallèles pour essayer The Graph avant de faire évoluer leur dapp.

- **Plan Croissance (Growth Plan)** : Le plan de croissance comprend tout ce qui est inclus dans le plan gratuit avec toutes les requêtes après 100 000 requêtes mensuelles nécessitant des paiements avec des GRT ou par carte de crédit. Le plan de croissance est suffisamment flexible pour couvrir les équipes qui ont établi des dapps à travers une variété de cas d'utilisation.

Learn more about pricing [here](https://thegraph.com/studio-pricing/).

<VideoEmbed title="How to Set Up Billing on The Graph Network" youtube="Nn771WagX2I" />

## Paiements de Requêtes avec Carte de Crédit⁠

- Pour mettre en place la facturation par carte de crédit/débit, les utilisateurs doivent accéder à Subgraph Studio (https://thegraph.com/studio/)
  1. Accédez à la [page de Facturation de Subgraph Studio](https://thegraph.com/studio/subgraphs/billing/).
  2. Cliquez sur le bouton "Connecter le portefeuille" dans le coin supérieur droit de la page. Vous serez redirigé vers la page de sélection des portefeuilles. Sélectionnez votre portefeuille et cliquez sur "Connecter".
  3. Choisissez « Mettre à niveau votre abonnement » si vous effectuez une mise à niveau depuis le plan gratuit, ou choisissez « Gérer l'abonnement » si vous avez déjà ajouté des GRT à votre solde de facturation par le passé. Ensuite, vous pouvez estimer le nombre de requêtes pour obtenir une estimation du prix, mais ce n'est pas une étape obligatoire.
  4. Pour choisir un paiement par carte de crédit, choisissez “Credit card” comme mode de paiement et remplissez les informations de votre carte de crédit. Ceux qui ont déjà utilisé Stripe peuvent utiliser la fonctionnalité Link pour remplir automatiquement leurs informations.
- Les factures seront traitées à la fin de chaque mois et nécessitent une carte de crédit valide enregistrée sur votre compte pour toute requête au-delà du quota du plan gratuit.

## Paiements de Requêtes avec du GRT

Les utilisateurs de subgraphs peuvent utiliser le jeton natif de The Graph (GRT) pour payer les requêtes sur le réseau The Graph. Avec le GRT, les factures seront traitées à la fin de chaque mois et nécessiteront un solde suffisant de GRT pour effectuer des requêtes au-delà du quota du plan gratuit de 100 000 requêtes mensuelles. Vous devrez payer les frais générés par vos clés API. En utilisant le contrat de facturation, vous pourrez :

- Ajoutez et retirez du GRT du solde de votre compte.
- Gardez une trace de vos soldes en fonction du montant de GRT que vous avez ajouté au solde de votre compte, du montant que vous avez supprimé et de vos factures.
- Payez automatiquement les factures en fonction des frais de requête générés, à condition qu'il y ait suffisamment de GRT dans le solde de votre compte.

### GRT sur Arbitrum ou Ethereum

Le système de facturation de The Graph accepte le GRT sur Arbitrum, et les utilisateurs devront disposer d'ETH sur Arbitrum pour payer le gaz. Bien que le protocole The Graph ait commencé sur le réseau principal d'Ethereum, toutes les activités, y compris les contrats de facturation, sont désormais réalisées sur Arbitrum One.

L'utilisation du GRT sur Arbitrum est nécessaire pour le paiement des requêtes. Voici quelques options pour en acquérir :

- Si vous avez déjà des GRT sur Ethereum, vous pouvez les transférer vers Arbitrum. Vous pouvez le faire via l'option de transfert de GRT fournie dans Subgraph Studio ou en utilisant l'un des ponts suivants :

- [Le Bridge Arbitrum](https://bridge.arbitrum.io/?l2ChainId=42161)

- [TransferTo](https://transferto.xyz/swap)

- Si vous possédez déjà des actifs sur Arbitrum, vous pouvez les échanger contre du GRT via un protocole d'échange comme Uniswap.

- Alternativement, vous pouvez acquérir du GRT directement sur Arbitrum via un échange décentralisé.

> Cette section est écrite en supposant que vous avez déjà des GRT dans votre portefeuille, et que vous êtes sur Arbitrum. Si vous n'avez pas de GRT, vous pouvez apprendre à en obtenir [ici](#getting-grt).

Une fois que vous avez transféré du GRT, vous pouvez l'ajouter à votre solde de facturation.

### Ajout de GRT à l'aide d'un portefeuille

1. Accédez à la [page de Facturation de Subgraph Studio](https://thegraph.com/studio/subgraphs/billing/).
2. Cliquez sur le bouton "Connecter le portefeuille" dans le coin supérieur droit de la page. Vous serez redirigé vers la page de sélection des portefeuilles. Sélectionnez votre portefeuille et cliquez sur "Connecter".
3. Cliquez sur le bouton « Manage » situé dans le coin supérieur droit. Les nouveaux utilisateurs verront l'option « Upgrade to Growth plan » (Passer au plan de croissance), tandis que les utilisateurs existants devront sélectionner « Deposit from wallet » (Déposer depuis le portefeuille).
4. Utilisez le curseur pour estimer le nombre de requêtes que vous prévoyez d’effectuer sur une base mensuelle.
   - Pour des suggestions sur le nombre de requêtes que vous pouvez utiliser, consultez notre page **Frequently Asked Questions** (Questions fréquemment posées).
5. Choisissez "Cryptocurrency". Le GRT est actuellement la seule cryptomonnaie acceptée sur le réseau The Graph.
6. Sélectionnez le nombre de mois pour lesquels vous souhaitez effectuer un paiement anticipé.
   - Le paiement anticipé ne vous engage pas sur une utilisation future. Vous ne serez facturé que pour ce que vous utiliserez et vous pourrez retirer votre solde à tout moment.
7. Choisissez le réseau à partir duquel vous déposez vos GRT. Les GRT sur Arbitrum ou Ethereum sont tous deux acceptables.
8. Cliquez sur "Autoriser l'accès au GRT" puis spécifiez le montant de GRT qui peut être prélevé de votre portefeuille.
   - Si vous payez à l'avance pour plusieurs mois, vous devez autoriser l'accès au montant correspondant. Cette interaction ne coûtera aucun gaz.
9. Enfin, cliquez sur « Add GRT to Billing Balance ». Cette transaction nécessitera des ETH sur Arbitrum pour couvrir les coûts du gaz.

- Notez que les GRT déposés depuis Arbitrum seront traités en quelques instants tandis que les GRT déposés depuis Ethereum prendront environ 15-20 minutes pour être traités. Une fois la transaction confirmée, vous verrez les GRT ajoutés à votre solde de compte.

### Retirer des GRT en utilisant un portefeuille

1. Accédez à la [page de Facturation de Subgraph Studio](https://thegraph.com/studio/subgraphs/billing/).
2. Cliquez sur le bouton "Connect Wallet" dans le coin supérieur droit de la page. Sélectionnez votre portefeuille et cliquez sur "Connect".
3. Cliquez sur le bouton « Gérer » dans le coin supérieur droit de la page. Sélectionnez « Retirer des GRT ». Un panneau latéral apparaîtra.
4. Entrez le montant de GRT que vous voudriez retirer.
5. Cliquez 'Withdraw GRT' pour retirer les GRT de votre solde de compte. Signez la transaction associée dans votre portefeuille. Cela coûtera du gaz. Les GRT seront envoyés à votre portefeuille Arbitrum.
6. Une fois que la transaction est confirmée, vous verrez le GRT qu'on a retiré de votre solde du compte dans votre portefeuille Arbitrum.

### Ajout de GRT à l'aide d'un portefeuille multisig

1. Accédez à la [page de Facturation de Subgraph Studio] (https://thegraph.com/studio/subgraphs/billing/).
2. Cliquez sur le bouton "Connecter votre Portefeuille" dans le coin supérieur droit de la page. Sélectionnez votre portefeuille et cliquez sur "Connecter". Si vous utilisez [Gnosis-Safe](https://gnosis-safe.io/), vous pourrez connecter votre portefeuille multisig ainsi que votre portefeuille de signature. Ensuite, signez le message associé. Cela ne coûtera pas de gaz.
3. Cliquez sur le bouton « Manage » situé dans le coin supérieur droit. Les nouveaux utilisateurs verront l'option « Upgrade to Growth plan » (Passer au plan de croissance), tandis que les utilisateurs existants devront sélectionner « Deposit from wallet » (Déposer depuis le portefeuille).
4. Utilisez le curseur pour estimer le nombre de requêtes que vous prévoyez d’effectuer sur une base mensuelle.
   - Pour des suggestions sur le nombre de requêtes que vous pouvez utiliser, consultez notre page **Frequently Asked Questions** (Questions fréquemment posées).
5. Choisissez "Cryptocurrency". Le GRT est actuellement la seule cryptomonnaie acceptée sur le réseau The Graph.
6. Sélectionnez le nombre de mois pour lesquels vous souhaitez effectuer un paiement anticipé.
   - Le paiement anticipé ne vous engage pas sur une utilisation future. Vous ne serez facturé que pour ce que vous utiliserez et vous pourrez retirer votre solde à tout moment.
7. Choisissez le réseau à partir duquel vous déposez vos GRT. Les GRT sur Arbitrum ou Ethereum, les deux sont acceptables. 8. Cliquez sur "Allow GRT Access", et puis spécifiez le montant de GRT qui peut être prélevé de votre portefeuille.
   - Si vous payez à l'avance pour plusieurs mois, vous devez autoriser l'accès au montant correspondant. Cette interaction ne coûtera aucun gaz.
8. Enfin, cliquez sur « Add GRT to Billing Balance ». Cette transaction nécessitera des ETH sur Arbitrum pour couvrir les coûts du gaz.

- Notez que les GRT déposés depuis Arbitrum seront traités en quelques instants tandis que les GRT déposés depuis Ethereum prendront environ 15-20 minutes pour être traités. Une fois la transaction confirmée, vous verrez les GRT ajoutés à votre solde de compte.

## Obtenir du GRT

Cette section vous montrera comment obtenir du GRT pour payer les frais de requête.

### Coinbase

Voici un guide étape par étape pour acheter de GRT sur Coinbase.

1. Allez sur [Coinbase](https://www.coinbase.com/) et créez un compte.
2. Dès que vous aurez créé un compte, vous devrez vérifier votre identité par le biais d'un processus connu sous le nom de KYC (Know Your Customer ou Connaître Votre Client). Il s'agit d'une procédure standard pour toutes les plateformes d'échange de crypto-monnaies centralisées ou dépositaires.
3. Une fois votre identité vérifiée, vous pouvez acheter des GRT. Pour ce faire, cliquez sur le bouton « Acheter/Vendre » en haut à droite de la page.
4. Sélectionnez la devise que vous souhaitez acheter. Sélectionnez GRT.
5. Sélectionnez le mode de paiement. Sélectionnez votre mode de paiement préféré.
6. Sélectionnez la quantité de GRT que vous souhaitez acheter.
7. Vérifiez votre achat. Vérifiez votre achat et cliquez sur "Buy GRT".
8. Confirmez votre achat. Confirmez votre achat et vous aurez acheté des GRT avec succès.
9. Vous pouvez transférer les GRT de votre compte à votre portefeuille tel que [MetaMask](https://metamask.io/).
   - Pour transférer les GRT dans votre portefeuille, cliquez sur le bouton "Accounts" en haut à droite de la page.
   - Cliquez sur le bouton "Send" à côté du compte GRT.
   - Entrez le montant de GRT que vous souhaitez envoyer et l'adresse du portefeuille vers laquelle vous souhaitez l'envoyer.
   - Cliquez sur "Continue" et confirmez votre transaction. -Veuillez noter que pour des montants d'achat plus importants, Coinbase peut vous demander d'attendre 7 à 10 jours avant de transférer le montant total vers un portefeuille.

Vous pouvez en savoir plus sur l'acquisition de GRT sur Coinbase [ici](https://help.coinbase.com/en/coinbase/trading-and-funding/buying-selling-or-converting-crypto/how-do-i-buy-digital-currency).

### Binance

Ceci est un guide étape par étape pour l'achat des GRT sur Binance.

1. Allez sur [Binance](https://www.binance.com/en) et créez un compte.
2. Dès que vous aurez créé un compte, vous devrez vérifier votre identité par le biais d'un processus connu sous le nom de KYC (Know Your Customer ou Connaître Votre Client). Il s'agit d'une procédure standard pour toutes les plateformes d'échange de crypto-monnaies centralisées ou dépositaires.
3. Une fois votre identité vérifiée, vous pouvez acheter des GRT. Pour ce faire, cliquez sur le bouton « Acheter maintenant » sur la bannière de la page d'accueil.
4. Vous accéderez à une page où vous pourrez sélectionner la devise que vous souhaitez acheter. Sélectionnez GRT.
5. Choisissez votre mode de paiement préféré. Vous pourrez payer avec différentes devises fiduciaires telles que l'euro, le dollar américain, etc.
6. Sélectionnez la quantité de GRT que vous souhaitez acheter.
7. Confirmez votre achat et cliquez sur « Acheter des GRT ».
8. Confirmez votre achat et vous pourrez voir vos GRT dans votre portefeuille Binance Spot.
9. Vous pouvez retirer les GRT de votre compte vers votre portefeuille tel que [MetaMask](https://metamask.io/).
   - [Pour retirer](https://www.binance.com/en/blog/ecosystem/how-to-transfer-crypto-from-binance-to-trust-wallet-8305050796630181570) les GRT dans votre portefeuille, ajoutez l'adresse de votre portefeuille à la liste blanche des retraits.
   - Cliquez sur le bouton « portefeuille », cliquez sur retrait et sélectionnez GRT.
   - Saisissez le montant de GRT que vous souhaitez envoyer et l'adresse du portefeuille sur liste blanche à laquelle vous souhaitez l'envoyer.
   - Cliquer sur « Continuer » et confirmez votre transaction.

Vous pouvez en savoir plus sur l'achat de GRT sur Binance [ici](https://www.binance.com/en/support/faq/how-to-buy-cryptocurrency-on-binance-homepage-400c38f5e0cd4b46a1d0805c296b5582).

### Uniswap

Voici comment vous pouvez acheter des GRT sur Uniswap.

1. Allez sur [Uniswap](https://app.uniswap.org/swap?chain=arbitrum) et connectez votre portefeuille.
2. Sélectionnez le jeton dont vous souhaitez échanger. Sélectionnez ETH.
3. Sélectionnez le jeton vers lequel vous souhaitez échanger. Sélectionnez GRT.
   - Assurez-vous que vous échangez contre le bon jeton. L'adresse du contrat intelligent GRT sur Arbitrum One est la suivante : [0x9623063377AD1B27544C965cCd7342f7EA7e88C7](https://arbiscan.io/token/0x9623063377ad1b27544c965ccd7342f7ea7e88c7)
4. Entrez le montant d'ETH que vous souhaitez échanger.
5. Cliquez sur « Échanger ».
6. Confirmez la transaction dans votre portefeuille et attendez qu'elle soit traitée.

Vous pouvez en savoir plus sur l'obtention de GRT sur Uniswap [ici](https://support.uniswap.org/hc/en-us/articles/8370549680909-How-to-Swap-Tokens-).

## Obtenir de l'Ether⁠

Cette section vous montrera comment obtenir de l'Ether (ETH) pour payer les frais de transaction ou les coûts de gaz. L'ETH est nécessaire pour exécuter des opérations sur le réseau Ethereum telles que le transfert de jetons ou l'interaction avec des contrats.

### Coinbase

Ce sera un guide étape par étape pour acheter de l'ETH sur Coinbase.

1. Allez sur [Coinbase](https://www.coinbase.com/) et créez un compte.
2. Une fois que vous avez créé un compte, vérifiez votre identité via un processus appelé KYC (ou Know Your Customer). l s'agit d'une procédure standard pour toutes les plateformes d'échange de crypto-monnaies centralisées ou dépositaires.
3. Une fois que vous avez vérifié votre identité, achetez de l'ETH en cliquant sur le bouton « Acheter/Vendre » en haut à droite de la page.
4. Choisissez la devise que vous souhaitez acheter. Sélectionnez ETH.
5. Sélectionnez votre mode de paiement préféré.
6. Entrez le montant d'ETH que vous souhaitez acheter.
7. Vérifiez votre achat et cliquez sur « Acheter des Ethereum ».
8. Confirmez votre achat et vous aurez acheté avec succès de l'ETH.
9. Vous pouvez transférer les ETH de votre compte Coinbase vers votre portefeuille tel que [MetaMask](https://metamask.io/).
   - Pour transférer l'ETH vers votre portefeuille, cliquez sur le bouton « Comptes » en haut à droite de la page.
   - Cliquez sur le bouton « Envoyer » à côté du compte ETH.
   - Entrez le montant d'ETH que vous souhaitez envoyer et l'adresse du portefeuille vers lequel vous souhaitez l'envoyer.
   - Assurez-vous que vous envoyez à votre adresse de portefeuille Ethereum sur Arbitrum One.
   - Cliquer sur « Continuer » et confirmez votre transaction.

Vous pouvez en savoir plus sur l'obtention d'ETH sur Coinbase [ici](https://help.coinbase.com/en/coinbase/trading-and-funding/buying-selling-or-converting-crypto/how-do-i-buy-digital-currency).

### Binance

Ce sera un guide étape par étape pour acheter des ETH sur Binance.

1. Allez sur [Binance](https://www.binance.com/en) et créez un compte.
2. Une fois que vous avez créé un compte, vérifiez votre identité via un processus appelé KYC (ou Know Your Customer). l s'agit d'une procédure standard pour toutes les plateformes d'échange de crypto-monnaies centralisées ou dépositaires.
3. Une fois que vous avez vérifié votre identité, achetez des ETH en cliquant sur le bouton « Acheter maintenant » sur la bannière de la page d'accueil.
4. Choisissez la devise que vous souhaitez acheter. Sélectionnez ETH.
5. Sélectionnez votre mode de paiement préféré.
6. Entrez le montant d'ETH que vous souhaitez acheter.
7. Vérifiez votre achat et cliquez sur « Acheter des Ethereum ».
8. Confirmez votre achat et vous verrez votre ETH dans votre portefeuille Binance Spot.
9. Vous pouvez retirer les ETH de votre compte vers votre portefeuille tel que [MetaMask](https://metamask.io/).
   - Pour retirer l'ETH vers votre portefeuille, ajoutez l'adresse de votre portefeuille à la liste blanche de retrait.
   - Cliquez sur le bouton « portefeuille », cliquez sur retirer et sélectionnez ETH.
   - Entrez le montant d'ETH que vous souhaitez envoyer et l'adresse du portefeuille sur liste blanche à laquelle vous souhaitez l'envoyer.
   - Assurez-vous que vous envoyez à votre adresse de portefeuille Ethereum sur Arbitrum One.
   - Cliquer sur « Continuer » et confirmez votre transaction.

Vous pouvez en savoir plus sur l'achat d'ETH sur Binance [ici](https://www.binance.com/en/support/faq/how-to-buy-cryptocurrency-on-binance-homepage-400c38f5e0cd4b46a1d0805c296b5582).

## FAQ sur la facturation

### De combien de requêtes aurai-je besoin ?

Vous n'avez pas besoin de savoir à l'avance combien de requêtes vous aurez besoin. Vous ne serez facturé que pour ce que vous utilisez et vous pourrez retirer des GRT de votre compte à tout moment.

Nous vous recommandons de surestimer le nombre de requêtes dont vous aurez besoin afin de ne pas avoir à recharger votre solde fréquemment. Pour les applications de petite et moyenne taille, une bonne estimation consiste à commencer par 1 à 2 millions de requêtes par mois et à surveiller de près l'utilisation au cours des premières semaines. Pour les applications plus grandes, une bonne estimation consiste à utiliser le nombre de visites quotidiennes que reçoit votre site multiplié par le nombre de requêtes que votre page la plus active effectue à son ouverture.

Bien entendu, les nouveaux utilisateurs et les utilisateurs existants peuvent contacter l'équipe BD d'Edge & Node pour une consultation afin d'en savoir plus sur l'utilisation prévue.

### Puis-je retirer du GRT de mon solde de facturation ?

Oui, vous pouvez toujours retirer de votre solde de facturation les GRT qui n'ont pas encore été utilisés pour des requêtes. Le contrat de facturation est uniquement conçu pour faire le bridge entre les GRT du réseau principal Ethereum et le réseau Arbitrum. Si vous souhaitez transférer vos GRT d'Arbitrum vers le réseau principal Ethereum, vous devrez utiliser le [Bridge Arbitrum](https://bridge.arbitrum.io/?l2ChainId=42161).

### Que se passe-t-il lorsque mon solde de facturation est épuisé ? Vais-je recevoir un avertissement ?

Vous recevrez plusieurs notifications par e-mail avant que votre solde de facturation ne soit épuisé.
