---
title: Démarrage rapide
---

Create, deploy, and query a [Subgraph](/subgraphs/developing/developer-faq/#1-what-is-a-subgraph) on The Graph Network.

By the end, you'll have:

- Initialized a Subgraph from a smart contract
- Deployed it to Subgraph Studio for testing
- Published to The Graph Network for decentralized indexing

## Prérequis

- Un portefeuille crypto
- A deployed smart contract on a [supported network](/supported-networks/)
- [Node.js](https://nodejs.org/) & a package manager of your choice (`npm`, `yarn` or `pnpm`)

## Comment construire un subgraph

### 1. Créer un subgraph dans Subgraph Studio

1. Go to [Subgraph Studio](https://thegraph.com/studio/)
2. Connect your wallet
3. Click "Create a Subgraph"
4. Name it in Title Case: "Subgraph Name Chain Name"

### 2. Installez la CLI Graph

Sur votre machine locale, exécutez l'une des commandes suivantes :

Utilisation de [npm](https://www.npmjs.com/) :

```sh
npm install -g @graphprotocol/graph-cli@latest
```

Using [yarn](https://yarnpkg.com/):

```sh
yarn global add @graphprotocol/graph-cli
```

Verify install:

```sh
graph --version
```

### 3. Initialiser votre subgraph

> You can find commands for your specific Subgraph in [Subgraph Studio](https://thegraph.com/studio/).

The following command initializes your Subgraph from an existing contract and indexes events:

```sh
graph init
```

Lorsque vous initialisez votre subgraph, la CLI vous demande les informations suivantes :

- **Protocole** : Choisissez le protocole à partir duquel votre subgraph indexera les données.
- **Subgraph slug** : Créez un nom pour votre subgraphe. Votre nom de subgraph est un Identifiant pour votre subgraph.
- **Répertoire** : Choisissez un répertoire dans lequel créer votre Subgraph.
- **Réseau Ethereum** (optionnel) : Vous pouvez avoir besoin de spécifier le réseau compatible EVM à partir duquel votre subgraph indexera les données.
- **Adresse du contrat** : Localisez l'adresse du contrat intelligent dont vous souhaitez interroger les données.
- **ABI** : Si l'ABI n'est pas renseigné automatiquement, vous devrez le saisir manuellement sous la forme d'un fichier JSON.
- **Start Block**: You should input the start block where the contract was deployed to optimize Subgraph indexing of blockchain data.
- **Nom du contrat** : Saisissez le nom de votre contrat.
- **Indexer les événements contractuels comme des entités** : Il est conseillé de mettre cette option à true, car elle ajoutera automatiquement des mappages à votre subgraph pour chaque événement émis.
- **Ajouter un autre contrat** (facultatif) : Vous pouvez ajouter un autre contrat.

See the following screenshot for an example of what to expect when initializing your Subgraph:

![Commande de subgraph](/img/CLI-Example.png)

### 4. Modifiez votre subgraph

Lorsque vous modifiez le Subgraph, vous travaillez principalement avec trois fichiers :

- Manifest (`subgraph.yaml`) - définit les sources de données que votre Subgraph indexera.
- Schema (`schema.graphql`) - définit les données que vous souhaitez extraire du Subgraph.
- AssemblyScript Mappings (`mapping.ts`) - translates data from your data sources to the entities defined in the schema.

Pour une description détaillée de la manière d'écrire votre Subgraph, consultez [Créer un Subgraph](/developing/creating-a-subgraph/).

### 5. Déployez votre Subgraph

When you **deploy** a Subgraph, you push it to [Subgraph Studio](https://thegraph.com/studio/), where you can test, stage and review it. A deployed Subgraph's indexing is performed by the [Upgrade Indexer](https://thegraph.com/blog/upgrade-indexer/), which is a single Indexer owned and operated by Edge & Node. A **deployed** Subgraph is free to use, rate-limited, not visible to the public, and meant to be used for development, staging, and testing purposes.

Une fois que votre Subgraph est écrit, exécutez les commandes suivantes :

````
```sh
graph codegen && graph build
```
````

Authentifiez et déployez votre Subgraph. La clé de déploiement se trouve sur la page du Subgraph dans Subgraph Studio.

![Clé de déploiement](/img/subgraph-studio-deploy-key.jpg)

````
```sh

graph auth <DEPLOY_KEY>

graph deploy <SUBGRAPH_SLUG>
```
````

### 6. Examinez votre subgraph

Si vous souhaitez tester votre subgraph avant de le publier, vous pouvez utiliser [Subgraph Studio](https://thegraph.com/studio/) pour effectuer les opérations suivantes :

- Exécuter un exemple de requête.
- Analysez votre subgraph dans le tableau de bord pour vérifier les informations.
- Vérifiez les logs sur le tableau de bord pour voir s'il y a des erreurs avec votre subgraph. Les logs d'un subgraph opérationnel ressemblent à ceci :

  ![Logs du subgraph](/img/subgraph-logs-image.png)

### 7. Publier votre subgraph sur The Graph Network

Lorsque votre subgraph est prêt pour un environnement de production, vous pouvez le publier sur le réseau décentralisé. La publication est une action onchain qui effectue les opérations suivantes :

- Il rend votre subgraph disponible pour être indexé par les [Indexeurs](/indexing/overview/) décentralisés sur The Graph Network.
- Il supprime les limites de taux et rend votre subgraph publiquement consultable et interrogeable dans [Graph Explorer](https://thegraph.com/explorer/).
- It makes your Subgraph available for [Curators](/resources/roles/curating/) to add curation signal.

To publish your Subgraph, click the Publish button in the dashboard and select your network.

![Publier un subgraph sur Subgraph Studio](/img/publish-sub-transfer.png)

> It is recommended that you curate your own Subgraph with at least 3,000 GRT to incentivize indexing.

Pour économiser des frais de gas, vous pouvez créer votre subgraph dans la même transaction que vous le publiez en sélectionnant cette option :

![Publication de subgraph](/img/studio-publish-modal.png)

### 8. Interroger votre subgraph

Vous avez maintenant accès à 100 000 requêtes gratuites par mois avec votre subgraph sur The Graph Network !

Vous pouvez interroger votre subgraph en envoyant des requêtes GraphQL à son URL de requête, que vous trouverez en cliquant sur le bouton Requête.

Pour plus d'informations sur l'interrogation des données de votre subgraph, lisez [Interroger The Graph](/subgraphs/querying/introduction/).
