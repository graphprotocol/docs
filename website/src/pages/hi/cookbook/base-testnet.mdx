---
title: आधार पर सबग्राफ बनाना
---

यह गाइड आपको बेस टेस्टनेट पर अपना सबग्राफ इनिशियलाइज़ करने, बनाने और तैनात करने के बारे में जल्दी से बताएगी।

आपको किस चीज़ की ज़रूरत पड़ेगी:

- एक बेस टेस्टनेट अनुबंध पता
- एक क्रिप्टो वॉलेट (जैसे मेटामास्क या कॉइनबेस वॉलेट)

## सबग्राफ स्टूडियो

### 1. ग्राफ़ सीएलआई इनस्टॉल करें

ग्राफ़ सीएलआई (>=v0.41.0) JavaScript में लिखा गया है और इसका उपयोग करने के लिए आपको या तो `npm` या `यार्न` स्थापित करने की आवश्यकता होगी।

```sh
# NPM
npm install -g @graphprotocol/graph-cli

# Yarn
yarn global add @graphprotocol/graph-cli
```

### 2. सबग्राफ स्टूडियो में अपना सबग्राफ बनाएं

[सबग्राफ स्टूडियो](https://thegraph.com/studio/) पर जाएं और अपने क्रिप्टो वॉलेट को कनेक्ट करें।

कनेक्ट होने के बाद, "एक सबग्राफ बनाएं" पर क्लिक करें और अपने सबग्राफ के लिए एक नाम दर्ज करें।

ब्लॉकचेनअनुक्रमित ब्लॉकचेन के रूप में "बेस (टेस्टनेट)" का चयन करें और क्रिएट सबग्राफ पर क्लिक करें।

### 3. अपना सबग्राफ इनिशियलाइज़ करें

> आप सबग्राफ स्टूडियो में अपने सबग्राफ के लिए विशिष्ट कमांड पा सकते हैं।

सुनिश्चित करें कि ग्राफ़-क्ली को नवीनतम (0.41.0 से ऊपर) में अपडेट किया गया है

```sh
graph --version
```

मौजूदा कॉन्ट्रैक्ट से अपना सबग्राफ इनिशियलाइज़ करें।

```sh
graph init --studio <SUBGRAPH_SLUG>
```

आपका सबग्राफ स्लग आपके सबग्राफ के लिए एक पहचानकर्ता है। सीएलआई उपकरण आपको एक सबग्राफ बनाने के चरणों के बारे में बताएगा, जिसमें निम्न शामिल हैं:

- प्रोटोकॉल: एथेरियम
- सबग्राफ स्लग: `<SUBGRAPH_SLUG>`
- सबग्राफ बनाने के लिए निर्देशिका: `<SUBGRAPH_SLUG>`
- एथेरियम नेटवर्क: बेस-टेस्टनेट \_ अनुबंध पता: `<CONTRACT_ADDRESS>`
- स्टार्ट ब्लॉक (वैकल्पिक)
- अनुबंध का नाम: `<CONTRACT_NAME>`
- इंडेक्सिंग इवेंट्स के लिए हां/नहीं (हां का मतलब है कि आपका सबग्राफ स्कीमा में इकाइयों के साथ बूटस्ट्रैप किया जाएगा और उत्सर्जित घटनाओं के लिए सरल मैपिंग)

### 3. अपना सबग्राफ लिखें

> यदि उत्सर्जित ईवेंट ही एकमात्र ऐसी चीज़ है जिसे आप अनुक्रमित करना चाहते हैं, तो किसी अतिरिक्त कार्य की आवश्यकता नहीं है, और आप अगले चरण पर जा सकते हैं।

पिछला कमांड एक स्कैफोल्ड सबग्राफ बनाता है जिसे आप अपना सबग्राफ बनाने के लिए शुरुआती बिंदु के रूप में उपयोग कर सकते हैं। सबग्राफ में बदलाव करते समय, आप मुख्य रूप से तीन फाइलों के साथ काम करेंगे:

- मेनिफेस्ट (subgraph.yaml) - मेनिफेस्ट परिभाषित करता है कि आपके सबग्राफ को कौन से डेटा स्रोत इंडेक्स करेंगे। बेस टेस्टनेट पर अपने सबग्राफ को तैनात करने के लिए मेनिफेस्ट फ़ाइल में नेटवर्क नाम के रूप में 'बेस-टेस्टनेट' जोड़ना सुनिश्चित करें।
- स्कीमा (schema.graphql) - ग्राफक्यूएल स्कीमा परिभाषित करता है कि आप सबग्राफ से कौन सा डेटा प्राप्त करना चाहते हैं।
- असेंबलीस्क्रिप्ट मैपिंग (mapping.ts) - यह वह कोड है जो स्कीमा में परिभाषित इकाई के लिए आपके डेटा सोर्स से डेटा का अनुवाद करता है।

यदि आप अतिरिक्त डेटा को अनुक्रमित करना चाहते हैं, तो आपको मेनिफेस्ट, स्कीमा और मैपिंग का विस्तार करने की आवश्यकता होगी।

अपना सबग्राफ कैसे लिखना है, इस बारे में अधिक जानकारी के लिए, [Creating a Subgraph](/developing/creating-a-subgraph).

### 4. सबग्राफ स्टूडियो में तैनात करें

इससे पहले कि आप अपना सबग्राफ तैनात कर सकें, आपको सबग्राफ स्टूडियो से प्रमाणित करना होगा। आप निम्न आदेश चलाकर ऐसा कर सकते हैं:

स्टूडियो पर सबग्राफ को प्रमाणित करें

```
graph auth --studio <DEPLOY_KEY>
```

अगला, अपने सबग्राफ की निर्देशिका दर्ज करें।

```
    cd <SUBGRAPH_DIRECTORY>
```

निम्नलिखित कमांड के साथ अपना सबग्राफ बनाएं:

````
```
graph codegen && graph build
```
````

अंत में, आप इस आदेश का उपयोग करके अपना सबग्राफ तैनात कर सकते हैं:

````
```
graph deploy --studio <SUBGRAPH_SLUG>
```
````

### 5. अपना सबग्राफ पूछें

एक बार आपका सबग्राफ तैनात हो जाने के बाद, आप सबग्राफ स्टूडियो में `डेवलपमेंट क्वेरी URL` का उपयोग करके इसे अपने डैप से क्वेरी कर सकते हैं।

नोट - स्टूडियो एपीआई दर-सीमित है। इसलिए अधिमानतः विकास और परीक्षण के लिए उपयोग किया जाना चाहिए।

अपने सबग्राफ से डेटा क्वेरी करने के बारे में अधिक जानने के लिए, [क्वेरीइंग ए सबग्राफ](/क्वेरी/क्वेरी-द-ग्राफ) पेज देखें।
