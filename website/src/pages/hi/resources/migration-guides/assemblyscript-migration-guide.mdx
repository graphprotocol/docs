---
title: рдЕрд╕реЗрдВрдмрд▓реАрд╕реНрдХреНрд░рд┐рдкреНрдЯ рдорд╛рдЗрдЧреНрд░реЗрд╢рди рдЧрд╛рдЗрдб
---

рдЕрдм рддрдХ, рд╕рдмрдЧреНрд░рд╛рдл  рдиреЗ [AssemblyScript рдХреЗ рд╢реБрд░реБрдЖрддреА рд╕рдВрд╕реНрдХрд░рдгреЛрдВ](https://github.com/AssemblyScript/assemblyscript/tree/v0.6) рдореЗрдВ рд╕реЗ рдПрдХ (v0.6) рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рд╣реИред рдЖрдЦрд┐рд░рдХрд╛рд░, рд╣рдордиреЗ [рдирд╡реАрдирддрдо рдЙрдкрд▓рдмреНрдз рд╕рдВрд╕реНрдХрд░рдг](https://github.com/AssemblyScript/assemblyscript/tree/v0.19.10)(v0.19.10) рдХреЗ рд▓рд┐рдП рд╕рдорд░реНрдерди рдЬреЛрдбрд╝ рджрд┐рдпрд╛ рд╣реИ! ЁЯОЙ

рдпрд╣ рд╕рдмрдЧреНрд░рд╛рдл рдбреЗрд╡рд▓рдкрд░реНрд╕ рдХреЛ AS рднрд╛рд╖рд╛ рдФрд░ рд╕реНрдЯреИрдВрдбрд░реНрдб рд▓рд╛рдЗрдмреНрд░реЗрд░реА рдХреА рдирдИ рд╡рд┐рд╢реЗрд╖рддрд╛рдУрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдореЗрдВ рд╕рдХреНрд╖рдо рдмрдирд╛рдПрдЧрд╛ред

рдпрд╣ рдорд╛рд░реНрдЧрджрд░реНрд╢рдХ рдЙрди рд╕рднреА рд▓реЛрдЧреЛрдВ рдХреЗ рд▓рд┐рдП рд▓рд╛рдЧреВ рд╣реИ рдЬреЛ `graph-cli`/`graph-ts` рдХрд╛ рд╕рдВрд╕реНрдХрд░рдг `0.22.0` рд╕реЗ рдХрдо рдЙрдкрдпреЛрдЧ рдХрд░ рд░рд╣реЗ рд╣реИрдВред рдпрджрд┐ рдЖрдк рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдЗрд╕ рд╕рдВрд╕реНрдХрд░рдг (рдпрд╛ рдЙрд╕рд╕реЗ рдЙрдЪреНрдЪ) рдкрд░ рд╣реИрдВ, рддреЛ рдЖрдк рдкрд╣рд▓реЗ рд╕реЗ рд╣реА AssemblyScript рдХреЗ рд╕рдВрд╕реНрдХрд░рдг `0.19.10` рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд░рд╣реЗ рд╣реИрдВ ЁЯЩВ

> рдзреНрдпрд╛рди рджреЗрдВ: `0.24.0` рд╕рдВрд╕реНрдХрд░рдг рд╕реЗ, `graph-node` рджреЛрдиреЛрдВ рд╕рдВрд╕реНрдХрд░рдгреЛрдВ рдХрд╛ рд╕рдорд░реНрдерди рдХрд░ рд╕рдХрддрд╛ рд╣реИ, рдЬреЛ apiVersion рджреНрд╡рд╛рд░рд╛ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рдЬреЛ рд╕рдмрдЧреНрд░рд╛рдл рдореИрдирд┐рдлреЗрд╕реНрдЯ рдореЗрдВ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рд╣реЛрддрд╛ рд╣реИред

## рд╡рд┐рд╢реЗрд╖рддрд╛рдПрдБ

### рдирдИ рдХрд╛рд░реНрдпрдХреНрд╖рдорддрд╛

- `TypedArray` рдХреЛ рдЕрдм `ArrayBuffer` рд╕реЗ рдмрдирд╛рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ[ рдирдП `wrap` static method ](https://www.assemblyscript.org/stdlib/typedarray.html#static-members)рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ ([v0.8.1]
  (https://github.com/AssemblyScript/assemblyscript/releases/tag/v0.8.1))ред
- рдирдИ рдорд╛рдирдХ рд▓рд╛рдЗрдмреНрд░реЗрд░реА рдлрд╝рдВрдХреНрд╢рди: `String#toUpperCase`, `String#toLowerCase`, `String#localeCompare` рдФрд░ `TypedArray#set` ([v0.9.0](https://github.com/AssemblyScript/assemblyscript/releases/tag/v0.9.0))
- GenericClass рдХреЗ рд▓рд┐рдП x instanceof рд╕рдорд░реНрдерди рдЬреЛрдбрд╝рд╛ рдЧрдпрд╛ ([v0.9.2](https://github.com/AssemblyScript/assemblyscript/releases/tag/v0.9.2))
- `StaticArray<T>` рдЬреЛ рдПрдХ рдЕрдзрд┐рдХ рдХреБрд╢рд▓ array рдкреНрд░рдХрд╛рд░ рд╣реИ, рдЬреЛрдбрд╝рд╛ рдЧрдпрд╛ ([v0.9.3](https://github.com/AssemblyScript/assemblyscript/releases/tag/v0.9.3))
- `Array<T>#flat` рдЬреЛрдбрд╝рд╛ рдЧрдпрд╛ ([v0.10.0](https://github.com/AssemblyScript/assemblyscript/releases/tag/v0.10.0))
- `Number#toString` рдкрд░ `radix` рдЖрд░реНрдЧреБрдореЗрдВрдЯ рд▓рд╛рдЧреВ рдХрд┐рдпрд╛ ([v0.10.1](https://github.com/AssemblyScript/assemblyscript/releases/tag/v0.10.1))
- рдлреНрд▓реЛрдЯрд┐рдВрдЧ рдкреЙрдЗрдВрдЯ рд▓рд┐рдЯрд░рд▓реНрд╕ рдореЗрдВ рд╕реЗрдкрд░реЗрдЯрд░реНрд╕ рдХреЗ рд▓рд┐рдП рд╕рдорд░реНрдерди рдЬреЛрдбрд╝рд╛ рдЧрдпрд╛ ([v0.13.7](https://github.com/AssemblyScript/assemblyscript/releases/tag/v0.13.7))
- рдкрд╣рд▓реА рд╢реНрд░реЗрдгреА рдХреЗ рдлрд╝рдВрдХреНрд╢рдиреНрд╕ рдХреЗ рд▓рд┐рдП рд╕рдорд░реНрдерди рдЬреЛрдбрд╝рд╛ рдЧрдпрд╛ ([v0.14.0](https://github.com/AssemblyScript/assemblyscript/releases/tag/v0.14.0))
- рдмрд┐рд▓реНрдЯ-рдЗрди рдЬреЛрдбрд╝реЗрдВ: `i32/i64/f32/f64.add/sub/mul` ([v0.14.13](https://github.com/AssemblyScript/assemblyscript/releases/tag/v0.14.13))
- `Array/TypedArray/String#at` рдХреЛ рд▓рд╛рдЧреВ рдХрд░реЗрдВ ([v0.18.2](https://github.com/AssemblyScript/assemblyscript/releases/tag/v0.18.2))
- рдЯреЗрдореНрдкрд▓реЗрдЯ рд▓рд┐рдЯрд░рд▓ рд╕реНрдЯреНрд░рд┐рдВрдЧреНрд╕ рдХреЗ рд▓рд┐рдП рд╕рдкреЛрд░реНрдЯ рдЬреЛрдбрд╝рд╛ рдЧрдпрд╛ ([v0.18.17](https://github.com/AssemblyScript/assemblyscript/releases/tag/v0.18.17))
- `encodeURI(Component)` рдФрд░ `decodeURI(Component)` рдХреЛ рдЬреЛрдбрд╝рд╛ рдЧрдпрд╛ ([v0.18.27](https://github.com/AssemblyScript/assemblyscript/releases/tag/v0.18.27))
- `toString`, `toDateString` рдФрд░ `toTimeString` рдХреЛ `Date` рдореЗрдВ рдЬреЛрдбрд╝реЗрдВ ([v0.18.29](https://github.com/AssemblyScript/assemblyscript/releases/tag/v0.18.29))
- `toUTCString` рдХреЗ рд▓рд┐рдП `Date` рдореЗрдВ рдЬреЛрдбрд╝реЗрдВ ([v0.18.30](https://github.com/AssemblyScript/assemblyscript/releases/tag/v0.18.30))
- `nonnull/NonNullable` рдмрд┐рд▓реНрдЯ-рдЗрди рдЯрд╛рдЗрдк рдЬреЛрдбрд╝рд╛ рдЧрдпрд╛ ([v0.19.2](https://github.com/AssemblyScript/assemblyscript/releases/tag/v0.19.2))

### рдЕрдиреБрдХреВрд▓рди

- `Math` рдлрд╝рдВрдХреНрд╢рдВрд╕ рдЬреИрд╕реЗ рдХрд┐ `exp`, `exp2`, `log`, `log2` рдФрд░ `pow` рдХреЛ рддреЗрдЬрд╝ рд╡реЗрд░рд┐рдПрдВрдЯреНрд╕ рд╕реЗ рдмрджрд▓ рджрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ ([v0.9.0](https://github.com/AssemblyScript/assemblyscript/releases/tag/v0.9.0))
- рдереЛрдбрд╝рд╛ рдСрдкреНрдЯрд┐рдорд╛рдЗрдЬрд╝ рдХрд░реЗрдВ `Math.mod` ([v0.17.1](https://github.com/AssemblyScript/assemblyscript/releases/tag/v0.17.1))
- рд╕реНрдЯреИрдВрдбрд░реНрдб рдореИрдк рдФрд░ рд╕реЗрдЯ рдореЗрдВ рдЕрдзрд┐рдХ рдлрд╝реАрд▓реНрдб рдПрдХреНрд╕реЗрд╕ рдХреИрд╢ рдХрд░реЗрдВ ([v0.17.8](https://github.com/AssemblyScript/assemblyscript/releases/tag/v0.17.8))
- `ipow32/64`([v0.18.2](https://github.com/AssemblyScript/assemblyscript/releases/tag/v0.18.2)) рдореЗрдВ рджреЛ рдХреЗ рд╢рдХреНрддрд┐рдпреЛрдВ рдХреЗ рд▓рд┐рдП рдЕрдиреБрдХреВрд▓рд┐рдд рдХрд░реЗрдВ

### рдЕрдиреНрдп

- рдПрдХ рдПрд░реЗ рд▓рд┐рдЯрд░рд▓ рдХреЗ рдкреНрд░рдХрд╛рд░ рдХреЛ рдЕрдм рдЗрд╕рдХреА рд╕рд╛рдордЧреНрд░реА рд╕реЗ рдЕрдиреБрдорд╛рдирд┐рдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ ([v0.9.0](https://github.com/AssemblyScript/assemblyscript/releases/tag/v0.9.0))
- Updated stdlib рдХреЛ Unicode 13.0.0 рдореЗрдВ рдЕрдкрдбреЗрдЯ рдХрд┐рдпрд╛ рдЧрдпрд╛ ([v0.10.0](https://github.com/AssemblyScript/assemblyscript/releases/tag/v0.10.0))

## рдХреИрд╕реЗ рдХрд░реЗрдВ рдЕрдкрдЧреНрд░реЗрдб?

1. рдЕрдкрдиреА `subgraph.yaml` рдлрд╝рд╛рдЗрд▓ рдореЗрдВ `apiVersion` рдХреЛ `0.0.9` рдореЗрдВ рдмрджрд▓реЗрдВ:

```yaml
...
dataSources:
  ...
    mapping:
      ...
      apiVersion: 0.0.9
      ...
```

2. рдЖрдк рдЬреЛ `graph-cli` рдЙрдкрдпреЛрдЧ рдХрд░ рд░рд╣реЗ рд╣реИрдВ, рдЙрд╕реЗ `latest` рд╕рдВрд╕реНрдХрд░рдг рдореЗрдВ рдЕрдкрдбреЗрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдпрд╣ рдЪрд▓рд╛рдПрдБ:

```bash
# if you have it globally installed
npm install --global @graphprotocol/graph-cli@latest

# or in your subgraph if you have it as a dev dependency
npm install --save-dev @graphprotocol/graph-cli@latest
```

3. рдпрд╣ рд╡рд╣реА рдХрд░реЗрдВ `graph-ts`, рд▓реЗрдХрд┐рди рдЗрд╕реЗ рдЧреНрд▓реЛрдмрд▓реА рдЗрдВрд╕реНрдЯреЙрд▓ рдХрд░рдиреЗ рдХреЗ рдмрдЬрд╛рдп, рдЗрд╕реЗ рдЕрдкрдиреА рдореБрдЦреНрдп рдирд┐рд░реНрднрд░рддрд╛рдУрдВ рдореЗрдВ рд╕реЗрд╡ рдХрд░реЗрдВ:

```bash
npm install --save @graphprotocol/graph-ts@latest
```

4. рднрд╛рд╖рд╛ рд╕рдВрдмрдВрдзреА рдкрд░рд┐рд╡рд░реНрддрдиреЛрдВ рдХреЛ рдареАрдХ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╢реЗрд╖ рдорд╛рд░реНрдЧрджрд░реНрд╢рд┐рдХрд╛ рдХрд╛ рдкрд╛рд▓рди рдХрд░реЗрдВред
5. `codegen` рдФрд░ `deploy` рдХреЛ рдлрд┐рд░ рд╕реЗ рдЪрд▓рд╛рдПрдВред

## рдмреНрд░реЗрдХрд┐рдВрдЧ рдкрд░рд┐рд╡рд░реНрддрди

### Nullability

рдЕрд╕реЗрдВрдмрд▓реАрд╕реНрдХреНрд░рд┐рдкреНрдЯ рдХреЗ рдкреБрд░рд╛рдиреЗ рд╕рдВрд╕реНрдХрд░рдг рдкрд░, рдЖрдк рдЗрд╕ рддрд░рд╣ рдХреЛрдб рдмрдирд╛ рд╕рдХрддреЗ рд╣реИрдВ:

```typescript
function load(): Value | null { ... }

let maybeValue = load();
maybeValue.aMethod();
```

рд╣рд╛рд▓рд╛рдБрдХрд┐ рдирдП рд╕рдВрд╕реНрдХрд░рдг рдкрд░, рдХреНрдпреЛрдВрдХрд┐ рдорд╛рди рдЕрд╢рдХреНрдд рд╣реИ, рдЗрд╕рдХреЗ рд▓рд┐рдП рдЖрдкрдХреЛ рдЬрд╛рдБрдЪ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ, рдЬреИрд╕реЗ:

```typescript
let maybeValue = load()

if (maybeValue) {
  maybeValue.aMethod() // `maybeValue` is not null anymore
}
```

рдпрд╛ рдЗрд╕реЗ рдЗрд╕ рддрд░рд╣ рдордЬрдмреВрд░ рдХрд░реЗрдВ:

```typescript
let maybeValue = load()! // breaks in runtime if value is null

maybeValue.aMethod()
```

рдЕрдЧрд░ рдЖрдкрдХреЛ рдпрдХреАрди рдирд╣реАрдВ рд╣реИ рдХрд┐ рдХрд┐рд╕реЗ рдЪреБрдирдирд╛ рд╣реИ, рддреЛ рд╣рдо рд╣рдореЗрд╢рд╛ рд╕реБрд░рдХреНрд╖рд┐рдд рд╕рдВрд╕реНрдХрд░рдг рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреА рд╕рд▓рд╛рд╣ рджреЗрддреЗ рд╣реИрдВред рдпрджрд┐ рдорд╛рди рдореМрдЬреВрдж рдирд╣реАрдВ рд╣реИ, рддреЛ рдЖрдк рдЕрдкрдиреЗ рд╕рдмрдЧреНрд░рд╛рдл  рдХреЗ handler рдореЗрдВ рдПрдХ рдкреНрд░рд╛рд░рдВрднрд┐рдХ if рд╕реНрдЯреЗрдЯрдореЗрдВрдЯ рдХреЗ рд╕рд╛рде return рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред

### Variable Shadowing

рдкрд╣рд▓реЗ рдЖрдк [variable shadowing](https://en.wikipedia.org/wiki/Variable_shadowing) рдХрд░ рд╕рдХрддреЗ рдереЗ рдФрд░ рдХреЛрдб рдЗрд╕ рддрд░рд╣ рдХрд╛рдо рдХрд░рддрд╛ рдерд╛:

```typescript
let a = 10
let b = 20
let a = a + b
```

рд╣рд╛рд▓рд╛рдБрдХрд┐ рдЕрдм рдпрд╣ рд╕рдВрднрд╡ рдирд╣реАрдВ рд╣реИ, рдФрд░ рд╕рдВрдХрд▓рдХ рдЗрд╕ рддреНрд░реБрдЯрд┐ рдХреЛ рд▓реМрдЯрд╛рддрд╛ рд╣реИ:

```typescript
ERROR TS2451: Cannot redeclare block-scoped variable 'a'

 let a = a + b;
 ~~~~~~~~~~~~~
in assembly/index.ts(4,3)
```

рдпрджрд┐ рдЖрдкрдХреЗ рдкрд╛рд╕ рд╡реЗрд░рд┐рдПрдмрд▓ рд╢реИрдбреЛрдЗрдВрдЧ рд╣реИ, рддреЛ рдЖрдкрдХреЛ рдЕрдкрдиреЗ рдбреБрдкреНрд▓рд┐рдХреЗрдЯ рд╡реЗрд░рд┐рдПрдмрд▓реНрд╕ рдХрд╛ рдирд╛рдо рдмрджрд▓рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрдЧреАред

### Null Comparisons

рдЕрдкрдиреЗ рд╕рдмрдЧреНрд░рд╛рдл рдХреЛ рдЕрдкрдЧреНрд░реЗрдб рдХрд░рдиреЗ рдкрд░, рдХрднреА-рдХрднреА рдЖрдкрдХреЛ рдРрд╕реЗ рддреНрд░реБрдЯрд┐рдпрд╛рдБ рдорд┐рд▓ рд╕рдХрддреА рд╣реИрдВ:

```typescript
ERROR TS2322: Type '~lib/@graphprotocol/graph-ts/common/numbers/BigInt | null' is not assignable to type '~lib/@graphprotocol/graph-ts/common/numbers/BigInt'.
     if (decimals == null) {
                     ~~~~
 in src/mappings/file.ts(41,21)
```

рд╕рдорд╕реНрдпрд╛ рдХреЛ рд╣рд▓ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЖрдк рдмрд╕ `if` рд╕реНрдЯреЗрдЯрдореЗрдВрдЯ рдХреЛ рдЗрд╕ рдкреНрд░рдХрд╛рд░ рдмрджрд▓ рд╕рдХрддреЗ рд╣реИрдВ:

```typescript
  if (!decimals) {

  // or

  if (decimals === null) {
```

рдпрджрд┐ рдЖрдк == рдХреЗ рдмрдЬрд╛рдп != рдХрд░ рд░рд╣реЗ рд╣реИрдВ рддреЛ рд╡рд╣реА рд▓рд╛рдЧреВ рд╣реЛрддрд╛ рд╣реИред

### рдХрд╛рд╕реНрдЯрд┐рдВрдЧ

рдкрд╣рд▓реЗ рдХрд╛рд╕реНрдЯрд┐рдВрдЧ рдХрд░рдиреЗ рдХрд╛ рд╕рд╛рдорд╛рдиреНрдп рддрд░реАрдХрд╛ `as` рдХреАрд╡рд░реНрдб рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рдерд╛, рдЬреИрд╕реЗ рдХрд┐ рдЗрд╕ рдкреНрд░рдХрд╛рд░:

```typescript
let byteArray = new ByteArray(10)
let uint8Array = byteArray as Uint8Array // рдЗрд╕рдХрд╛ рд╕рдордХрдХреНрд╖: <Uint8Array>byteArray
```

However this only works in two scenarios:

- рдкреНрд░рд┐рдорд┐рдЯрд┐рд╡ рдХрд╛рд╕реНрдЯрд┐рдВрдЧ (рдЬреИрд╕реЗ `u8`, `i32`, `bool` рдкреНрд░рдХрд╛рд░реЛрдВ рдХреЗ рдмреАрдЪ; рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП: `let b: isize = 10; b as usize`);
- рдХреНрд▓рд╛рд╕ рдЗрдирд╣реЗрд░рд┐рдЯреЗрдВрд╕ (рд╕рдмрдХреНрд▓рд╛рд╕ тЖТ рд╕реБрдкрд░рдХреНрд▓рд╛рд╕) рдкрд░ рдЕрдкрдХрд╛рд╕реНрдЯрд┐рдВрдЧ

рдЙрджрд╛рд╣рд░рдг:

```typescript
// primitive casting
let a: usize = 10
let b: isize = 5
let c: usize = a + (b as usize)
```

```typescript
// рдХреНрд▓рд╛рд╕ рдЗрдирд╣реЗрд░рд┐рдЯреЗрдВрд╕ рдкрд░ рдЙрдкрдХрд╛рд╕реНрдЯрд┐рдВрдЧ
class Bytes extends Uint8Array {}

let bytes = new Bytes(2)
// <Uint8Array>bytes // рдпрд╣ рд╕рдорд╛рди рд╣реИ: bytes as Uint8Array
```

рдпрд╣рд╛рдВ рджреЛ рдкрд░рд┐рджреГрд╢реНрдп рд╣реИрдВ рдЬрд╣рд╛рдБ рдЖрдк рдХрд╛рд╕реНрдЯ рдХрд░рдирд╛ рдЪрд╛рд╣ рд╕рдХрддреЗ рд╣реИрдВ, рд▓реЗрдХрд┐рди `as`/`<T>var` рдХрд╛ рдЙрдкрдпреЛрдЧ **рд╕реБрд░рдХреНрд╖рд┐рдд рдирд╣реАрдВ рд╣реИ**:

- рдХреНрд▓рд╛рд╕ рдЗрдирд╣реЗрд░рд┐рдЯреЗрдВрд╕ (рд╕реБрдкрд░рдХреНрд▓рд╛рд╕ тЖТ рд╕рдмрдХреНрд▓рд╛рд╕) рдкрд░ рдбрд╛рдЙрдирдХрд╛рд╕реНрдЯрд┐рдВрдЧ
- рдПрдХ рд╕реБрдкрд░рдХреНрд▓рд╛рд╕ рд╕рд╛рдЭрд╛ рдХрд░рдиреЗ рд╡рд╛рд▓реЗ рджреЛ рдкреНрд░рдХрд╛рд░реЛрдВ рдХреЗ рдмреАрдЪ

```typescript
// рдХреНрд▓рд╛рд╕ рдЗрдирд╣реЗрд░рд┐рдЯреЗрдВрд╕ рдореЗрдВ рдбрд╛рдЙрдирдХрд╛рд╕реНрдЯрд┐рдВрдЧ
class Bytes extends Uint8Array {}

let uint8Array = new Uint8Array(2)
// <Bytes>uint8Array // рд░рдирдЯрд╛рдЗрдо рдореЗрдВ рдмреНрд░реЗрдХ рд╣реЛ рдЬрд╛рддрд╛ рд╣реИ :(
```

```typescript
// рджреЛ рдкреНрд░рдХрд╛рд░реЛрдВ рдХреЗ рдмреАрдЪ рдЬреЛ рдПрдХ superclass рд╕рд╛рдЭрд╛ рдХрд░рддреЗ рд╣реИрдВ
class Bytes extends Uint8Array {}
class ByteArray extends Uint8Array {}

let bytes = new Bytes(2)
// <ByteArray>bytes // рд░рдирдЯрд╛рдЗрдо рдореЗрдВ рдЯреВрдЯ рдЬрд╛рддрд╛ рд╣реИ :(
```

рдРрд╕реЗ рдорд╛рдорд▓реЛрдВ рдХреЗ рд▓рд┐рдП, рдЖрдк `changetype<T>` рдлрд╝рдВрдХреНрд╢рди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ:

```typescript
// рдХреНрд▓рд╛рд╕ рдЗрдирд╣реЗрд░рд┐рдЯреЗрдВрд╕ рдкрд░ рдбрд╛рдЙрдирдХрд╛рд╕реНрдЯрд┐рдВрдЧ
class Bytes extends Uint8Array {}

let uint8Array = new Uint8Array(2)
changetype<Bytes>(uint8Array) // рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ :)
```

```typescript
// рджреЛ рдкреНрд░рдХрд╛рд░реЛрдВ рдХреЗ рдмреАрдЪ рдЬреЛ рдПрдХ рд╕реБрдкрд░рдХреНрд▓рд╛рд╕ рд╕рд╛рдЭрд╛ рдХрд░рддреЗ рд╣реИрдВ
class Bytes extends Uint8Array {}
class ByteArray extends Uint8Array {}

let bytes = new Bytes(2);
changetype<ByteArray>(bytes); // рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ :)
```

рдпрджрд┐ рдЖрдк рдХреЗрд╡рд▓ nullability рдХреЛ рд╣рдЯрд╛рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ, рддреЛ рдЖрдк `as` рдСрдкрд░реЗрдЯрд░ (рдпрд╛ `<T>variable`) рдХрд╛ рдЙрдкрдпреЛрдЧ рдЬрд╛рд░реА рд░рдЦ рд╕рдХрддреЗ рд╣реИрдВ, рд▓реЗрдХрд┐рди рдпрд╣ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░реЗрдВ рдХрд┐ рдЖрдкрдХреЛ рдкрддрд╛ рд╣реИ рдХрд┐ рд╡рд╣ рдорд╛рди null рдирд╣реАрдВ рд╣реЛ рд╕рдХрддрд╛ рд╣реИ, рдЕрдиреНрдпрдерд╛ рдпрд╣ рдЯреВрдЯ рдЬрд╛рдПрдЧрд╛ред

```typescript
// remove nullability
let previousBalance = AccountBalance.load(balanceId) // AccountBalance | null

if (previousBalance != null) {
  return previousBalance as AccountBalance // safe remove null
}

let newBalance = new AccountBalance(balanceId)
```

nullability рдХреЗ рдорд╛рдорд▓реЗ рдореЗрдВ, рд╣рдо рд╕реБрдЭрд╛рд╡ рджреЗрддреЗ рд╣реИрдВ рдХрд┐ рдЖрдк [nullability check рд╡рд┐рд╢реЗрд╖рддрд╛](https://www.assemblyscript.org/basics.html#nullability-checks) рдкрд░ рдПрдХ рдирдЬрд╝рд░ рдбрд╛рд▓реЗрдВ, рдпрд╣ рдЖрдкрдХреА рдХреЛрдб рдХреЛ рдЕрдзрд┐рдХ рд╕рд╛рдл-рд╕реБрдерд░рд╛ рдмрдирд╛ рджреЗрдЧрд╛ ЁЯЩВ

рд╕рд╛рде рд╣реА, рд╣рдордиреЗ рдХрд╛рд╕реНрдЯрд┐рдВрдЧ рдХреЛ рдЖрд╕рд╛рди рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдХреБрдЫ рдкреНрд░рдХрд╛рд░реЛрдВ рдореЗрдВ рдХреБрдЫ рдФрд░ рд╕реНрдереИрддрд┐рдХ рд╡рд┐рдзрд┐рдпрд╛рдБ рдЬреЛрдбрд╝реА рд╣реИрдВ, рд╡реЗ рд╣реИрдВ:

- Bytes.fromByteArray
- Bytes.fromUint8Array
- BigInt.fromByteArray
- ByteArray.fromBigInt

### Nullability check with property access

[nullability check рд╡рд┐рд╢реЗрд╖рддрд╛](https://www.assemblyscript.org/basics.html#nullability-checks) рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдк рдпрд╛ рддреЛ `if` рд╕реНрдЯреЗрдЯрдореЗрдВрдЯреНрд╕ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдпрд╛ рдЯрд░реНрдирд░реА рдСрдкрд░реЗрдЯрд░ (`?` рдФрд░ `:`) рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдЗрд╕ рдкреНрд░рдХрд╛рд░:

```typescript
let something: string | null = 'data'

let somethingOrElse = something ? something : 'else'

// or

let somethingOrElse

if (something) {
  somethingOrElse = something
} else {
  somethingOrElse = 'else'
}
```

рд╣рд╛рд▓рд╛рдВрдХрд┐, рдпрд╣ рдХреЗрд╡рд▓ рддрдм рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ рдЬрдм рдЖрдк рдХрд┐рд╕реА рд╡реЗрд░рд┐рдПрдмрд▓ рдкрд░ `if` / рдЯрд░реНрдирд░реА рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд░рд╣реЗ рд╣реЛрдВ, рди рдХрд┐ рдХрд┐рд╕реА рдкреНрд░реЙрдкрд░реНрдЯреА рдПрдХреНрд╕реЗрд╕ рдкрд░, рдЬреИрд╕реЗ:

```typescript
class Container {
  data: string | null
}

let container = new Container()
container.data = 'data'

let somethingOrElse: string = container.data ? container.data : 'else' // doesn't compile
```

рдЬреЛ рдЗрд╕ рддреНрд░реБрдЯрд┐ рдХреЛ рдЖрдЙрдЯрдкреБрдЯ рдХрд░рддрд╛ рд╣реИ:

```typescript
ERROR TS2322: Type '~lib/string/String | null' is not assignable to type '~lib/string/String'.

   let somethingOrElse: string = container.data ? container.data : "else";
```

рдЗрд╕ рд╕рдорд╕реНрдпрд╛ рдХреЛ рдареАрдХ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдк рдЙрд╕ рдкреНрд░реЙрдкрд░реНрдЯреА рдПрдХреНрд╕реЗрд╕ рдХреЗ рд▓рд┐рдП рдПрдХ рд╡реЗрд░рд┐рдПрдмрд▓ рдмрдирд╛ рд╕рдХрддреЗ рд╣реИрдВ рддрд╛рдХрд┐ рдХрдВрдкрд╛рдЗрд▓рд░ рдЕрд╢рдХреНрддрддрд╛ рдЬрд╛рдВрдЪ рдЬрд╛рджреВ рдХрд░ рд╕рдХреЗ:

```typescript
class Container {
  data: string | null
}

let container = new Container()
container.data = 'data'

let data = container.data

let somethingOrElse: string = data ? data : 'else' // compiles just fine :)
```

### рдкреНрд░реЙрдкрд░реНрдЯреА рдПрдХреНрд╕реЗрд╕ рдХреЗ рд╕рд╛рде рдСрдкрд░реЗрдЯрд░ рдУрд╡рд░рд▓реЛрдбрд┐рдВрдЧ

рдпрджрд┐ рдЖрдк рдПрдХ рдЕрд╢рдХреНрдд рдкреНрд░рдХрд╛рд░ рдХреЗ рд╕рд╛рде рдПрдХ рдЕрд╢рдХреНрдд рдкреНрд░рдХрд╛рд░ (рдПрдХ рд╕рдВрдкрддреНрддрд┐ рдХреЗ рдЙрдкрдпреЛрдЧ рд╕реЗ) рдХрд╛ рдпреЛрдЧ рдХрд░рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рдЕрд╕реЗрдВрдмрд▓реАрд╕реНрдХреНрд░рд┐рдкреНрдЯ рдХрдВрдкрд╛рдЗрд▓рд░ рдПрдХ рд╕рдВрдХрд▓рди рд╕рдордп рддреНрд░реБрдЯрд┐ рдЪреЗрддрд╛рд╡рдиреА рджреЗрдиреЗ рдХреЗ рдмрдЬрд╛рдп рдпрд╣ рдЪреЗрддрд╛рд╡рдиреА рджреЗрддрд╛ рд╣реИ рдХрд┐ рдорд╛рдиреЛрдВ рдореЗрдВ рд╕реЗ рдПрдХ рдЕрд╢рдХреНрдд рд╣реИ, рдпрд╣ рд╕рд┐рд░реНрдл рдЪреБрдкрдЪрд╛рдк рд╕рдВрдХрд▓рд┐рдд рдХрд░рддрд╛ рд╣реИ, рдореМрдХрд╛ рджреЗрддрд╛ рд╣реИ рдХреЛрдб рд░рдирдЯрд╛рдЗрдо рдкрд░ рдЯреВрдЯрдиреЗ рдХреЗ рд▓рд┐рдПред

```typescript
class BigInt extends Uint8Array {
  @operator('+')
  plus(other: BigInt): BigInt {
    // ...
  }
}

class Wrapper {
  public constructor(public n: BigInt | null) {}
}

let x = BigInt.fromI32(2)
let y: BigInt | null = null

x + y // give compile time error about nullability

let wrapper = new Wrapper(y)

wrapper.n = wrapper.n + x // doesn't give compile time errors as it should
```

рд╣рдордиреЗ рдЗрд╕ рдореБрджреНрджреЗ рдХреЛ AssemblyScript compiler рдкрд░ рдЦреЛрд▓рд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдЕрднреА рдХреЗ рд▓рд┐рдП, рдпрджрд┐ рдЖрдк рдЕрдкрдиреА рд╕рдмрдЧреНрд░рд╛рдл mappings рдореЗрдВ рдЗрд╕ рдкреНрд░рдХрд╛рд░ рдХреЗ рд╕рдВрдЪрд╛рд▓рди рдХрд░ рд░рд╣реЗ рд╣реИрдВ, рддреЛ рдЖрдкрдХреЛ рдЗрд╕рдХреЗ рдкрд╣рд▓реЗ рдПрдХ null рдЬрд╛рдВрдЪ рдХрд░рдиреА рдЪрд╛рд╣рд┐рдПред

```typescript
let wrapper = new Wrapper(y)

if (!wrapper.n) {
  wrapper.n = BigInt.fromI32(0)
}

wrapper.n = wrapper.n + x // now `n` is guaranteed to be a BigInt
```

### рдореВрд▓реНрдп рдЖрд░рдВрднреАрдХрд░рдг

рдпрджрд┐ рдЖрдкрдХреЗ рдкрд╛рд╕ рдРрд╕рд╛ рдХреЛрдИ рдХреЛрдб рд╣реИ:

```typescript
var value: Type // null
value.x = 10
value.y = 'content'
```

рдпрд╣ рд╕рдВрдХрд▓рд┐рдд рд╣реЛ рдЬрд╛рдПрдЧрд╛ рд▓реЗрдХрд┐рди рд░рдирдЯрд╛рдЗрдо рдкрд░ рдЯреВрдЯ рдЬрд╛рдПрдЧрд╛, рдХреНрдпреЛрдВрдХрд┐ рдорд╛рди рдкреНрд░рд╛рд░рдВрдн рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред рдЗрд╕рд▓рд┐рдП рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░реЗрдВ рдХрд┐ рдЖрдкрдХрд╛ рд╕рдмрдЧреНрд░рд╛рдл рдиреЗ рдЕрдкрдиреЗ рдорд╛рдиреЛрдВ рдХреЛ рдкреНрд░рд╛рд░рдВрдн рдХрд┐рдпрд╛ рд╣реИ, рдЗрд╕ рдкреНрд░рдХрд╛рд░:

```typescript
var value = new Type() // initialized
value.x = 10
value.y = 'content'
```

рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдпрджрд┐ рдЖрдкрдХреЗ рдкрд╛рд╕ рдПрдХ рдЧреНрд░рд╛рдлрдХреНрдпреВрдПрд▓ рдЗрдХрд╛рдИ рдореЗрдВ рдЕрд╢рдХреНрдд рдЧреБрдг рд╣реИрдВ, рдЬреИрд╕реЗ:

```graphql
type Total @entity {
  id: Bytes!
  amount: BigInt
}
```

рдФрд░ рдЖрдкрдХреЗ рдкрд╛рд╕ рдЗрд╕рдХреЗ рд╕рдорд╛рди рдХреЛрдб рд╣реИ:

```typescript
let total = Total.load('latest')

if (total === null) {
  total = new Total('latest')
}

total.amount = total.amount + BigInt.fromI32(1)
```

рдЖрдкрдХреЛ рдпрд╣ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░рдирд╛ рд╣реЛрдЧрд╛ рдХрд┐ `total.amount` рдорд╛рди рдХреЛ рдкреНрд░рд╛рд░рдВрднрд┐рдХ рд░реВрдк рд╕реЗ рд╕реЗрдЯ рдХрд┐рдпрд╛ рдЬрд╛рдП, рдХреНрдпреЛрдВрдХрд┐ рдпрджрд┐ рдЖрдк рдЗрд╕реЗ рдЕрдВрддрд┐рдо рдкрдВрдХреНрддрд┐ рдореЗрдВ рдЬреЛрдбрд╝рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХреНрд╕реЗрд╕ рдХрд░рдиреЗ рдХрд╛ рдкреНрд░рдпрд╛рд╕ рдХрд░реЗрдВрдЧреЗ, рддреЛ рдпрд╣ рдХреНрд░реИрд╢ рд╣реЛ рдЬрд╛рдПрдЧрд╛ред рддреЛ рдЖрдкрдХреЛ рдЗрд╕реЗ рдкрд╣рд▓реЗ рдкреНрд░рд╛рд░рдВрднрд┐рдХ рд░реВрдк рд╕реЗ рд╕реЗрдЯ рдХрд░рдирд╛ рд╣реЛрдЧрд╛ред

```typescript
let total = Total.load('latest')

if (total === null) {
  total = new Total('latest')
  total.amount = BigInt.fromI32(0)
}

total.tokens = total.tokens + BigInt.fromI32(1)
```

рдпрд╛ рдЖрдк рдЕрдкрдиреА GraphQL рд╕реНрдХреАрдорд╛ рдХреЛ рдЗрд╕ рдкреНрд░реЙрдкрд░реНрдЯреА рдХреЗ рд▓рд┐рдП nullable рдЯрд╛рдЗрдк рдХрд╛ рдЙрдкрдпреЛрдЧ рди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдмрджрд▓ рд╕рдХрддреЗ рд╣реИрдВ, рдлрд┐рд░ рд╣рдо рдЗрд╕реЗ `codegen` рд╕реНрдЯреЗрдк рдореЗрдВ рд╢реВрдиреНрдп рдХреЗ рд░реВрдк рдореЗрдВ рдЗрдирд┐рд╢рд┐рдпрд▓рд╛рдЗрдЬ рдХрд░реЗрдВрдЧреЗ ЁЯШЙ

```graphql
type Total @entity {
  id: Bytes!
  amount: BigInt!
}
```

```typescript
let total = Total.load('latest')

if (total === null) {
  total = new Total('latest') // already initializes non-nullable properties
}

total.amount = total.amount + BigInt.fromI32(1)
```

### рдХреНрд▓рд╛рд╕ рдкреНрд░реЙрдкрд░реНрдЯреА рдЗрдирд┐рд╢рд┐рдпрд▓рд╛рдЗрдЬрд╝реЗрд╢рди

рдпрджрд┐ рдЖрдк рдХрд┐рд╕реА рднреА рд╡рд░реНрдЧ рдХреЛ рдЧреБрдгреЛрдВ рдХреЗ рд╕рд╛рде рдирд┐рд░реНрдпрд╛рдд рдХрд░рддреЗ рд╣реИрдВ рдЬреЛ рдЕрдиреНрдп рд╡рд░реНрдЧ рд╣реИрдВ (рдЖрдкрдХреЗ рджреНрд╡рд╛рд░рд╛ рдпрд╛ рдорд╛рдирдХ рдкреБрд╕реНрддрдХрд╛рд▓рдп рджреНрд╡рд╛рд░рд╛ рдШреЛрд╖рд┐рдд) рдЗрд╕ рддрд░рд╣:

```typescript
class Thing {}

export class Something {
  value: Thing
}
```

рдХрдВрдкрд╛рдЗрд▓рд░ рдореЗрдВ рддреНрд░реБрдЯрд┐ рд╣реЛрдЧреА рдХреНрдпреЛрдВрдХрд┐ рдЖрдкрдХреЛ рдЙрди рдЧреБрдгреЛрдВ рдХреЗ рд▓рд┐рдП рдпрд╛ рддреЛ рдПрдХ рдкреНрд░рд╛рд░рдВрднрд┐рдХ рдорд╛рди рдЬреЛрдбрд╝рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ рдЬреЛ рдХрдХреНрд╖рд╛рдПрдБ рд╣реИрдВ, рдпрд╛ `!` рдСрдкрд░реЗрдЯрд░ рдЬреЛрдбрд╝рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред

```typescript
export class Something {
  constructor(public value: Thing) {}
}

// or

export class Something {
  value: Thing

  constructor(value: Thing) {
    this.value = value
  }
}

// or

export class Something {
  value!: Thing
}
```

### рд╕рд░рдгреА рдЖрд░рдВрднреАрдХрд░рдг

`Array` рдХреНрд▓рд╛рд╕ рдЕрднреА рднреА рдПрдХ рдирдВрдмрд░ рд╕реНрд╡реАрдХрд╛рд░ рдХрд░рддрд╛ рд╣реИ рдЬрд┐рд╕рд╕реЗ рд╕реВрдЪреА рдХреА рд▓рдВрдмрд╛рдИ рдХреЛ рдкреНрд░рд╛рд░рдВрднрд┐рдХ рд░реВрдк рд╕реЗ рд╕реЗрдЯ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, рд╣рд╛рд▓рд╛рдВрдХрд┐ рдЖрдкрдХреЛ рд╕рд╛рд╡рдзрд╛рдиреА рдмрд░рддрдиреА рдЪрд╛рд╣рд┐рдП рдХреНрдпреЛрдВрдХрд┐ .`push` рдЬреИрд╕реА рдСрдкрд░реЗрд╢рдиреНрд╕ рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рдЖрдХрд╛рд░ рдмрдврд╝рд╛ рджреЗрдВрдЧреА рдмрдЬрд╛рдп рдЗрд╕рдХреЗ рдХрд┐ рд╡реЗ рд╢реБрд░реБрдЖрдд рдореЗрдВ рдЬреЛрдбрд╝реЗрдВ, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП:

```typescript
let arr = new Array<string>(5) // ["", "", "", "", ""]

arr.push('something') // ["", "", "", "", "", "something"] // рдЖрдХрд╛рд░ 6 :(
```

рдЖрдкрдХреЗ рджреНрд╡рд╛рд░рд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдП рдЬрд╛ рд░рд╣реЗ рдкреНрд░рдХрд╛рд░реЛрдВ рдХреЗ рдЖрдзрд╛рд░ рдкрд░, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП рдЕрд╢рдХреНрдд рд╡рд╛рд▓реЗ, рдФрд░ рдЖрдк рдЙрдиреНрд╣реЗрдВ рдХреИрд╕реЗ рдПрдХреНрд╕реЗрд╕ рдХрд░ рд░рд╣реЗ рд╣реИрдВ, рдЖрдкрдХреЛ рдЗрд╕ рддрд░рд╣ рдХреА рд░рдирдЯрд╛рдЗрдо рддреНрд░реБрдЯрд┐ рдХрд╛ рд╕рд╛рдордирд╛ рдХрд░рдирд╛ рдкрдбрд╝ рд╕рдХрддрд╛ рд╣реИ:

```
ERRO handler рдирд┐рд╖реНрдкрд╛рджрди рд╡рд┐рдлрд▓рддрд╛ рдХреЗ рдХрд╛рд░рдг рдЫреЛрдбрд╝ рджрд┐рдпрд╛ рдЧрдпрд╛, рддреНрд░реБрдЯрд┐: ~lib/array.ts, рдкрдВрдХреНрддрд┐ 110, рдХреЙрд▓рдо 40 рдкрд░ рдорд╛рдирдЪрд┐рддреНрд░рдг рдмрдВрдж рдХрд░ рджреА рдЧрдИ, рд╕рдВрджреЗрд╢ рдХреЗ рд╕рд╛рде: рдпрджрд┐ рдПрд░реЗ рдореЗрдВ рдЫреЗрдж рд╣реЛ рддреЛ рддрддреНрд╡ рдкреНрд░рдХрд╛рд░ рдХреЛ рдирд▓ рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдП wasm рдмреИрдХрдЯреНрд░реЗрд╕: 0: 0x19c4 - <unknown>!~lib/@graphprotocol/graph-ts/index/format 1: 0x1e75 - <unknown>!~lib/@graphprotocol/graph-ts/common/collections/Entity#constructor 2: 0x30b9 - <unknown>!node_modules/@graphprotocol/graph-ts/global/global/id_of_type
```

рд╢реБрд░реБрдЖрдд рдореЗрдВ рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рдкреБрд╢ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЛ `Array` рдХреЛ рд╢реВрдиреНрдп рдЖрдХрд╛рд░ рдХреЗ рд╕рд╛рде рдЗрд╕ рдкреНрд░рдХрд╛рд░ рдкреНрд░рд╛рд░рдВрдн рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдП:

```typescript
let arr = new Array<string>(0) // []

arr.push('something') // ["something"]
```

рдпрд╛ рдЖрдкрдХреЛ рдЗрд╕реЗ рдЗрдВрдбреЗрдХреНрд╕ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдмрджрд▓рдирд╛ рдЪрд╛рд╣рд┐рдП:

```typescript
let arr = new Array<string>(5) // ["", "", "", "", ""]

arr[0] = 'something' // ["something", "", "", "", ""]
```

### рдЧреНрд░рд╛рдлрдХреНрдпреВрдПрд▓ рд╕реНрдХреАрдорд╛

рдпрд╣ рдПрдХ рд╕реАрдзреЗ `AssemblyScript` рдореЗрдВ рдкрд░рд┐рд╡рд░реНрддрди рдирд╣реАрдВ рд╣реИ, рд▓реЗрдХрд┐рди рдЖрдкрдХреЛ рдЕрдкрдиреА `schema.graphql` рдлрд╝рд╛рдЗрд▓ рдХреЛ рдЕрдкрдбреЗрдЯ рдХрд░рдирд╛ рдкрдбрд╝ рд╕рдХрддрд╛ рд╣реИред

рдЕрдм рдЖрдк рдЕрдкрдиреЗ рдкреНрд░рдХрд╛рд░реЛрдВ рдореЗрдВ рдЙрди рдХреНрд╖реЗрддреНрд░реЛрдВ рдХреЛ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдирд╣реАрдВ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдЬреЛ рдЧреИрд░-рд╢реВрдиреНрдп рд╕реВрдЪреА рд╣реИрдВред рдпрджрд┐ рдЖрдкрдХреЗ рдкрд╛рд╕ рдРрд╕рд╛ рд╕реНрдХреАрдорд╛ рд╣реИ:

```graphql
type Something @entity {
  id: Bytes!
}

type MyEntity @entity {
  id: Bytes!
  invalidField: [Something]! # no longer valid
}
```

рдЖрдкрдХреЛ List рдкреНрд░рдХрд╛рд░ рдХреЗ рд╕рджрд╕реНрдп рдореЗрдВ ! рдЬреЛрдбрд╝рдирд╛ рд╣реЛрдЧрд╛, рдЗрд╕ рддрд░рд╣:

```graphql
type Something @entity {
  id: Bytes!
}

type MyEntity @entity {
  id: Bytes!
  invalidField: [Something!]! # valid
}
```

рдпрд╣ AssemblyScript рд╕рдВрд╕реНрдХрд░рдгреЛрдВ рдХреЗ рдмреАрдЪ nullability рдЕрдВрддрд░ рдХреЗ рдХрд╛рд░рдг рдмрджрд▓рд╛, рдФрд░ рдпрд╣ `src/generated/schema.ts` рдлрд╝рд╛рдЗрд▓ рд╕реЗ рд╕рдВрдмрдВрдзрд┐рдд рд╣реИ (рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдкрде, рдЖрдк рдЗрд╕реЗ рдмрджрд▓ рд╕рдХрддреЗ рд╣реИрдВ)ред

### рдЕрдиреНрдп

- рд╕реНрдкреЗрд╕рд┐рдлрд┐рдХреЗрд╢рди рдХреЗ рд╕рд╛рде `Map#set` рдФрд░ `Set#add` рдХреЛ рд╕рдВрд░реЗрдЦрд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛, рдЬреЛ `this` рдХреЛ рд▓реМрдЯрд╛рддрд╛ рд╣реИ ([v0.9.2](https://github.com/AssemblyScript/assemblyscript/releases/tag/v0.9.2))
- рдРрд░реЗ рдЕрдм ArrayBufferView рд╕реЗ рд╡рд┐рд░рд╛рд╕рдд рдореЗрдВ рдирд╣реАрдВ рдорд┐рд▓рддреЗ рд╣реИрдВ, рдмрд▓реНрдХрд┐ рдЕрдм рд╡реЗ рдЕрд▓рдЧ рд╣реИрдВ ([v0.10.0](https://github.com/AssemblyScript/assemblyscript/releases/tag/v0.10.0))
- рд╡рд╕реНрддреБ рд╕рд╛рд╣рд┐рддреНрдп рд╕реЗ рдкреНрд░рд╛рд░рдВрдн рдХреА рдЧрдИ рдХрдХреНрд╖рд╛рдПрдБ рдЕрдм рдПрдХ рдирд┐рд░реНрдорд╛рддрд╛ (constructor) рдкрд░рд┐рднрд╛рд╖рд┐рдд рдирд╣реАрдВ рдХрд░ рд╕рдХрддреАрдВ ([v0.10.0](https://github.com/AssemblyScript/assemblyscript/releases/tag/v0.10.0))
- `**` рдмрд╛рдЗрдирд░реА рдСрдкрд░реЗрд╢рди рдХрд╛ рдкрд░рд┐рдгрд╛рдо рдЕрдм рд╕рд╛рдорд╛рдиреНрдп рд╣рд░рд┐рдпрд╛рд▓реА рдкреВрд░реНрдгрд╛рдВрдХ рд╣реЛрддрд╛ рд╣реИ рдпрджрд┐ рджреЛрдиреЛрдВ рдСрдкрд░реЗрдиреНрдб рдкреВрд░реНрдгрд╛рдВрдХ рд╣реЛрддреЗ рд╣реИрдВред рдкрд╣рд▓реЗ, рдкрд░рд┐рдгрд╛рдо рдПрдХ рдлреНрд▓реЛрдЯ рд╣реЛрддрд╛ рдерд╛ рдЬреИрд╕реЗ рдХрд┐ `Math/f.pow` рдХреЛ рдХреЙрд▓ рдХрд░рддреЗ рд╕рдордп ([v0.11.0](https://github.com/AssemblyScript/assemblyscript/releases/tag/v0.11.0))
- `NaN` рдХреЛ `false` рдореЗрдВ рдмрджрд▓реЗрдВ рдЬрдм `bool` рдореЗрдВ рдХрд╛рд╕реНрдЯ рдХрд┐рдпрд╛ рдЬрд╛рдП ([v0.14.9](https://github.com/AssemblyScript/assemblyscript/releases/tag/v0.14.9))
- рдЬрдм рдПрдХ рдЫреЛрдЯреЗ рдкреВрд░реНрдгрд╛рдВрдХ рдорд╛рди рдХреЛ `i8`/`u8` рдпрд╛ `i16`/`u16` рдкреНрд░рдХрд╛рд░ рдореЗрдВ рд╢рд┐рдлреНрдЯ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ рдХреЗрд╡рд▓ RHS рдорд╛рди рдХреЗ 3 рдпрд╛ 4 рд╕рдмрд╕реЗ рдХрдо рдорд╣рддреНрд╡рдкреВрд░реНрдг рдмрд┐рдЯреНрд╕ рдкрд░рд┐рдгрд╛рдо рдХреЛ рдкреНрд░рднрд╛рд╡рд┐рдд рдХрд░рддреЗ рд╣реИрдВ, рдЬреИрд╕реЗ рдХрд┐ `i32.shl` рдХреЗ рдкрд░рд┐рдгрд╛рдо рдХреЛ рдХреЗрд╡рд▓ RHS рдорд╛рди рдХреЗ 5 рд╕рдмрд╕реЗ рдХрдо рдорд╣рддреНрд╡рдкреВрд░реНрдг рдмрд┐рдЯреНрд╕ рджреНрд╡рд╛рд░рд╛ рдкреНрд░рднрд╛рд╡рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред рдЙрджрд╛рд╣рд░рдг: `someI8 << 8` рдкрд╣рд▓реЗ `0` рдорд╛рди рдЙрддреНрдкрдиреНрди рдХрд░рддрд╛ рдерд╛, рд▓реЗрдХрд┐рди рдЕрдм `someI8` рдЙрддреНрдкрдиреНрди рдХрд░рддрд╛ рд╣реИ рдХреНрдпреЛрдВрдХрд┐ RHS рдХреЛ рдорд╛рд╕реНрдХ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ рдЬреИрд╕рд╛ рдХрд┐ `8 & 7 = 0` (3 рдмрд┐рдЯреНрд╕) ([v0.17.0](https://github.com/AssemblyScript/assemblyscript/releases/tag/v0.17.0))
- рд╡рд░реНрд╢рди ([v0.17.8](https://github.com/AssemblyScript/assemblyscript/releases/tag/v0.17.8)) рдореЗрдВ рдЖрдХрд╛рд░реЛрдВ рдХреЗ рднрд┐рдиреНрди рд╣реЛрдиреЗ рдкрд░ рд╕рдВрдмрдВрдзреА рд╕реНрдЯреНрд░рд┐рдВрдЧ рддреБрд▓рдирд╛ рдореЗрдВ рдмрдЧ рд╕реБрдзрд╛рд░
