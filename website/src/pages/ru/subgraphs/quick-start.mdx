---
title: Быстрый старт
---

Learn how to easily build, publish and query a [Subgraph](/subgraphs/developing/developer-faq/#1-what-is-a-subgraph) on The Graph.

## Предварительные требования

- Криптовалютный кошелек
- Адрес смарт-контракта в [поддерживаемой сети](/supported-networks/)
- [Node.js](https://nodejs.org/) установлен
- Менеджер пакетов на Ваш выбор (`npm`, `yarn` или `pnpm`)

## Как создать субграф

### 1. Create a Subgraph in Subgraph Studio

Перейдите в [Subgraph Studio](https://thegraph.com/studio/) и подключите свой кошелек.

Subgraph Studio lets you create, manage, deploy, and publish Subgraphs, as well as create and manage API keys.

Нажмите "Создать субграф". Рекомендуется называть субграф с использованием Заглавного регистра: "Subgraph Name Chain Name".

### 2. Установка Graph CLI

Выполните одну из следующих команд на своём локальном компьютере:

Использование [npm](https://www.npmjs.com/):

```sh
npm install -g @graphprotocol/graph-cli@latest
```

Использование [yarn](https://yarnpkg.com/):

```sh
yarn global add @graphprotocol/graph-cli
```

### 3. Initialize your Subgraph

> You can find commands for your specific Subgraph on the Subgraph page in [Subgraph Studio](https://thegraph.com/studio/).

The `graph init` command will automatically create a scaffold of a Subgraph based on your contract's events.

The following command initializes your Subgraph from an existing contract:

```sh
graph init
```

Если Ваш контракт верифицирован на соответствующем блоксканере, где он развернут (например, [Etherscan](https://etherscan.io/)), то ABI будет автоматически создан в CLI.

When you initialize your Subgraph, the CLI will ask you for the following information:

- **Protocol**: Choose the protocol your Subgraph will be indexing data from.
- **Subgraph slug**: Create a name for your Subgraph. Your Subgraph slug is an identifier for your Subgraph.
- **Directory**: Choose a directory to create your Subgraph in.
- **Ethereum network** (optional): You may need to specify which EVM-compatible network your Subgraph will be indexing data from.
- **Адрес контракта**: Найдите адрес смарт-контракта, из которого Вы хотите запрашивать данные.
- **ABI**: Если ABI не заполнен автоматически, Вам придется ввести его вручную в формате JSON.
- **Start Block**: You should input the start block to optimize Subgraph indexing of blockchain data. Locate the start block by finding the block where your contract was deployed.
- **Имя контракта**: Введите имя Вашего контракта.
- **Index contract events as entities**: It is suggested that you set this to true, as it will automatically add mappings to your Subgraph for every emitted event.
- **Добавление еще одного контракта (опционально)**: Вы можете добавить еще один контракт.

See the following screenshot for an example for what to expect when initializing your Subgraph:

![Команда субграфа](/img/CLI-Example.png)

### 4. Edit your Subgraph

The `init` command in the previous step creates a scaffold Subgraph that you can use as a starting point to build your Subgraph.

When making changes to the Subgraph, you will mainly work with three files:

- Manifest (`subgraph.yaml`) - defines what data sources your Subgraph will index.
- Schema (`schema.graphql`) - defines what data you wish to retrieve from the Subgraph.
- AssemblyScript Mappings (mapping.ts) - это код, который преобразует данные из Ваших источников данных в объекты, определенные в схеме.

For a detailed breakdown on how to write your Subgraph, check out [Creating a Subgraph](/developing/creating-a-subgraph/).

### 5. Deploy your Subgraph

> Помните, развертывание — это не то же самое, что публикация.

When you **deploy** a Subgraph, you push it to [Subgraph Studio](https://thegraph.com/studio/), where you can test, stage and review it. A deployed Subgraph's indexing is performed by the [Upgrade Indexer](https://thegraph.com/blog/upgrade-indexer/), which is a single Indexer owned and operated by Edge & Node, rather than by the many decentralized Indexers in The Graph Network. A **deployed** Subgraph is free to use, rate-limited, not visible to the public, and meant to be used for development, staging, and testing purposes.

Once your Subgraph is written, run the following commands:

````
```sh
graph codegen && graph build
```
````

Authenticate and deploy your Subgraph. The deploy key can be found on the Subgraph's page in Subgraph Studio.

![Deploy key](/img/subgraph-studio-deploy-key.jpg)

````
```sh

graph auth <DEPLOY_KEY>

graph deploy <SUBGRAPH_SLUG>
```
````

CLI запросит метку версии. Настоятельно рекомендуется использовать [семантическую версию](https://semver.org/), например, `0.0.1`.

### 6. Review your Subgraph

If you’d like to test your Subgraph before publishing it, you can use [Subgraph Studio](https://thegraph.com/studio/) to do the following:

- Запустить пример запроса.
- Analyze your Subgraph in the dashboard to check information.
- Check the logs on the dashboard to see if there are any errors with your Subgraph. The logs of an operational Subgraph will look like this:

  ![Subgraph logs](/img/subgraph-logs-image.png)

### 7. Publish your Subgraph to The Graph Network

When your Subgraph is ready for a production environment, you can publish it to the decentralized network. Publishing is an onchain action that does the following:

- It makes your Subgraph available to be to indexed by the decentralized [Indexers](/indexing/overview/) on The Graph Network.
- It removes rate limits and makes your Subgraph publicly searchable and queryable in [Graph Explorer](https://thegraph.com/explorer/).
- It makes your Subgraph available for [Curators](/resources/roles/curating/) to curate it.

> The greater the amount of GRT you and others curate on your Subgraph, the more Indexers will be incentivized to index your Subgraph, improving the quality of service, reducing latency, and enhancing network redundancy for your Subgraph.

#### Публикация с помощью Subgraph Studio

To publish your Subgraph, click the Publish button in the dashboard.

![Publish a Subgraph on Subgraph Studio](/img/publish-sub-transfer.png)

Select the network to which you would like to publish your Subgraph.

#### Публикация с помощью CLI

As of version 0.73.0, you can also publish your Subgraph with the Graph CLI.

Откройте `graph-cli`.

Используйте следующие команды:

````
```sh
graph codegen && graph build
```

Затем,

```sh
graph publish
```
````

3. Откроется окно, где Вы сможете подключить свой кошелек, добавить метаданные и развернуть финализированный субграф в выбранной Вами сети.

![cli-ui](/img/cli-ui.png)

Чтобы настроить ваше развертывание, смотрите раздел [Публикация субграфа](/subgraphs/developing/publishing/publishing-a-subgraph/).

#### Добавление сигнала к Вашему субграфу

1. To attract Indexers to query your Subgraph, you should add GRT curation signal to it.

   - This action improves quality of service, reduces latency, and enhances network redundancy and availability for your Subgraph.

2. Если индексаторы имеют право на получение вознаграждений за индексацию, они получат вознаграждения в GRT, в соответствии с количеством поданного сигнала.

   - It’s recommended to curate at least 3,000 GRT to attract 3 Indexers. Check reward eligibility based on Subgraph feature usage and supported networks.

Чтобы узнать больше о кураторстве, прочитайте статью [Курирование](/resources/roles/curating/).

To save on gas costs, you can curate your Subgraph in the same transaction you publish it by selecting this option:

![Публикация субграфа](/img/studio-publish-modal.png)

### 8. Query your Subgraph

You now have access to 100,000 free queries per month with your Subgraph on The Graph Network!

You can query your Subgraph by sending GraphQL queries to its Query URL, which you can find by clicking the Query button.

For more information about querying data from your Subgraph, read [Querying The Graph](/subgraphs/querying/introduction/).
