---
title: Быстрый старт
---

Create, deploy, and query a [Subgraph](/subgraphs/developing/developer-faq/#1-what-is-a-subgraph) on The Graph Network.

By the end, you'll have:

- Initialized a Subgraph from a smart contract
- Deployed it to Subgraph Studio for testing
- Published to The Graph Network for decentralized indexing

## Предварительные требования

- Криптовалютный кошелек
- A deployed smart contract on a [supported network](/supported-networks/)
- [Node.js](https://nodejs.org/) & a package manager of your choice (`npm`, `yarn` or `pnpm`)

## Как создать субграф

### 1. Создайте Субграф в Subgraph Studio

1. Go to [Subgraph Studio](https://thegraph.com/studio/)
2. Connect your wallet
3. Click "Create a Subgraph"
4. Name it in Title Case: "Subgraph Name Chain Name"

### 2. Установка Graph CLI

Выполните одну из следующих команд на своём локальном компьютере:

Использование [npm](https://www.npmjs.com/):

```sh
npm install -g @graphprotocol/graph-cli@latest
```

Использование [yarn](https://yarnpkg.com/):

```sh
yarn global add @graphprotocol/graph-cli
```

Verify install:

```sh
graph --version
```

### 3. Инициализируйте ваш субграф

> You can find commands for your specific Subgraph in [Subgraph Studio](https://thegraph.com/studio/).

The following command initializes your Subgraph from an existing contract and indexes events:

```sh
graph init
```

Когда вы инициализируете свой субграф, CLI запросит у вас следующую информацию:

- **Протокол**: Выберите протокол, данные из которого будет индексировать ваш субграф.
- **Слаг субграфа**: Создайте имя для вашего субграфа. Слаг субграфа — это идентификатор для вашего субграфа.
- **Каталог**: Выберите каталог, в котором будет создан ваш субграф.
- **Сеть Ethereum** (необязательно): Вам может понадобиться указать, из какой совместимой с EVM сети ваш субграф будет индексировать данные.
- **Адрес контракта**: Найдите адрес смарт-контракта, из которого Вы хотите запрашивать данные.
- **ABI**: Если ABI не заполнен автоматически, Вам придется ввести его вручную в формате JSON.
- **Start Block**: You should input the start block where the contract was deployed to optimize Subgraph indexing of blockchain data.
- **Имя контракта**: Введите имя Вашего контракта.
- **Индексирование событий контракта как объектов**: Рекомендуется установить это значение в "true", так как это автоматически добавит мэппинги для каждого сгенерированного события в ваш субграф.
- **Добавление еще одного контракта (опционально)**: Вы можете добавить еще один контракт.

See the following screenshot for an example of what to expect when initializing your Subgraph:

![Команда субграфа](/img/CLI-Example.png)

### 4. Редактирование вашего субграфа

При внесении изменений в субграф вы будете в основном работать с тремя файлами:

- Манифест (`subgraph.yaml`) — определяет, какие источники данных ваш субграф будет индексировать.
- Схема (`schema.graphql`) — определяет, какие данные вы хотите извлекать из субграфа.
- AssemblyScript Mappings (mapping.ts) - это код, который преобразует данные из Ваших источников данных в объекты, определенные в схеме.

Для подробного объяснения того, как писать ваш субграф, ознакомьтесь с разделом [Создание субграфа](/developing/creating-a-subgraph/).

### 5. Развертывание Вашего субграфа

When you **deploy** a Subgraph, you push it to [Subgraph Studio](https://thegraph.com/studio/), where you can test, stage and review it. A deployed Subgraph's indexing is performed by the [Upgrade Indexer](https://thegraph.com/blog/upgrade-indexer/), which is a single Indexer owned and operated by Edge & Node. A **deployed** Subgraph is free to use, rate-limited, not visible to the public, and meant to be used for development, staging, and testing purposes.

Как только ваш субграф написан, выполните следующие команды:

````
```sh
graph codegen && graph build
```
````

Аутентифицируйтесь и разверните ваш субграф. Ключ для развертывания можно найти на странице субграфа в Subgraph Studio.

![Deploy key](/img/subgraph-studio-deploy-key.jpg)

````
```sh

graph auth <DEPLOY_KEY>

graph deploy <SUBGRAPH_SLUG>
```
````

### 6. Просмотр Вашего субграфа

Если вы хотите протестировать свой субграф перед его публикацией, вы можете использовать [Subgraph Studio](https://thegraph.com/studio/) для выполнения следующих действий:

- Запустить пример запроса.
- Анализируйте свой субграф в панели управления, чтобы проверить информацию.
- Проверьте логи на панели управления, чтобы узнать, есть ли ошибки в вашем субграфе. Логи работающего субграфа будут выглядеть так:

  ![Subgraph logs](/img/subgraph-logs-image.png)

### 7. Опубликуйте свой субграф в сети The Graph

Когда ваш субграф готов к использованию в рабочей среде, вы можете опубликовать его в децентрализованную сеть. Публикация — это действие в сети, которое выполняет следующие задачи:

- It makes your Subgraph available to be indexed by the decentralized [Indexers](/indexing/overview/) on The Graph Network.
- Это снимает ограничения по количеству запросов и делает ваш субграф общедоступным для поиска и запросов в [Graph Explorer](https://thegraph.com/explorer/).
- It makes your Subgraph available for [Curators](/resources/roles/curating/) to add curation signal.

To publish your Subgraph, click the Publish button in the dashboard and select your network.

![Publish a Subgraph on Subgraph Studio](/img/publish-sub-transfer.png)

> It is recommended that you curate your own Subgraph with at least 3,000 GRT to incentivize indexing.

Чтобы сэкономить на газовых расходах, вы можете закрепить свой субграф в той же транзакции, в которой его публикуете, выбрав эту опцию:

![Публикация субграфа](/img/studio-publish-modal.png)

### 8. Запрос Вашего субграфа

Теперь у вас есть доступ к 100 000 бесплатных запросов в месяц для вашего субграфа в The Graph Network!

Вы можете выполнять запросы к своему субграфу, отправляя запросы GraphQL по его URL для запросов, который можно найти, нажав кнопку "Запрос".

Для получения дополнительной информации о том, как выполнять запросы к данным из вашего субграфа, прочитайте статью [Запросы к данным в The Graph](/subgraphs/querying/introduction/).
