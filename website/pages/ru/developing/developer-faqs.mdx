---
title: Часто задаваемы вопросы для разработчиков
---

## 1. What is a subgraph?

Подграф - это пользовательский API, построенный на данных блокчейна. Подграфы запрашиваются с помощью языка запросов GraphQL и развертываются на ноде Graph с помощью Graph CLI. После развертывания и публикации в децентрализованной сети The Graph индексаторы обрабатывают подграфы и делают их доступными для запросов со стороны потребителей подграфов.

## 2. Can I delete my subgraph?

Невозможно удалить подграфы после их создания.

## 3. Can I change my subgraph name?

Нет. После создания подграфа изменить его название нельзя. Обязательно хорошо подумайте, прежде чем создавать свой подграф, чтобы его можно было легко найти и идентифицировать другими децентрализованными приложениями.

## 4. Can I change the GitHub account associated with my subgraph?

Нет. После создания подграфа связанная с ним учетная запись GitHub не может быть изменена. Обязательно тщательно обдумайте этот вопрос перед созданием подграфа.

## 5. Am I still able to create a subgraph if my smart contracts don't have events?

Настоятельно рекомендуется структурировать свои смарт-контракты так, чтобы события были связаны с данными, которые вы хотите запросить. Обработчики событий в подграфе запускаются событиями контракта и являются самым быстрым способом получения полезных данных.

Если контракты, с которыми вы работаете, не содержат событий, ваш подграф может использовать обработчики вызовов и блоков для запуска индексирования. Хотя это не рекомендуется, так как производительность будет существенно ниже.

## 6. Is it possible to deploy one subgraph with the same name for multiple networks?

Вам понадобятся отдельные имена для нескольких сетей. Хотя у вас не может быть разных подграфов под одним и тем же именем, есть удобные способы иметь единую кодовую базу для нескольких сетей. Подробнее об этом читайте в нашей документации: [Redeploying a Subgraph](/deploying/deploying-a-subgraph-to-hosted#redeploying-a-subgraph)

## 7. How are templates different from data sources?

Шаблоны позволяют создавать источники данных на лету, пока ваш подграф индексируется. Может случиться так, что ваш контракт будет создавать новые контракты по мере того, как люди будут с ним взаимодействовать, и поскольку вы заранее знаете структуру этих контрактов (ABI, события и т. д.), вы можете определить, как вы хотите индексировать их в шаблоне, и когда они будут созданы, ваш подграф создаст динамический источник данных, предоставив адрес контракта.

Ознакомьтесь с параграфом "Instantiating a data source template" в разделе: [Data Source Templates](/developing/creating-a-subgraph#data-source-templates).

## 8. How do I make sure I'm using the latest version of graph-node for my local deployments?

Вы можете запустить следующую команду:

```sh
docker pull graphprotocol/graph-node:latest
```

**ПРИМЕЧАНИЕ:** docker / docker-compose всегда будет использовать ту версию graph-node, которая была получена при первом запуске, поэтому важно сделать это, чтобы убедиться, что вы используете последнюю версию graph-node.

## 9. How do I call a contract function or access a public state variable from my subgraph mappings?

Просмотрите положение `Access to smart contract` в разделе [AssemblyScript API](/developing/assemblyscript-api).

## 10. Is it possible to set up a subgraph using `graph init` from `graph-cli` with two contracts? Or should I manually add another datasource in `subgraph.yaml` after running `graph init`?

К сожалению, в настоящее время это невозможно. `graph init` предназначен для использования в качестве базовой отправной точки, из которой вы можете вручную добавить дополнительные источники данных.

## 11. I want to contribute or add a GitHub issue. Where can I find the open source repositories?

- [graph-node](https://github.com/graphprotocol/graph-node)
- [graph-cli](https://github.com/graphprotocol/graph-cli)
- [graph-ts](https://github.com/graphprotocol/graph-ts)

## 12. What is the recommended way to build "autogenerated" ids for an entity when handling events?

Если во время события создается только один объект и нет ничего лучшего, то индекс хэша транзакции и журнала будет уникальным. Вы можете замаскировать их, преобразовав в байты, а затем, пропустив через `crypto.keccak256`, но это не сделает их более уникальными.

## 13. When listening to multiple contracts, is it possible to select the contract order to listen to events?

Внутри подграфа события всегда обрабатываются в том порядке, в котором они появляются в блоках, независимо от того, относится ли это к нескольким контрактам или нет.

## 14. Is it possible to differentiate between networks (mainnet, Goerli, local) from within event handlers?

Да. Вы можете это сделать, импортировав `graph-ts`, как показано в примере ниже:

```javascript
import { dataSource } from '@graphprotocol/graph-ts'

dataSource.network()
dataSource.address()
```

## 15. Do you support block and call handlers on Goerli?

Да. Goerli поддерживает обработчики блоков, обработчики вызовов и обработчики событий. Следует отметить, что обработчики событий намного более эффективны, чем два других обработчика, и они поддерживаются в каждой сети, совместимой с EVM.

## 16. Can I import ethers.js or other JS libraries into my subgraph mappings?

В настоящее время нет, так как сопоставления написаны на AssemblyScript. Одним из возможных альтернативных решений является хранение необработанных данных в объектах и выполнение логики, для которой требуются библиотеки JS на клиенте.

## 17. Is it possible to specify what block to start indexing on?

Да. `dataSources.source.startBlock` в файле `subgraph.yaml` указывает номер блока, с которого источник данных начинает индексацию. В большинстве случаев мы предлагаем использовать блок, в котором создавался контракт: Стартовые блоки

## 18. Are there some tips to increase the performance of indexing? My subgraph is taking a very long time to sync

Да, Вам следует обратить внимание на дополнительную функцию стартового блока, чтобы начать индексирование с блока, в котором был развернут контракт: [Start blocks](/developing/creating-a-subgraph#start-blocks)

## 19. Is there a way to query the subgraph directly to determine the latest block number it has indexed?

Да! Попробуйте выполнить следующую команду, заменив "organization/subgraphName" на наименование организации, под которой она опубликована, и название вашего подграфа:

```sh
curl -X POST -d '{ "query": "{indexingStatusForCurrentVersion(subgraphName: \"organization/subgraphName\") { chains { latestBlock { hash number }}}}"}' https://api.thegraph.com/index-node/graphql
```

## 20. What networks are supported by The Graph?

Вы можете найти список поддерживаемых сетей [здесь](/developing/supported-networks).

## 21. Is it possible to duplicate a subgraph to another account or endpoint without redeploying?

Вы должны повторно развернуть подграф, но если идентификатор подграфа (хэш IPFS) не изменится, его не нужно будет синхронизировать с самого начала.

## 22. Is this possible to use Apollo Federation on top of graph-node?

Federation пока не поддерживается, хотя мы хотим сделать это в будущем. На данный момент вы можете использовать объединение схем либо на клиенте, либо через прокси-сервис.

## 23. Is there a limit to how many objects The Graph can return per query?

По умолчанию ответы на запросы ограничены 100 единицами на коллекцию. Если вы хотите получать больше, вы можете довести количество до 1000 единиц на коллекцию, а после этого можно переводить их в пагинацию:

```graphql
someCollection(first: 1000, skip: <number>) { ... }
```

## 24. If my dapp frontend uses The Graph for querying, do I need to write my query key into the frontend directly? What if we pay query fees for users – will malicious users cause our query fees to be very high?

В настоящее время рекомендуемым подходом для децентрализованного приложения является добавление ключа во внешний интерфейс и предоставление его конечным пользователям. Тем не менее вы можете ограничить этот ключ именем хоста, например _yourdapp.io_ и подграфом. Шлюз в настоящее время управляется Edge & Node. Частью ответственности шлюза является отслеживание неправомерного поведения и блокировка трафика от вредоносных клиентов.

## 25. Where do I go to find my current subgraph on the Hosted Service?

Перейдите в Hosted Service, чтобы найти подграфы, которые вы или другие развернули в нём. Вы можете найти его [здесь](https://thegraph.com/hosted-service).

## 26. Will the Hosted Service start charging query fees?

The Graph никогда не будет взимать плату за Hosted Service. The Graph — это децентрализованный протокол, и взимание платы за централизованную услугу не соответствует ценностям The Graph. Hosted Service всегда был временным шагом, помогающим получить доступ к децентрализованной сети. У разработчиков будет достаточно времени, чтобы перейти на децентрализованную сеть, когда им будет удобно.

## 27. When will the Hosted Service be shut down?

Hosted Service будет закрыт в первом квартале 2023 года. Прочитайте объявление в блоге [здесь](https://thegraph.com/blog/sunsetting-hosted-service). Всем децентрализованным приложениям, использующим Hosted Service, рекомендуется перейти на децентрализованную сеть. Разработчики могут получить гранты на миграцию, чтобы перенести свой подграф. Если ваше децентрализованное приложение переносит подграф, вы можете подать заявку [здесь](https://thegraph.typeform.com/to/Zz8UAPri?typeform-source=thegraph.com).

## 28. How do I upgrade a subgraph on mainnet?

Если вы являетесь разработчиком подграфа, вы можете обновить версию своего подграфа в Studio с помощью интерфейса командной строки (CLI). На этом этапе он будет приватным, но, если вы захотите, вы сможете опубликовать его в децентрализованном Graph Explorer. Это создаст новую версию вашего подграфа, на которую кураторы могут начать подавать сигналы.
