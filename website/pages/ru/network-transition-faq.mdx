---
title: Часто задаваемые вопросы о переносе сети
---

У разработчиков будет достаточно времени, чтобы перенести свои субграфы в децентрализованную сеть. Точные сроки будут варьироваться от сети к сети в зависимости от индексатора и готовности сети — сервис хостинга не прекратит поддержку всех сетей сразу и не завершит свою работу внезапно.

Каждая сеть в хостинговом сервисе, включая Ethereum, будет постепенно закрываться, поскольку она поддерживается децентрализованной сетью для достижения паритета функций и высокого качества обслуживания. Это будет происходить от сети к сети с помощью индексаторов в [MIPs program](https://thegraph.com/blog/mips-multi-chain-indexing-incentivized-program/), чтобы обеспечить полную поддержку каждой сети в децентрализованной сети.

Раздел часто задаваемых вопросов вносит ясность в отношении дальнейшей поддержки каждой сети в хостинговом сервисе и содержит ответы на самые распространённые вопросы об особенностях процесса перехода к сети. Если Вы хотите начать процесс переноса субграфа, воспользуйтесь [пошаговым руководством](https://thegraph.com/blog/how-to-migrate-ethereum-subgraph). Перейти к часто задаваемым вопросам о миграции Вы можете [здесь](#migration-faqs).

## Часто задаваемые вопросы о закрытии хостингового сервиса

### Нужно ли будет переносить субграф перед тем, как децентрализованная сеть предоставит обслуживание субграфов?

Разработчики субграфов могут начать перенос своих субграфов основной сети Ethereum уже сейчас, но не следует переносить субграфы в сеть, пока не появятся основные функции для децентрализованной сети и хостингового сервиса. Перенос субграфов Gnosis network также скоро начнется, а другие сети последуют после того, как индексаторы их протестируют и будут готовы индексировать в производстве.

### Каковы сроки и процесс прекращения поддержки хостингового сервиса?

Все сети будут иметь свои временные шкалы, в зависимости от того, когда они включены в сеть, и сколько времени необходимо для прохождения каждой фазы. Разработчики ядра работают над тем, чтобы как можно скорее перенести большую часть трафика хостингового сервиса в децентрализованную сеть.

Что наиболее важно, Вы не потеряете доступ к сервису хостинга до того, как основные функции станут доступны для Ваших конкретных сети/субграфа в децентрализованной сети.

Три этапа прекращения поддержки хостинговых услуг для каждой сети:

#### Этап 1 (The Sunray): отключение создания нового субграфа для блокчейнов, которые имеют паритет качества в сети

In this stage, developers will no longer be able to deploy new subgraphs to the hosted service for that network. Developers will still be able to update existing subgraphs on the hosted service.

Ни одна сеть еще не начал Этап 1 перехода от хостингового сервиса к децентрализованной сети.

По мере того, как сети переходят в Этап 1, обратите внимание, что разработчики по-прежнему могут использовать ограниченный URL-адрес предварительного просмотра в Subgraph Studio для разработки и тестирования своих субграфов (до 1000 бесплатных запросов) без приобретения GRT или взаимодействия с экономикой протокола.

#### Phase 2 (The Sunbeam): Disable subgraph updates

In this phase, updates to subgraphs must be made through Subgraph Studio and subsequently published to the decentralized network. Hosted service subgraphs for networks in this phase will still exist and will be queryable, but updates to subgraphs must be made on The Graph's decentralized network.

Точных сроков, когда та или иная сеть перейдет к этой фазе, нет, поскольку процесс определяется критериями выхода, связанными с основными функциями, а не с датами.

#### Этап 3 (The Sunrise): Отключение запросов субграфов

На этом этапе субграфы хостинговой службы для сетей, поддерживаемых The Graph Network, больше не будут обрабатывать запросы. Единственный способ запросить данные блокчейна для субграфов в сетях на этом этапе — через децентрализованную сеть. Тестовые запросы по-прежнему будут доступны в [Subgraph Studio](https://thegraph.com/studio/) через URL запроса разработки.

Сети не перейдут к Этапу 3 до тех пор, пока успешно не перейдут к Этапу 2 и не предоставят разработчикам достаточно времени для перехода на децентрализованную сеть.

![диаграмма субграфа](/img/subgraph-chart.png)

> Примечание. На этой диаграмме показан процесс закрытия для каждой сети. Время прекращения действия Хостинговой службы будет различным, а работа Хостинговой службы не будет прекращена сразу.

### Что происходит с такими тестовыми сетями, как Goerli, Mumbai и т. д.?

Для всех сетей, в том числе тестовых, доступен бесплатный URL-адрес запроса на развертывание в [Subgraph Studio](https://thegraph.com/studio/). Этот URL-адрес ограничен по скорости и предназначен для тестирования и разработки трафика. Для производственного трафика потребуется субграф, опубликованный в The Graph Network, чтобы обеспечить резервирование и стабильность производственного уровня.

![Ограничение скорости](/img/rate-limit.png)

### Обладает ли The Graph Network теми же функциями, что и сервис хостинга?

Индексаторы в The Graph Network используют самый последний, утвержденный сетью, [выпуск Graph Node](https://github.com/graphprotocol/graph-node/releases) и могут поддерживать в этом релизе любые поддерживаемые функции субграфов.

Иногда невыпущенные функции, которые все еще находятся в стадии разработки, могут быть доступны разработчикам сначала по URL-адресу предварительного просмотра, который запускает последнюю основную фиксацию [Graph Node](https://github.com/graphprotocol/graph-node). Эти функции станут доступны в сети со следующим выпуском Graph Node.

Определенные функции субграфа не имеют права на получение вознаграждения за индексацию, если они не являются детерминированными или не поддающимися проверке в сети. Конкретными примерами являются извлечение файлов из IPFS и индексация сетей, которые еще не поддерживаются в The Graph Network.

Субграфы с такими характеристиками могут быть опубликованы в сети, но индексаторы не смогут их получить. Тем не менее субграфы с достаточным сигналом могут по-прежнему привлекать индексаторов, заинтересованных в сборе платы за запросы, на которую может претендовать любой субграф.

### Сколько стоит The Graph Network по сравнению с запуском моей собственной инфраструктуры?

The Graph's decentralized network is 60-90% less expensive than running dedicated infrastructure, as shown in [these case studies](https://thegraph.com/docs/en/network/benefits/#low-volume-user-less-than-30000-queries-per-month).

### Нужно ли мне что-то делать с субграфом хостингового сервиса после переноса в сеть?

Во избежание недоразумений настоятельно рекомендуется скрывать субграф хостингового сервиса. [В этом видео](https://www.loom.com/share/7cffd2a7845e4fbd8c51f45c516cb7f9) показано, как это сделать.

### Когда децентрализованная сеть начнёт поддерживать предпочитаемую мною сеть?

Для каждой сети нет установленных сроков, они будут определяться готовностью индексатора через [программу MIP](https://thegraph.com/migration-incentive-program/), где индексаторы тестируют новые сети. По мере того, как в сети будут поддерживаться новые сети, пользователи получат определённое количество уведомлений, чтобы подготовиться к переходу. Разработчики ядра и участники экосистемы The Graph работают над скорейшей реализацией поддержки большего количества сетей.

### Вступает ли основная сеть Ethereum в Этап 1 процесса перехода к сети?

Первоначально предполагалось, что Ethereum начнет переход с хостингового сервиса к концу третьего квартала 2022 года, но этот переход был [отложен](https://thegraph.com/blog/transitioning-to-decentralized-graph-network) благодаря полученной обратной связи от пользователей. Дополнительные улучшения в пользовательском опыте, биллинге и других запросах пользователей определят сроки перехода хостинговых сервисов Ethereum. Чтобы узнать, когда Ethereum перейдет в фазу Sunray, воспользуйтесь трекером статуса интеграции ниже и [The Graph Twitter.](http://www.twitter.com/graphprotocol)

### Трекер состояния интеграции The Graph Network

В приведенной ниже таблице показано, на каком этапе процесса сетевой интеграции находится каждая сеть. Если предпочитаемой сети нет в списке, значит, интеграция еще не началась, и эта сеть по-прежнему полностью поддерживается хостинговой службой The Graph.

> В эту таблицу не будут включены тестовые сети, которые остаются бесплатными в [Subgraph Studio](https://thegraph.com/studio/).

| Сеть                | Объявление об интеграции в The Graph Network | Сетевая интеграция завершена | Этап 1: отключение новых субграфов в хостинговом сервисе | Phase 2: disable subgraph updates on hosted service | Этап 3: отключение субграфов в хостинговом сервисе |
| ------------------- |:--------------------------------------------:|:----------------------------:|:--------------------------------------------------------:|:---------------------------------------------------:|:--------------------------------------------------:|
| Ethereum            |                      ✓                       |              ✓               |                                                          |                                                     |                                                    |
| Gnosis (ранее xDAI) |                      ✓                       |            ✓\*             |                                                          |                                                     |                                                    |
| Polygon             |                      ✓                       |                              |                                                          |                                                     |                                                    |
| Celo                |                      ✓                       |            ✓\*             |                                                          |                                                     |                                                    |
| Arbitrum One        |                      ✓                       |            ✓\*             |                                                          |                                                     |                                                    |
| Avalanche           |                      ✓                       |            ✓\*             |                                                          |                                                     |                                                    |
| Optimism            |                      ✓                       |                              |                                                          |                                                     |                                                    |
| Fantom              |                      ✓                       |                              |                                                          |                                                     |                                                    |

\* Сеть в настоящее время находится в стадии бета-тестирования в децентрализованной сети The Graph.

## Часто задаваемые вопросы о комиссиях за запросы, API-ключах и биллинге

### Как рассчитываются сборы за запросы?

На стоимость запросов влияет спрос на них в децентрализованной сети. Разработчики ядра создали язык модели ценообразования запросов под названием [Agora](https://github.com/graphprotocol/agora). Он позволяет индексаторам эффективно оценивать запросы. Дополнительные сведения см. в [документации Agora](https://github.com/graphprotocol/agora/blob/master/docs/README.md).

### Как установить максимальный бюджет запроса?

Пользователи могут установить максимальный бюджет запроса в разделе Subgraph Studio [Ключ API](https://thegraph.com/studio/apikeys/) на вкладке Бюджет. [Посмотрите это видео](https://www.loom.com/share/b5fc533e48584cb694017392c80c75e0), чтобы получить представление об этом процессе, а также о настройке других частей вашего ключа API.

Обратите внимание, что установка слишком низкого максимального бюджета запросов приведет к исключению индексаторов, что может привести к низкому качеству обслуживания в виде неудачных запросов, медленных запросов и т. д.

По состоянию на конец сентября 2022 г. рекомендуется оставаться в диапазоне от 0,00035 до 0,0004 доллара США в качестве наименьшего максимального бюджета запроса.

### Как я могу защитить свой ключ API?

Пользователям рекомендуется ограничить ключ API как субграфом, так и доменом в [Subgraph Studio](https://thegraph.com/studio/):

![Рестрикт домена](/img/restrictdomain.png)

### Как пополнить ключ API для оплаты сборов за запросы?

Вы можете пополнить свой платежный баланс в Subgraph Studio на [Панели управления счетами](https://thegraph.com/studio/billing/), нажав кнопку "Добавить GRT". В настоящее время ведется работа по улучшению этого процесса, чтобы добавить больше бесшовных и повторяющихся платежей.

[В этом видео](https://www.loom.com/share/a81de6ef11d64c62872ea210c58c6af5) представлен обзор этого процесса.

### Как настроить оповещения о низком остатке на счетах в моем ключе API?

Пользователям следует настроить оповещение о выставлении счетов на свой адрес электронной почты [здесь](https://thegraph.com/studio/settings/).

Кроме того, в пользовательском интерфейсе будет мигать баннер, чтобы предупредить, когда баланс счета становится низким.

Каковы наилучшие методы управления настройками моего ключа API?

Рекомендуется максимальный бюджет запроса в размере 0,0004 доллара США, чтобы поддерживать низкую среднюю цену запроса при сохранении высокого качества обслуживания. Это можно сделать на вкладке "Оплата бюджета" раздела [Ключ API](https://thegraph.com/studio/apikeys/).

## Часто задаваемые вопросы о миграции

### Как я могу перенести свой субграф в децентрализованную сеть The Graph?

Узнайте, как перенести свой субграф в The Graph Network, с помощью этого простого [пошагового руководства](https://thegraph.com/blog/how-to-migrate-ethereum-subgraph) или [этого видео](https://www.youtube.com/watch?v=syXwYEk-VnU&t=1s).

### Are there Network Grants for subgraphs that migrate early to The Graph Network?

Yes. To apply for a Network Grant, reach out [here](mailto:migration@thegraph.foundation).

### Предоставляется ли какая-либо финансовая/техническая/маркетинговая поддержка в процессе миграции из экосистемы The Graph?

There are Network Grants for projects to use to curate subgraphs (to attract Indexers) and pay for initial query fees (apply [here](https://thegraph.typeform.com/to/Zz8UAPri?typeform-source=thegraph.com)), a [direct channel](http://thegraph.com/discord) to engineers to help every step of the way, and prioritized marketing campaigns to showcase your project after migration, exampled in these Twitter threads: [1](https://twitter.com/graphprotocol/status/1496891582401814537), [2](https://twitter.com/graphprotocol/status/1491926128302379008), & [3](https://twitter.com/graphprotocol/status/1491126245396201473).

### Как долго выполняются запросы?

Запросы в децентрализованной сети занимают в среднем 150-300 миллисекунд.

### Процесс выставления счетов в The Graph Network сложнее, чем в хостинговом сервисе?

Да, UX для сети еще не соответствует качеству хостинга. В частности, биллинговый UX все еще находится на очень ранней стадии, и имеет много подвижных частей, поэтому команда разработчиков ядра работает над устранением их из процесса. Большая часть этих улучшений будет обнародована в ближайшем будущем.

### Могу ли я оплачивать запросы The Graph Network фиатными деньгами, кредитной картой или стейблкоинами?

В ближайшие месяцы количество шагов, которые пользователи должны предпринять для оплаты своих подграфов, будет значительно сокращено. Хотя платежи по-прежнему будут производиться в GRT, уже предпринимаются усилия по внедрению фиатных и автоматизированных платежных систем для конвертации фиата и криптовалюты в GRT для осуществления регулярных платежей.

### Будет ли когда-нибудь сеть иметь тот же UX, что и сервис хостинга?

Несмотря на то, что еще многое предстоит сделать, цель состоит в том, чтобы предложить сравнимый, если не более качественный UX в The Graph Network, чем тот, который в настоящее время существует в хостинговом сервисе. В краткосрочной перспективе цель состоит в том, чтобы предложить более рациональный и предсказуемый способ выставления счетов, который поможет пользователям уделять больше времени созданию высококачественных децентрализованных приложений.

### Как я могу гарантировать, что мой субграф будет выбран индексатором в The Graph Network?

Рекомендуется курировать как минимум 10 000 GRT, что позволяет пользователям курировать ту же транзакцию, что и при публикации. Пользователи также могут попросить сообщество кураторов курировать их субграф [здесь](https://t.me/CurationStation).

There are Network Grants for the early migrants to cover these initial costs. Feel free to apply [here](mailto:migration@thegraph.foundation).

### Зачем субграфу нужен кураторский сигнал? Что делать, если на моем субграфе недостаточно сигнала от кураторов?

Чем выше сигнал курирования, тем более привлекательным является субграф для индексаторов, поскольку существует линейная корреляция между более высоким сигналом и более высоким вознаграждением за индексирование. Без курации у индексаторов нет стимула выбирать субграф.

### Что происходит с GRT, которые разработчик субграфа использует в качестве сигнала курирования?

Если Вы первым просигнализируете о субграфе, сумма вашего сигнала GRT не уменьшится. GRT, используемый для курирования, может быть удален позже. Кроме того, кураторы получают 10% от всех сборов за запросы, взимаемых индексаторами.

### Какие улучшения внесены в процесс курирования?

В краткосрочной перспективе первоначальная модель курирования на Arbitrum обеспечит принципиальную защиту сигнала курирования. В долгосрочной перспективе разработчики ядра будут уделять первоочередное внимание предоставлению разработчикам возможности арендовать сигнал курирования, открывая более предсказуемый ценовой опыт, обеспечивая при этом достаточную индексацию субграфов.

### Как переключить API-интерфейс субграфа во внешнем интерфейсе?

После того как хотя бы один индексатор полностью проиндексировал субграф, пользователь может запросить децентрализованную сеть.

Чтобы получить URL-адрес запроса для вашего субграфа, Вы можете скопировать/вставить его, нажав символ рядом с URL-адресом запроса. Вы увидите примерно следующее:

`https://gateway.thegraph.com/api/[api-key]/subgraphs/id/S9ihna8D733WTEShJ1KctSTCvY1VJ7gdVwhUujq4Ejo`

Просто замените [api-key] ключом API, сгенерированным в [разделе Ключ API](https://thegraph.com/studio/apikeys/) в Subgraph Studio.

### Сколько стоят запросы?

Средняя стоимость запроса в сети варьируется. В сентябре 2022 года средняя цена за плату за запрос варьировалась от 0,00012 до 0,00020 долларов США.

### Как узнать, какой объем у моего субграфа и сколько это будет стоить?

Данные объема хостингового сервиса не являются общедоступными. Пожалуйста, свяжитесь с нами [здесь](mailto:migration@thegraph.foundation), чтобы получить оценку объема и стоимости.

### Как работает шлюз? Он полностью децентрализован?

Шлюз обрабатывает запросы, чтобы индексаторы могли обслуживать децентрализованные приложения. Шлюзы находятся в промежуточной фазе, которая постепенно децентрализуется. Подробнее об этом в ближайшее время.

## Часто задаваемые вопросы об использовании сети

### Is there a cost to update my subgraph?

Yes, it is 1% of curation signaled. The 1% is split evenly between Curators (0.5%) and subgraph developers (0.5%). So, for every 10K GRT signaled, it costs subgraph developers 50 GRT to update.

### Как ускорить время синхронизации?

Сведите к минимуму использование вызовов смарт-контрактов внутри субграфа. Для доступа к состоянию смарт-контракта требуется eth_call для RPC, это замедлит время синхронизации.

### Есть ли в Subgraph Studio поддержка мультиподписи при переходе?

Да, поддержка мультиподписи была недавно добавлена. Дополнительную информацию можно найти [здесь](https://thegraph.com/docs/studio/multisig).

### Каковы адреса контрактов для GRT на Ethereum и Arbitrum?

- Ethereum: `0xc944E90C64B2c07662A292be6244BDf05Cda44a7`
- Ethereum Goerli: `0x5c946740441C12510a167B447B7dE565C20b9E3C`
- Arbitrum: `0x9623063377AD1B27544C965cCd7342f7EA7e88C7`
- Arbitrum Goerli: `0x18c924bd5e8b83b47efadd632b7178e2fd36073d`

### Сколько GRT обычно хранят проекты в своем API-ключе?

Многие проекты хранят GRT в своем API-ключе 30-60 дней, поэтому им не нужно часто пополнять баланс. Чтобы узнать, каковы будут ваши сборы GRT за 30-60 дней, обратитесь [сюда](mailto:migration@thegraph.foundation).

### Как в децентрализованной сети производятся платежи по запросам? 

Счета на оплату выставляются еженедельно и извлекаются из ключа API пользователя, а GRT подключается к Arbitrum и размещается на нем.

### Как ключи API используются для субграфов в децентрализованной сети?

Ключи API позволяют пользователям влиять как на максимальные цены запросов, которые они платят, так и на приоритетность таких факторов, как цена, экономическая значимость и скорость запросов.

### Как в настоящее время сравнивается качество обслуживания между хостингом и децентрализованной сетью?

Хостинговая служба и децентрализованная сеть имеют примерно одинаковую медианную задержку, но децентрализованная сеть, как правило, имеет более высокую задержку при более высоких процентилях. Показатель 200 для запросов также примерно одинаков, оба на уровне > 99,9%. В результате децентрализации в сети не было серьезных сбоев в субграфах, в то время как у хостинговой службы в редких случаях бывают временные сбои из-за ее централизованного характера.

### Что, если на мой вопрос нет ответа в этих FAQ?

За дополнительной помощью обратитесь по адресу [migration@thegraph.foundation](mailto:migration@thegraph.foundation).
