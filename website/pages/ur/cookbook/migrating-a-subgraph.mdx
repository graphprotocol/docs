---
title: موجودہ سب گراف کو گراف نیٹورک پر منتقل کرنا
---

## تعارف

یہ آپ کے سب گراف کو ہوسٹڈ سروس سے دی گراف کے ڈیسینٹرالائزڈ نیٹ ورک میں منتقل کرنے کے بارے میں ایک گائیڈ ہے۔ گراف نیٹ ورک میں منتقلی Opyn، UMA، mStable، Audius، PoolTogether، Livepeer، RAI، Enzyme، DODO، Pickle، اور BadgerDAO جیسے پروجیکٹس کے لیے کامیاب رہی ہے، یہ سبھی نیٹ ورک پر انڈیکسرز کے فراہم کردہ ڈیٹا پر انحصار کر رہے ہیں۔ دی گراف کے ڈیسینٹرالائزڈ نیٹ ورک پر اب 700 سے زیادہ سب گراف براہ راست ہیں، کیوری کی فیس پیدا کر رہے ہیں اور ویب 3 ڈیٹا کو فعال طور پر انڈیکس کر رہے ہیں.

منتقلی کا عمل تیز ہوتا ہے اور آپ کا سب گراف ہمیشہ ایسے اعتبار اور کارکردگی سے فائدہ اٹہاۓ گا جو آپ کو صرف گراف نیٹورک ہی دے سکتا ہے.

### مفروضے

- آپ نے پہلے ہی ھوسٹڈ سروس پر سب گراف تعینات کر دیا ہے.
- سب گراف دی گراف نیٹ ورک پر دستیاب (یا بیٹا میں دستیاب) چین کو ترتیب دے رہا ہے.
- سب گراف میں IPFS یا مکمل متن کی تلاش پر انحصار نہیں ہے (یہ ابھی تک decentralized نیٹ ورک پر مکمل طور پر تعاون یافتہ نہیں ہیں).

## موجودہ سب گراف کو گراف نیٹورک پر منتقل کرنا

> آپ اپنے سب گراف کے لیے مخصوص کمانڈز [سب گراف اسٹوڈیو](https://thegraph.com/studio/) میں تلاش کر سکتے ہیں.

1. گراف-cli کا جدید ورژن انسٹال کریں:

```sh
npm install -g @graphprotocol/graph-cli
```

```sh
yarn global add @graphprotocol/graph-cli
```

یہ یقینی بنائیں کہ subgraph.yaml میں آپ کا `apiVersion` `0.0.5` یا اس سے زیادہ ہے.

2. سب گراف کے مرکزی پروجیکٹ کے ذخیرے کے اندر، سٹوڈیو پر تعینات اور تعمیر کرنے کے لیے سب گراف کی تصدیق کریں:

```sh
graph auth --studio <DEPLOY_KEY>
```

3. فائلیں اور سب گراف بنائیں:

```sh
graph codegen && graph build
```

اگر آپ کے سب گراف میں تعمیراتی خرابیاں ہیں، تو [اسمبلی اسکرپٹ مائیگریشن گائیڈ](/release-notes/assemblyscript-migration-guide/) سے رجوع کریں.

4. اپنے والیٹ سے [سب گراف اسٹوڈیو](https://thegraph.com/studio/) میں سائن ان کریں اور سب گراف کو تعینات کریں۔ آپ اسٹوڈیو UI میں اپنا `<SUBGRAPH_SLUG>` تلاش کر سکتے ہیں، جو آپ کے سب گراف کے نام پر مبنی ہے.

```sh
graph deploy --studio <SUBGRAPH_SLUG>
```

5. اسٹوڈیو کے پلے گراونڈ پر ٹیسٹ سوالات. یہاں [سو شی - مین نیٹ ایکسچینج سب گراف](https://thegraph.com/explorer/subgraph?id=0x4bb4c1b0745ef7b4642feeccd0740dec417ca0a0-0&view=Playground) کی کچہ مثالیں ہیں:

```sh
{
  users(first: 5) {
    id
    liquidityPositions {
      id
    }
  }
  bundles(first: 5) {
    id
    ethPrice
  }
}
```

6. اس وقت، آپ کا سب گراف اب سب گراف اسٹوڈیو پر تعینات ہے، لیکن ابھی تک ڈیسینٹرالائزڈ نیٹ ورک پر شائع نہیں ہوا ہے۔ اب آپ سب گراف کی جانچ کر سکتے ہیں تاکہ یہ یقینی بنایا جا سکے کہ یہ عارضی کیوری کے URL کا استعمال کرتے ہوئے جیسا کہ اوپر دائیں کالم کے اوپر دیکھا گیا ہے کام کر رہا ہے۔ جیسا کہ یہ نام پہلے ہی تجویز کرتا ہے، یہ ایک عارضی URL ہے اور اسے پروڈکشن میں استعمال نہیں کیا جانا چاہیے.

- اشاعت ایک آن چین ایکشن ہے اور اس کے لیے ایتھیریم میں گیس کی ادائیگی کی ضرورت ہوگی - [یہاں](https://etherscan.io/tx/0xd0c3fa0bc035703c9ba1ce40c1862559b9c5b6ea1198b3320871d535aa0de87b) ایک مثالی ٹرانزیکشن دیکھیں. قیمتیں 100 gwei پر تقریباً 0.0425 ETH ہیں.
- جب آپ کو اپنا سب گراف اپ گریڈ کرنے کی ضرورت ہو، آپ سے اپ گریڈ فیس وصول کی جائے گی۔ یاد رکھیں، اپ گریڈ کرنا صرف آپ کے موجودہ سب گراف آن چین کا دوسرا ورژن شائع کرنا ہے۔ چونکہ اس پر لاگت آتی ہے، اس لیے مین نیٹ پر تعینات کرنے سے پہلے اپنے سب گراف کو Goerli پر تعینات کرنے اور جانچنے کی انتہائی سفارش کی جاتی ہے۔ اگر اس سب گراف پر کوئی سگنل نہیں ہے تو اسے، بعض صورتوں میں، کچھ GRT کی بھی ضرورت پڑ سکتی ہے۔ اس سب گراف ورژن پر سگنل/کیوریشن ہونے کی صورت میں (آٹو مائیگریٹ کا استعمال کرتے ہوئے)، ٹیکس تقسیم ہو جائیں گے.

7. "شائع کریں" کے بٹن کو دبا کر گراف کے decentralized نیٹ ورک پر سب گراف کو شائع کریں.

اور یہ بات ہے! اشاعت مکمل کرنے کے بعد، آپ اپنے سب گراف کو decentralized نیٹ ورک پر براہ راست [گراف ایکسپلورر](https://thegraph.com/explorer) کے ذریعے دیکھ سکیں گے.

ڈسکورڈ پر [#کیوریٹر چینل](https://discord.gg/rC8rBuRtbH) کا فائدہ اٹھانے کے لیے بلا جھجھک کیوریٹرز کو یہ بتانے کے لیے کہ آپ کا سب گراف سگنل کیے جانے کے لیے تیار ہے۔ اگر آپ اپنے متوقع کیوری کا حجم ان کے ساتھ شیئر کریں تو یہ بھی مددگار ثابت ہوگا۔ لہذا، وہ اندازہ لگا سکتے ہیں کہ انہیں آپ کے سب گراف پر کتنا GRT سگنل دینا چاہیے.

### ایک API کلید بنائیں

آپ سب گراف اسٹوڈیو میں ایک API کلید [یہاں](https://thegraph.com/studio/apikeys/) بنا سکتے ہیں.

![API کلیدی تخلیق کا صفحہ](/img/api-image.png)

ہر ہفتے کے آخر میں، کیوری کی فیس کی بنیاد پر ایک رسید تیار کی جائے گی جو اس مدت کے دوران خرچ کی گئی ہیں۔ یہ انوائس آپ کے بیلنس میں دستیاب GRT کا استعمال کرتے ہوئے خود بخود ادا کی جائے گی۔ آپ کی کیوری فیس کی لاگت واپس لینے کے بعد آپ کا بیلنس اپ ڈیٹ ہو جائے گا۔ سوال کی فیس آربٹرم نیٹ ورک کے ذریعے GRT میں ادا کی جاتی ہے۔ آپ کو درج ذیل مراحل کے ذریعے اپنی API کلید کو فعال کرنے کے لیے آربٹرم بلنگ کنٹریکٹ میں GRT شامل کرنے کی ضرورت ہوگی:

- اپنی پسند کے ایکسچینج پر GRT خریدیں.
- اپنے والیٹ پر GRT بھیجیں.
- اسٹوڈیو میں بلنگ صفحہ پر، GRT شامل کریں پر کلک کریں.

![بلنگ میں GRT شامل کریں](/img/Add-GRT-New-Page.png)

- اپنے بلنگ بیلنس میں اپنا GRT شامل کرنے کے لیے اقدامات پر عمل کریں.
- آپ کا GRT خود بخود آربٹرم نیٹ ورک سے منسلک ہو جائے گا اور آپ کے بلنگ بیلنس میں شامل ہو جائے گا.

![بلنگ پین](/img/New-Billing-Pane.png)

> نوٹ: اپنے بلنگ بیلنس میں GRT شامل کرنے سے متعلق مکمل ہدایات کے لیے [آفیشل بلنگ پیج](../billing.mdx) دیکھیں.

### اپنی API کلید کو محفوظ کرنا

یہ تجویز کیا جاتا ہے کہ آپ API کو دو طریقوں سے اس کے استعمال کو محدود کرکے محفوظ کریں:

1. مجاز سب گراف
2. مجاز ڈومین

آپ اپنی API کلید کو [یہاں](https://thegraph.com/studio/apikeys/test/) محفوظ کر سکتے ہیں.

![سب گراف لاک ڈاؤن صفحہ](/img/subgraph-lockdown.png)

### ڈیسینٹرالائزڈ نیٹ ورک پر آپ کے سب گراف سے کیوری کرنا

اب آپ گراف ایکسپلورر میں نیٹ ورک پر اشاریہ سازوں کی اشاریہ سازی کی حیثیت چیک کر سکتے ہیں (مثال کے طور پر [یہ](https://thegraph.com/explorer/subgraph?id=S9ihna8D733WTEShJ1KctSTCvY1VJ7gdVwhUujq4Ejo&view=Indexers)). سب سے اوپر کی سبز لکیر اس بات کی نشاندہی کرتی ہے کہ پوسٹ کرنے کے وقت 8 انڈیکسرز نے اس سب گراف کو کامیابی کے ساتھ انڈیکس کیا۔ انڈیکس ٹیب میں بھی آپ دیکھ سکتے ہیں کہ کن انڈیکسرز نے آپ کا سب گراف اٹھایا.

![راکٹ پول سب گراف](/img/rocket-pool-subgraph.png)

جیسے ہی پہلے انڈیکسر نے آپ کے سب گراف کو مکمل طور پر انڈیکس کیا ہے آپ ڈیسینٹرالائزڈ نیٹ ورک پر سب گراف سے کیوری کرنا شروع کر سکتے ہیں۔ اپنے سب گراف کے لیے کیوری کا URL بازیافت کرنے کے لیے، آپ کیوری کے URL کے آگے علامت پر کلک کر کے اسے کاپی/پیسٹ کر سکتے ہیں۔ آپ کو کچھ اس طرح نظر آئے گا:

`https://gateway.thegraph.com/api/[api-key]/subgraphs/id/S9ihna8D733WTEShJ1KctSTCvY1VJ7gdVwhUujq4Ejo`

اہم: یقینی بنائیں کہ `[api-key]` کو اوپر والے حصے میں تیار کردہ اصل API کلید سے تبدیل کریں.

اب آپ اپنی گراف کیو ایل کی درخواستیں بھیجنے کے لیے اپنے ڈیپ میں اس کیوری URL استعمال کر سکتے ہیں.

مبارک ہو! اب آپ decentralization کے علمبردار ہیں!

> نوٹ: نیٹ ورک کی تقسیم شدہ نوعیت کی وجہ سے ایسا ہو سکتا ہے کہ مختلف انڈیکسرز نے مختلف بلاکس تک انڈیکس کیا ہو۔ صرف تازہ ڈیٹا حاصل کرنے کے لیے آپ کم از کم بلاک کی وضاحت کر سکتے ہیں جو ایک انڈیکسر کو بلاک کے ساتھ آپ کے کیوری کو پیش کرنے کے لیے انڈیکس کرنا ہوتا ہے: `{ number_gte: $minBlock }` فیلڈ آرگومنٹ جیسا کہ ذیل کی مثال میں دکھایا گیا ہے:

```graphql
{
  stakers(block: { number_gte: 14486109 }) {
    id
  }
}
```

نیٹ ورک کی نوعیت اور دوبارہ تنظیموں کو سنبھالنے کے طریقہ کے بارے میں مزید معلومات دستاویزی مضمون [تقسیم شدہ نظام](/querying/distributed-systems/) میں بیان کی گئی ہیں.

## نیٹوورک پر سب گراف کو اپگریڈ کرنا

اگر آپ ایک موجودہ سب گراف کو اپگریڈ کرنا چاہتے ہیں، تو آپ سب گراف سٹوڈیو پر گراف CLI کا استعمال کرتے ہوۓ سب گراف کا نیا ورزن تعینات کر سکتے ہیں.

1. اپنے موجودہ سب گراف میں بدلاو کریں. ایک اچھا خیال یہ ہے کہ Goerli پر شائع کرکے سب گراف اسٹوڈیو پر چھوٹی اصلاحات کی جانچ کریں.
2. درج ذیل کو تعینات کریں اور نۓ ورزن کی کمانڈ میں وضاحت کریں (eg. v0.0.1, v0.0.2, etc):

```sh
graph deploy --studio <SUBGRAPH_SLUG>
```

3. پلے گراونڈ میں کیوری کرکے سب گراف اسٹوڈیو میں نئے ورژن کی جانچ کریں۔
4. گراف نیٹورک پر نۓ ورزن کو شائع کریں. یاد رکہیں کے اس کو گیس فیس کی ضرورت ہوتی ہے (جیسا کے اوپر والے حصے میں بیان کیا گیا ہے).

### مالک کی اپ گریڈ فیس: ڈیپ ڈائیو

GRT کو سب گراف کے پرانے ورزن سے نۓ ورزن میں منتقل کرنے کے لۓ ایک اپگریڈ درکار ہے. اس کا مطلب ہے کے ہر اپگریڈ کے لۓ، ایک نیا بانڈنگ وکر بنانا ہو گا (بانڈنگ وکر کے بارے میں مزید [ یہاں](/network/curating#bonding-curve-101)).

نیا بانڈنگ وکر %2.5 کیوریشن ٹیکس سب GRT پر چارج کرتا ہے جو نۓ ورزن میں منتقل کیا جاتا ہے. مالک کو اس کا %50 یا %1.25 ادا کرنا ہوگا۔ دوسرا %1.25 تمام کیوریٹرز میں فیس کے طور پر جذب کر لیا جاتا ہے. یہ ترغیبی ڈیزائن ایک سب گراف کے مالک کو اپنے کیوریٹر کے تمام فنڈز کو بار بار آنے والی اپ گریڈ کالز کے ذریعے نکالنے سے روکنے کے لیے بنایا گیا ہے۔ اگر کوئی کیوریشن سرگرمی نہیں ہے، تو آپ کو اپنا سب گراف سگنل کرنے کے لیے کم از کم 100 GRT ادا کرنا ہوگا.

چلو ایک مثال بناتے ہیں، یہ صرف اس صورت میں ہے جب آپ کا سب گراف فعال طور پر تیار کیا جا رہا ہے:

- 100,000 GRT کا سگنل سب گراف کے v1 پر خودکار منتقلی کا استعمال کرتے ہوئے کیا جاتا ہے
- مالک v2 پر اپگریڈ کر جاتا ہے. 100,000 GRT نۓ بانڈنگ وکر میں منتقل کر دیے جاتے ہیں, جہاں 97,500 GRT نۓوکر میں ڈال دیۓ جاتے ہیں اور 2,500 GRT جلا دیے جاتے ہیں
- پہر مالک کے پاس 1250 GRT آدھی فیس جما کرانے کی وجا سے کاٹ دیے جاتے ہیں. اپگریڈ سے پہلے ہی مالک کے والیٹ میں یہ موجود ہونی چاہۓ, نہیں تو، اپگریڈ کامیاب نہییں ہو گا. یہ اسی ٹرانزیکشن میں جہاں اپگریڈ ہوتا ہے.

_جبکہ یہ طریقہ کار فی الہال نیٹورک پر لایؤ ہے, کمیونٹی اس وقت سب گراف ڈویلپرز کی اپگریڈ کی رقم کم کرنے کے طریقوں پر گفتگو کر رہی ہے._

### سب گراف کے مستحکم ورزن کو برقرار رکھنا

اگر آپ اپنے سب گراف میں کافی زیادہ تبدیلیاں کر رہے ہیں, اسے مسلسل اپگریڈ کرنا اور اپ گریڈ کے اخراجات کے سامنا کرنا ایک اچھا خیال نہیں. اپنے سب گراف کے مستحکم اور مستقل ورژن کو برقرار رکھنا اہم ہے, نہ صرف لاگت کے نقطہ نظر سے بلکہ اس لیے بھی تاکہ انڈیکسرز اپنے مطابقت پذیری کے اوقات میں اعتماد محسوس کر سکیں۔ جب آپ اپ گریڈ کا منصوبہ بناتے ہیں تو انڈیکسرز کو جھنڈا لگانا چاہیے تاکہ انڈیکسر کی مطابقت پذیری کے اوقات متاثر نہ ہوں۔ ڈسکورڈ پر [#انڈیکسر چینل](https://discord.gg/rC8rBuRtbH) کا فائدہ اٹھانے کے لیے بلا جھجھک انڈیکسرز کو یہ بتانے کے لیے کہ آپ اپنے سب گرافس کا ورژن کیسے بنا رہے ہیں.

سب گراف کھلے APIs ہیں جن سے بیرونی ڈویلپرز فائدہ اٹھا رہے ہیں. کھلی APIs کو سخت معیارات پر عمل کرنے کی ضرورت تا کہ یہ بیرونی ڈویلپرز کی ایپلی کیشنز کو خراب نا کر دیں. گراف نیٹ ورک میں، ایک سب گراف ڈویلپر کو انڈیکسرز پر غور کرنا چاہیے اور نئے سب گراف کو مطابقت پذیر بنانے میں انہیں کتنا وقت لگتا ہے **نیز** دوسرے ڈویلپرز جو اپنے سب گراف استعمال کر رہے ہیں.

### سب گراف کے میٹا ڈیٹا کو اپ ڈیٹ کرنا

آپ نیا ورزن شائع کیے بغیر اپنے سب گراف کا میٹا ڈیٹا اپڈیٹ کر سکتے ہیں. میٹا ڈیٹا میں سب گراف کا نام، تصویر، تفصیل، ویب سائٹ URL, سورس کوڈ URL, اور اقسام شامل ہیں. ڈویلپرز سب گراف سٹوڈیو میں اپنے سب گراف کی تفصیلات اپڈیٹ کر کے یہ کر سکتے ہیں جہاں آپ تمام قابل اطلاق فیلڈز میں ترمیم کر سکتے ہیں.

اس بات کا خیال رکہنا کے **سب گراف کی تفصیلات ایکسپلورر میں اپڈیٹ کریں** کو نشان زد کیا گیا ہے اور **save** کو دبائیں. اگر اس کو نشان زد کیا گیا ہے تو، ایک آن چین ٹرانزیکشن تیار کیا جائے گا جو ایکسپلوڑ میں سب گراف کی تفصیلات کو نئی تعیناتی کے ساتھ نیا ورژن شائع کیے بغیر اپ ڈیٹ کرتا ہے.

## سب گراف کو گراف نیٹورک پر تعینات کرنے کے بہترین طریقے

1. سب گراف ڈیولپمنٹ کے لیے ENS نام کا فائدہ اٹھانا:

- اپنا ENS بنائیں [https://app.ens.domains/](https://app.ens.domains/)
- اپنے ENS والے نام کو سیٹنگس میں شامل کریں [یہاں](https://thegraph.com/explorer/settings?view=display-name).

2. جتنی زیادہ آپ کی پروفائل بہری ہے گی, اتنے ہی زیادہ امکانات ہوں گے آپ کے سب گراف کے انڈیکس اور کیوریٹ ہونے کے.

## گراف نیٹ ورک پر سب گراف کو فرسودہ کرنا

اپنے سب گراف کو فرسودہ کرنے اور گراف نیٹورک سے ہٹانے کے لۓ [یہاں](/managing/deprecating-a-subgraph) مراحل پر عمل کریں.

## سب گراف کا کیوری کرنا + گراف نیٹ ورک پر بلنگ

ھوسٹڈ سروس ڈویلپرز کو اپنے سب گراف کسی رکاوٹ کے بغیر تعینات کرنے کی اجازت دینے کے لۓ قائم کیا گیا.

گراف نیٹ ورک کو صحیح معنوں میں decentralized بنانے کے لیے، استفسار کی فیس کو پروٹوکول کی ترغیبات کے بنیادی حصے کے طور پر ادا کرنا ہوگا۔ APIs کو سبسکرائب کرنے اور استفسار کی فیس ادا کرنے کے بارے میں مزید معلومات کے لیے، بلنگ دستاویزات [یہاں](/billing/) دیکھیں.

### نیٹ ورک پر استفسار کی فیس کا تخمینہ لگائیں

اگرچہ یہ پروڈکٹ UI میں لائیو خصوصیت نہیں ہے، آپ فی سوال اپنا زیادہ سے زیادہ بجٹ مقرر کر سکتے ہیں اس رقم کو لے کر جو آپ ہر ماہ ادا کرنا چاہتے ہیں اور اسے اپنے متوقع استفسار کی رقم سے تقسیم کر سکتے ہیں.

جب آپ اپنے استفسار کے بجٹ کا فیصلہ کرتے ہیں، تو اس بات کی کوئی گارنٹی نہیں ہے کہ انڈیکسر اس قیمت پر سوالات پیش کرنے کے لیے تیار ہوگا۔ اگر کوئی گیٹ وے آپ کو کسی ایسے انڈیکسر سے ملا سکتا ہے جو آپ کی قیمت پر یا اس سے کم قیمت پر سوال پیش کرنے کے لیے تیار ہے، تو آپ اپنے بجٹ کا ڈیلٹا/فرق ادا کریں گے **اور** ان کی قیمت. نتیجے کے طور پر، کم استفسار کی قیمت آپ کے لیے دستیاب انڈیکسرز کے پول کو کم کر دیتی ہے، جو آپ کو موصول ہونے والی سروس کے معیار کو متاثر کر سکتی ہے۔ استفسار کی زیادہ فیس لینا فائدہ مند ہے، کیونکہ یہ آپ کے سب گراف میں کیوریشن اور بڑے نام کے انڈیکسرز کو راغب کر سکتا ہے.

یاد رکھیں کہ یہ ایک متحرک اور بڑھتی ہوئی مارکیٹ ہے، لیکن آپ اس کے ساتھ کیسے تعامل کرتے ہیں یہ آپ کے اختیار میں ہے۔ پروٹوکول یا گیٹ ویز میں کوئی زیادہ سے زیادہ یا کم از کم قیمت نہیں بتائی گئی ہے۔ مثال کے طور پر، آپ ذیل میں نیٹ ورک پر (فی ہفتہ کی بنیاد پر) چند ڈیپ کے ذریعے ادا کی گئی قیمت کو دیکھ سکتے ہیں۔ آخری کالم دیکھیں، جو GRT میں کیوری کی فیس دکھاتا ہے.

![QueryFee](/img/QueryFee.png)

## اضافی وسائل

اگر آپ ابہی بہی الجہن میں ہیں، گہبرائیں نہیں! درج ذیل وسائل کو دیکھیں یا ذیل میں سب گرافس کو decentralized نیٹ ورک پر منتقل کرنے کے بارے میں ہماری ویڈیو گائیڈ دیکھیں:

<VideoEmbed youtube="CzdQ3dFFrjo" />

- [گراف نیٹورکس کے کانٹریکٹس](https://github.com/graphprotocol/contracts)
- [کیوریشن کنٹریکٹ](https://github.com/graphprotocol/contracts/blob/dev/contracts/curation/Curation.sol) - بنیادی معاہدہ جسے GNS لپیٹ دیتا ہے
  - Address - `0x8fe00a685bcb3b2cc296ff6ffeab10aca4ce1538`
- [سب گراف سٹوڈیو کے دستاویزات](/deploying/subgraph-studio)
