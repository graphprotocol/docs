---
title: Démarrage rapide
---

This guide will quickly take you through how to initialize, create, and deploy your subgraph to the Subgraph Studio or the [hosted service](#hosted-service).

Ensure that your subgraph will be indexing data from a [supported network](/developing/supported-networks).

Ce guide est rédigé en supposant que vous possédez :

-   A smart contract address on the network of your choice
-   GRT to curate your subgraph
-   A crypto wallet

## 1.  Create a subgraph on Subgraph Studio

Go to the Subgraph Studio <https://thegraph.com/studio/> and connect your wallet.

Une fois connecté, vous pouvez commencer par cliquer sur « créer un subgraph ». Sélectionnez le réseau de votre choix et cliquez sur Continuer.

## 2.  Installez la CLI Graph

The Graph CLI is written in JavaScript and you will need to have either `npm` or `yarn` installed to use it.

On your local machine, run one of the following commands:

```sh
# NPM
$ npm install -g @graphprotocol/graph-cli

# Yarn
$ yarn global ajoute @graphprotocol/graph-cli
```

## 3.  Initialiser votre subgraph

> You can find commands for your specific subgraph on the subgraph page in [Subgraph Studio](https://thegraph.com/studio/).

Lorsque vous initialisez votre subgraph, l'outil CLI vous demande les informations suivantes :

-   Protocole : choisissez le protocole à partir duquel votre subgraph indexera les données
-   Slug de subgraph : créez un nom pour votre subgraph. Votre slug de subgraph est un identifiant pour votre subgraph.
-   Répertoire dans lequel créer le subgraph : choisissez votre répertoire local
-   Réseau Ethereum (facultatif) : vous devrez peut-être spécifier à partir de quel réseau compatible EVM votre subgraph indexera les données
-   Adresse du contrat : localisez l'adresse du contrat intelligent à partir de laquelle vous souhaitez interroger les données
-   ABI: If the ABI is not autopopulated, you will need to input it manually as a JSON file
-   Bloc de démarrage : il est suggéré de saisir le bloc de démarrage pour gagner du temps pendant que votre subgraph indexe les données de la blockchain. Vous pouvez localiser le bloc de démarrage en recherchant le bloc dans lequel votre contrat a été déployé.
-   Nom du contrat : saisissez le nom de votre contrat
-   Indexer les événements de contrat en tant qu'entités : il est suggéré de définir cette valeur sur true car cela ajoutera automatiquement des mappages à votre subgraph pour chaque événement émis
-   Ajouter un autre contrat (facultatif) : vous pouvez ajouter un autre contrat

Initialisez votre subgraph à partir d'un contrat existant en exécutant la commande suivante :

```sh
graph init --studio <SUBGRAPH_SLUG>
```

See the following screenshot for an example for what to expect when initializing your subgraph:

![Subgraph command](/img/subgraph-init-example.png)

## 4.  Rédigez votre subgraph

Les commandes précédentes créent un subgraph d'échafaudage que vous pouvez utiliser comme point de départ pour construire votre propre subgraph. Lorsque vous apporterez des modifications au subgraph, vous travaillerez principalement avec trois fichiers :

-   Manifest (subgraph.yaml) : le manifeste définit les sources de données que vos subgraphs indexeront.
-   Schéma (schema.graphql) - Le schéma GraphQL définit les données que vous souhaitez récupérer du subgraph.
-   Mappages AssemblyScript (mapping.ts) - Il s'agit du code qui traduit les données de vos sources de données vers les entités définies dans le schéma.

Pour plus d'informations sur la façon d'écrire votre subgraph, voir [Création d'un subgraph](/developing/creating-a-subgraph).

## 5.  Déployer vers le Subgraph Studio

Une fois votre subgraph écrit, exécutez les commandes suivantes :

```sh
$ graph codegen
$ graph build
```

-   Authentifiez et déployez votre subgraph. La clé de déploiement se trouve sur la page du subgraph dans Subgraph Studio.

```sh
$ graph auth --studio <DEPLOY_KEY>
$ graph deploy --studio <SUBGRAPH_SLUG>
```

You will be asked for a version label. It's strongly recommended to use [semver](https://semver.org/) for versioning like `0.0.1`. That said, you are free to choose any string as version such as:`v1`, `version1`, `asdf`.

## 6.  Test your subgraph

Vous pouvez tester votre subgraph en effectuant une requête type dans la section de l'aire de jeux.

The logs will tell you if there are any errors with your subgraph. The logs of an operational subgraph will look like this:

![Subgraph logs](/img/subgraph-logs-image.png)

If your subgraph is failing, you can query the subgraph health by using the GraphiQL Playground. Note that you can leverage the query below and input your deployment ID for your subgraph. In this case, `Qm...` is the deployment ID (which can be located on the Subgraph page under **Details**). The query below will tell you when a subgraph fails, so you can debug accordingly:

```graphql
{
   indexingStatuses(sous-graphiques : ["Qm..."]) {
     nœud
     synchronisé
     santé
     erreur fatale {
       message
       bloc {
         nombre
         hacher
       }
       gestionnaire
     }
     nonFatalErrors {
       message
       bloc {
         nombre
         hacher
       }
       gestionnaire
     }
     Chaînes {
       réseau
       chaîneHeadBlock {
         nombre
       }
       premierBloc {
         nombre
       }
       dernierBloc {
         nombre
       }
       dernierBlocSanté {
         nombre
       }
     }
     EntitéCount
   }
}
```

## 7.  Publish Your Subgraph to The Graph’s Decentralized Network

Once your subgraph has been deployed to the Subgraph Studio, you have tested it out, and are ready to put it into production, you can then publish it to the decentralized network.

In the Subgraph Studio, click on your subgraph. On the subgraph’s page, you will be able to click the publish button on the top right.

Select the network you would like to publish your subgraph to. It is recommended to publish subgraphs to Arbitrum One to take advantage of the [faster transaction speeds and lower gas costs](/arbitrum/arbitrum-faq).

Avant de pouvoir interroger votre subgraph, les indexeurs doivent commencer à servir des requêtes sur celui-ci. Afin de rationaliser ce processus, vous pouvez créer votre propre subgraph à l'aide de GRT.

Au moment de la rédaction, il est recommandé de créer votre propre subgraph avec 10 000 GRT pour vous assurer qu'il est indexé et disponible pour interrogation dès que possible.

Pour économiser sur les coûts de gaz, vous pouvez organiser votre subgraph dans la même transaction que celle où vous l'avez publié en sélectionnant ce bouton lorsque vous publiez votre subgraph sur le réseau décentralisé de The Graph :

![Subgraph publish](/img/publish-and-signal-tx.png)

## 8.  Interrogez votre subgraph

Désormais, vous pouvez interroger votre subgraph en envoyant des requêtes GraphQL à l'URL de requête de votre subgraph, que vous pouvez trouver en cliquant sur le bouton de requête.

You can query from your dapp if you don't have your API key via the free, rate-limited temporary query URL that can be used for development and staging.

For more information about querying data from your subgraph, read more [here](../querying/querying-the-graph/).
