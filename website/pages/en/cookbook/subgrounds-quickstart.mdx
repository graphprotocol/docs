---
title: Quickstart to Subgrounds - Querying Subgraphs with Python
---

_TL;DR - [Subgrounds](https://github.com/0xPlaygrounds/subgrounds), built by [Playgrounds](https://playgrounds.network/), is an easy-to-use Python tool for interfacing with subgraphs._

Countless teams and individuals building in web3 leverage fast, reliable, and unstoppable data pipelines that are powered by The Graph. Using a standard GraphQL API, anyone can query a subgraph to load blockchain data into their app’s frontend. This data supports a broad array of use cases such as DeFi, RWAs, DAOs, Gaming, NFTs, and more.

[Playgrounds](https://playgrounds.network/) is unlocking new ways to leverage The Graph for another critical use case: analytics. Data analysts, who primarily work with structured data, can significantly benefit from the organized data served by Indexers on The Graph. However, while GraphQL as a query language is perfectly suited for web applications, like dapps, it’s less optimal for a variety of data analytics use cases.

This is where Python comes in! Python has an incredible ecosystem of powerful analytics tools, making it the go-to language for anyone who is interested in exploring, interpreting, or visualizing data. Additionally, with the rise of Large Language Models (LLMs), integrating blockchain data into Python workflows has become even more crucial. Until recently, however, there was no streamlined way to connect subgraph data to a Python environment.

---

## Step 1: Install Subgrounds

[Subgrounds](https://github.com/0xPlaygrounds/subgrounds) is an open source and intuitive Python library that is readily available to be used alongside powerful and well-known data analysis tools like [pandas](https://github.com/pandas-dev/pandas), [matplotlib](https://github.com/matplotlib/matplotlib), and [numpy](https://github.com/numpy/numpy).

```bash
pip install --upgrade subgrounds
# or
python -m pip install --upgrade subgrounds
```

Note that subgrounds requires Python 3.10 or higher and is available on [pypi](https://pypi.org/project/subgrounds/).

## Step 2: Import Subgrounds and Set Your API Key

Subgrounds allows interfacing with all subgraph endpoints, including both subgraphs in [Subgraph Studio](https://thegraph.com/studio/apikeys/) as well as subgraphs published to The Graph Network. To begin using subgrounds with The Graph Network, import the library and make sure you have a valid API key. You can generate an API key in Subgraph Studio to use it inside the subgraph’s query URL as shown [here](https://thegraph.com/docs/en/querying/querying-the-graph/#using-the-graph-explorer), or create a free Playgrounds API key. Currently Playgrounds offers 5,000 free queries per month.

```python
from subgrounds import Subgrounds

# Initiate your Subgrounds client with a Playgrounds API key
sg = Subgrounds.from_pg_key("PLAYGROUNDS_API_KEY")
```

In this case, Playgrounds API serves as a proxy, routing queries to The Graph Network and handling query fees.

Once installed and imported, it’s easy to get started! Subgrounds offers an intuitive Pythonic API for building GraphQL queries, thus empowering users to download subgraph data into any Python environment without disrupting their current workflows.

## Step 3: Load a Subgraph

```python
# OpenSea Seaport Ethereum subgraph by Messari
deployment_id = "QmQBvtHaTS9MftEWYTSmbbmPqzXtMpgZRidivvEaELSKsc"

# Load the subgraph
seaport = sg.load_subgraph(
    f"https://api.playgrounds.network/v1/proxy/deployments/id/{deployment_id}"
)
```

Subgrounds is built on top of the Python programming language and it is designed to inherit the key advantages of GraphQL. The `load_subgraph` method makes an introspection query to the subgraph, loads the subgraph schema, and then uses the schema to construct and validate queries before making them. This pre-querying validation ensures that only legitimate queries are executed, reducing unnecessary costs for data retrieval and eliminating the risk of inaccurate data.

To learn more about leveraging schema introspection and how subgrounds automates the process, check out this [blog](https://thegraph.com/blog/subgrounds-data-analytics/) by Christophe "Stopher" Vauclair, Co-founder and CTO at Playgrounds.

## Step 4: Query the Subgraph

Now let’s dive into querying the OpenSea Seaport Ethereum subgraph, and see how subgrounds streamlines the process by eliminating the need for raw GraphQL manipulation:

```python
# Construct your query
top_collections = seaport.Query.collections(
    first=1500,
    orderBy=seaport.Collection.totalRevenueETH,
    orderDirection='desc',
)
```

Note that with subgrounds, enables going beyond [the limit](https://thegraph.com/docs/en/developing/developer-faqs/#23-is-there-a-limit-to-how-many-objects-the-graph-can-return-per-query) of 1,000 items per collection without any need for manual intervention. By default, subgrounds handles GraphQL query pagination automatically, enabling effortless retrieval of large datasets.

Once the query is defined, it’s time to make it tangible! While subgrounds supports multiple ways to format subgraph data, the [pandas DataFrame](https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.html) is the de facto standard data structure in the Python ecosystem:

```python
# Return a DataFrame with the following columns
sg.query_df([
    top_collections.name,
    top_collections.symbol,
    top_collections.totalRevenueETH,
    top_collections.creatorRevenueETH,
    top_collections.marketplaceRevenueETH],
    columns=['name', 'symbol', 'totalRevenueETH', 'creatorRevenueETH', 'marketplaceRevenueETH']
)
```

DataFrames are widely used in data analytics and data science, scientific computing, machine learning, and many other data-driven fields. Here, subgrounds serves as a bridge between this mature infrastructure and the next iteration of the web where data is open, permissionless, and easily accessible to all.

Running the example code above, we were able to go from subgraph to DataFrame in seconds, bypassing tedious workflows such as pagination:

![Subgrounds DataFrame Example](/img/subgrounds-blog-dataframe.png)

## About Playgrounds

Made possible by a generous grant from The Graph Foundation, subgrounds is built and maintained by [Playgrounds](https://playgrounds.network/). Playgrounds is a data-as-a-service (DaaS) company that transforms onchain data into knowledge bases for humans and AI. Powered by The Graph Network, Playgrounds has emerged as a one-of-a-kind data analytics platform, enabling seamless querying, processing, and visualizing subgraph data. Leveraging state of the art technology, such as subgraphs, Substreams, and LLMs, Playgrounds provides frictionless, granular, and comprehensive onchain data that is readily consumable by both human users and AI systems.
