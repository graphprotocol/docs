---
title: Schnellstart
---

Erfahren Sie, wie Sie einen [Subgraph](/developing/developer-faqs/#1-what-is-a-subgraph) auf The Graph veröffentlichen und abfragen können.

## Voraussetzungen für diese Anleitung

- Eine Krypto-Wallet
- Eine Smart-Contract-Adresse in einem der [unterstützten Netzwerke](/developing/supported-networks/)

## Schritt für Schritt

### 1. Installieren Sie die Graph CLI

Sie müssen [Node.js](https://nodejs.org/) und einen Paketmanager Ihrer Wahl (`npm`, `yarn` oder `pnpm`) installiert haben, um die Graph CLI zu verwenden. Prüfen Sie, ob die [aktuellste](https://github.com/graphprotocol/graph-tooling/releases?q=%40graphprotocol%2Fgraph-cli&expanded=true) CLI-Version installiert ist.

Führen Sie einen der folgenden Befehle auf Ihrem lokalen Computer aus:

Verwendung von [npm](https://www.npmjs.com/):

```sh
npm install -g @graphprotocol/graph-cli@latest
```

Verwendung von [yarn] (https://yarnpkg.com/):

```sh
yarn global add @graphprotocol/graph-cli
```

### 2. Erstellen Sie Ihren Subgraph

Wenn Ihr Vertrag Ereignisse hat, wird der Befehl `init` automatisch ein Gerüst eines Subgraphen erstellen.

#### Erstellung über Graph CLI

Verwenden Sie den folgenden Befehl, um einen Subgraph in Subgraph Studio über die CLI zu erstellen:

```sh
graph init --product subgraph-studio
```

#### Erstellen über Subgraph Studio

Mit Subgraph Studio können Sie Subgraphen erstellen, verwalten, bereitstellen und veröffentlichen sowie API-Schlüssel erstellen und verwalten.

1. Gehen Sie zu [Subgraph Studio] (https://thegraph.com/studio/) und verbinden Sie Ihre Wallet.
2. Klicken Sie auf „Einen Subgraph erstellen“. Es wird empfohlen, den Subgraph in Title Case zu benennen: „Subgraph Name Chain Name“.

Weitere Informationen zur Erstellung von Subgraphs und der Graph CLI finden Sie unter [Creating a Subgraph](/developing/creating-a-subgraph).

### 3. Initialisieren des Subgraphen

#### Aus einem bestehenden Vertrag

Mit dem folgenden Befehl wird Ihr Subgraph aus einem bestehenden Vertrag initialisiert:

```sh
graph init --studio <SUBGRAPH_SLUG>
```

> Hinweis: Wenn Ihr Vertrag mit Etherscan überprüft wurde, wird die ABI automatisch in der CLI erstellt.

Die Befehle für Ihren spezifischen Subgraphen finden Sie auf der Subgraphen-Seite in [Subgraph Studio](https://thegraph.com/studio/).

Wenn Sie Ihren Subgraph initialisieren, werden Sie von der CLI nach den folgenden Informationen gefragt:

- Protokoll: Wählen Sie das Protokoll, mit dem Ihr Subgraph Daten indizieren soll.
- Subgraph slug: Erstellen Sie einen Namen für Ihren Subgraph. Ihr Subgraph-Slug ist ein Bezeichner für Ihren Subgraph.
- Verzeichnis, in dem der Subgraph erstellt werden soll: Wählen Sie Ihr lokales Verzeichnis.
- Ethereum-Netzwerk (optional): Möglicherweise müssen Sie angeben, von welchem EVM-kompatiblen Netzwerk Ihr Subgraph Daten indizieren soll.
- Vertragsadresse: Suchen Sie die Smart-Contract-Adresse, von der Sie Daten abfragen möchten.
- ABI: Wenn die ABI nicht automatisch ausgefüllt wird, müssen Sie sie manuell in Form einer JSON-Datei eingeben.
- Startblock: Sie sollten den Startblock eingeben, um die Subgraph-Indizierung von Blockchain-Daten zu optimieren. Ermitteln Sie den Startblock, indem Sie den Block suchen, in dem Ihr Vertrag bereitgestellt wurde.
- Vertragsname: Geben Sie den Namen Ihres Vertrags ein.
- Vertragsereignisse als Entitäten indizieren: Es wird empfohlen, dies auf „true“ zu setzen, da es automatisch Zuordnungen zu Ihrem Subgraph für jedes emittierte Ereignis hinzufügt.
- Einen weiteren Vertrag hinzufügen (optional): Sie können einen weiteren Vertrag hinzufügen.

Der folgende Screenshot zeigt ein Beispiel dafür, was Sie bei der Initialisierung Ihres Untergraphen ( Subgraph ) erwarten können:

![Subgraph command](/img/subgraph-init-example.png)

### 4. Schreiben Sie Ihren Subgraphen

Der `init`-Befehl im vorherigen Schritt erzeugt einen Gerüst-Subgraph, den Sie als Ausgangspunkt für die Erstellung Ihres Subgraph verwenden können.

Wenn Sie Änderungen am Subgraph vornehmen, werden Sie hauptsächlich mit drei Dateien arbeiten:

- Manifest (`subgraph.yaml`) - definiert, welche Datenquellen Ihr Subgraph indizieren wird.
- Schema (`schema.graphql`) - legt fest, welche Daten Sie aus dem Subgraph abrufen möchten.
- AssemblyScript Mappings (`mapping.ts`) - translates data from your data sources to the entities defined in the schema.

For a detailed breakdown on how to write your subgraph, check out [Creating a Subgraph](/developing/creating-a-subgraph/).

### 5. Deploy your subgraph

Remember, deploying is not the same as publishing.

- When you deploy a subgraph, you push it to [Subgraph Studio](https://thegraph.com/studio/), where you can test, stage and review it.
- When you publish a subgraph, you are publishing it onchain to the decentralized network.

1. Sobald Ihr Subgraph geschrieben ist, führen Sie die folgenden Befehle aus:

   ```sh
   graph codegen
   graph build
   ```

2. Authenticate and deploy your subgraph. The deploy key can be found on the subgraph's page in Subgraph Studio.

![Deploy key](/img/subgraph-studio-deploy-key.jpg)

````
```sh

graph auth --studio <DEPLOY_KEY>

graph deploy --studio <SUBGRAPH_SLUG>
```
````

- The CLI will ask for a version label.
  - It's strongly recommended to use [semantic versioning](https://semver.org/), e.g. `0.0.1`. That said, you can choose any string for the version such as: `v1`, `version1`, `asdf`, etc.

### 6. Review your subgraph

If you’d like to examine your subgraph before publishing it to the network, you can use [Subgraph Studio](https://thegraph.com/studio/) to do the following:

- Run a sample query.
- Analyze your subgraph in the dashboard to check information.
- Check the logs on the dashboard to see if there are any errors with your subgraph. The logs of an operational subgraph will look like this:

  ![Subgraph logs](/img/subgraph-logs-image.png)

### 7. Publish your subgraph to The Graph Network

Publishing a subgraph to the decentralized network makes it available for [Curators](/network/curating/) to begin curating it and [Indexers](/network/indexing/) to begin indexing it.

#### Publishing with Subgraph Studio

1. To publish your subgraph, click the Publish button in the dashboard.
2. Select the network to which you would like to publish your subgraph.

#### Publishing from the CLI

As of version 0.73.0, you can also publish your subgraph with the Graph CLI.

1. Open the `graph-cli`.

2. Use the following commands:

   ```sh
   graph codegen && graph build
   ```

   Then,

   ```sh
   graph publish
   ```

3. A window will open, allowing you to connect your wallet, add metadata, and deploy your finalized subgraph to a network of your choice.

![cli-ui](/img/cli-ui.png)

To customize your deployment, see [Publishing a Subgraph](/publishing/publishing-a-subgraph/).

#### Adding signal to your subgraph

1. To attract indexers to query your subgraph, you should add GRT curation signal to it.

   - This action improves quality of service, reduces latency, and enhances network redundancy and availability for your subgraph.

2. If eligible for indexing rewards, Indexers receive GRT rewards based on the signaled amount.

   - It’s recommended to curate at least 3,000 GRT to attract 3 Indexers. Check reward eligibility based on subgraph feature usage and supported networks.

To learn more about curation, read [Curating](/network/curating/).

To save on gas costs, you can curate your subgraph in the same transaction you publish it by selecting this option:

![Subgraph publish](/img/publish-and-signal-tx.png)

### 8. Query your subgraph

Now, you can query your subgraph by sending GraphQL queries to its Query URL, which you can find by clicking the Query button.

For more information about querying data from your subgraph, read [Querying The Graph](/querying/querying-the-graph/).
