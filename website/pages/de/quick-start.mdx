---
title: Schnellstart
---

Erfahren Sie, wie Sie einen [Subgraph](/developing/developer-faqs/#1-what-is-a-subgraph) auf The Graph veröffentlichen und abfragen können.

## Voraussetzungen für diese Anleitung

- Eine Krypto-Wallet
- Eine Smart-Contract-Adresse in einem der [unterstützten Netzwerke](/developing/supported-networks/)

## Schritt für Schritt

### 1. Installieren Sie die Graph CLI

Sie müssen [Node.js](https://nodejs.org/) und einen Paketmanager Ihrer Wahl (`npm`, `yarn` oder `pnpm`) installiert haben, um die Graph CLI zu verwenden. Prüfen Sie, ob die [aktuellste](https://github.com/graphprotocol/graph-tooling/releases?q=%40graphprotocol%2Fgraph-cli&expanded=true) CLI-Version installiert ist.

Führen Sie einen der folgenden Befehle auf Ihrem lokalen Computer aus:

Verwendung von [npm](https://www.npmjs.com/):

```sh
npm install -g @graphprotocol/graph-cli@latest
```

Verwendung von [yarn] (https://yarnpkg.com/):

```sh
yarn global add @graphprotocol/graph-cli
```

### 2. Erstellen Sie Ihren Subgraph

Wenn Ihr Vertrag Ereignisse hat, wird der Befehl `init` automatisch ein Gerüst eines Subgraphen erstellen.

#### Erstellung über Graph CLI

Verwenden Sie den folgenden Befehl, um einen Subgraph in Subgraph Studio über die CLI zu erstellen:

```sh
graph init --product subgraph-studio
```

#### Erstellen über Subgraph Studio

Mit Subgraph Studio können Sie Subgraphen erstellen, verwalten, bereitstellen und veröffentlichen sowie API-Schlüssel erstellen und verwalten.

1. Gehen Sie zu [Subgraph Studio] (https://thegraph.com/studio/) und verbinden Sie Ihre Wallet.
2. Klicken Sie auf „Einen Subgraph erstellen“. Es wird empfohlen, den Subgraph in Title Case zu benennen: „Subgraph Name Chain Name“.

Weitere Informationen zur Erstellung von Subgraphs und der Graph CLI finden Sie unter [Creating a Subgraph](/developing/creating-a-subgraph).

### 3. Initialisieren des Subgraphen

#### Aus einem bestehenden Vertrag

Mit dem folgenden Befehl wird Ihr Subgraph aus einem bestehenden Vertrag initialisiert:

```sh
graph init --studio <SUBGRAPH_SLUG>
```

> Hinweis: Wenn Ihr Vertrag mit Etherscan überprüft wurde, wird die ABI automatisch in der CLI erstellt.

Die Befehle für Ihren spezifischen Subgraphen finden Sie auf der Subgraphen-Seite in [Subgraph Studio](https://thegraph.com/studio/).

Wenn Sie Ihren Subgraph initialisieren, werden Sie von der CLI nach den folgenden Informationen gefragt:

- Protokoll: Wählen Sie das Protokoll, mit dem Ihr Subgraph Daten indizieren soll.
- Subgraph slug: Erstellen Sie einen Namen für Ihren Subgraph. Ihr Subgraph-Slug ist ein Bezeichner für Ihren Subgraph.
- Verzeichnis, in dem der Subgraph erstellt werden soll: Wählen Sie Ihr lokales Verzeichnis.
- Ethereum-Netzwerk (optional): Möglicherweise müssen Sie angeben, von welchem EVM-kompatiblen Netzwerk Ihr Subgraph Daten indizieren soll.
- Vertragsadresse: Suchen Sie die Smart-Contract-Adresse, von der Sie Daten abfragen möchten.
- ABI: Wenn die ABI nicht automatisch ausgefüllt wird, müssen Sie sie manuell in Form einer JSON-Datei eingeben.
- Startblock: Sie sollten den Startblock eingeben, um die Subgraph-Indizierung von Blockchain-Daten zu optimieren. Ermitteln Sie den Startblock, indem Sie den Block suchen, in dem Ihr Vertrag bereitgestellt wurde.
- Vertragsname: Geben Sie den Namen Ihres Vertrags ein.
- Vertragsereignisse als Entitäten indizieren: Es wird empfohlen, dies auf „true“ zu setzen, da es automatisch Zuordnungen zu Ihrem Subgraph für jedes emittierte Ereignis hinzufügt.
- Einen weiteren Vertrag hinzufügen (optional): Sie können einen weiteren Vertrag hinzufügen.

Der folgende Screenshot zeigt ein Beispiel dafür, was Sie bei der Initialisierung Ihres Untergraphen ( Subgraph ) erwarten können:

![Subgraph command](/img/subgraph-init-example.png)

### 4. Schreiben Sie Ihren Subgraphen

Der `init`-Befehl im vorherigen Schritt erzeugt einen Gerüst-Subgraph, den Sie als Ausgangspunkt für die Erstellung Ihres Subgraph verwenden können.

Wenn Sie Änderungen am Subgraph vornehmen, werden Sie hauptsächlich mit drei Dateien arbeiten:

- Manifest (`subgraph.yaml`) - definiert, welche Datenquellen Ihr Subgraph indizieren wird.
- Schema (`schema.graphql`) - legt fest, welche Daten Sie aus dem Subgraph abrufen möchten.
- AssemblyScript Mappings (mapping.ts) - Dies ist der Code, der die Daten aus Ihren Datenquellen in die im Schema definierten Entitäten übersetzt.

Eine detaillierte Aufschlüsselung, wie Sie Ihren Subgraph schreiben, finden Sie unter [Erstellen eines Subgraphen](/developing/creating-a-subgraph/).

### 5. Bereitstellen des Subgraphen

Denken Sie daran, dass die Bereitstellung nicht dasselbe ist wie die Veröffentlichung.

- Wenn Sie einen Subgraph bereitstellen, übertragen Sie ihn in das [Subgraph Studio] (https://thegraph.com/studio/), wo Sie ihn testen, in Szene setzen und überprüfen können.
- Wenn Sie einen Subgraph veröffentlichen, veröffentlichen Sie ihn onchain im dezentralen Netzwerk.

1. Sobald Ihr Subgraph geschrieben ist, führen Sie die folgenden Befehle aus:

   ```sh
   graph codegen
   graph build
   ```

2. Authentifizieren Sie Ihren Subgraph und stellen Sie ihn bereit. Den Bereitstellungsschlüssel finden Sie auf der Seite des Subgraphs in Subgraph Studio.

![ Deploy-Schlüssel](/img/subgraph-studio-deploy-key.jpg)

````
```sh

graph auth --studio <DEPLOY_KEY>

graph deploy --studio <SUBGRAPH_SLUG>
````

- Die CLI fragt nach einer Versionsbezeichnung.
  - Es wird dringend empfohlen, [semantische Versionierung] (https://semver.org/) zu verwenden, z.B. `0.0.1`. Allerdings können Sie jede beliebige Zeichenkette für die Version wählen, wie z.B.: `v1`, `version1`, `asdf`, etc.

### 6. Überprüfen Sie Ihren Subgraph

Wenn Sie Ihren Subgraph untersuchen möchten, bevor Sie ihn im Netzwerk veröffentlichen, können Sie mit [Subgraph Studio] (https://thegraph.com/studio/) Folgendes tun:

- Führen Sie eine Testabfrage durch.
- Analysieren Sie Ihren Subgraph im Dashboard, um Informationen zu überprüfen.
- Überprüfen Sie die Protokolle auf dem Dashboard, um festzustellen, ob Ihr Subgraph Fehler aufweist. Die Protokolle eines funktionierenden Subgraphs sehen wie folgt aus:

  ![Subgraph logs](/img/subgraph-logs-image.png)

### 7. Veröffentlichen Sie Ihren Subgraph auf The Graph Network

Durch die Veröffentlichung eines Subgraphs im dezentralen Netzwerk wird er für [Kuratoren](/network/curating/) verfügbar, die mit der Kuratierung und für [Indexer](/network/indexing/), die mit der Indexierung beginnen.

#### Veröffentlichung mit Subgraph Studio

1. Um Ihren Subgraph zu veröffentlichen, klicken Sie auf die Schaltfläche Veröffentlichen im Dashboard.
2. Wählen Sie das Netzwerk, in dem Sie Ihren Subgraph veröffentlichen möchten.

#### Veröffentlichen über die CLI

Ab Version 0.73.0 können Sie Ihren Subgraph auch mit dem Graph CLI veröffentlichen.

1. Öffnen Sie den `graph-cli`.

2. Verwenden Sie die folgenden Befehle:

   ```sh
   graph codegen && graph build
   ```

   Dann,

   ```sh
   graph publish
   ```

3. Es öffnet sich ein Fenster, in dem Sie Ihre Wallet verbinden, Metadaten hinzufügen und Ihren fertigen Subgraph in einem Netzwerk Ihrer Wahl bereitstellen können.

![cli-ui](/img/cli-ui.png)

Wie Sie Ihre Bereitstellung anpassen können, erfahren Sie unter [Veröffentlichen eines Subgraphen](/publishing/publishing-a-subgraph/).

#### Signal zum Subgraph hinzufügen

1. Um Indexer für die Abfrage Ihres Subgraphs zu gewinnen, sollten Sie ihm ein GRT-Kurationssignal hinzufügen.

   - Diese Maßnahme verbessert die Servicequalität, verringert die Latenz und erhöht die Netzwerkredundanz und -verfügbarkeit für Ihren Subgraph.

2. Indexer erhalten GRT Rewards auf der Grundlage des signalisierten Betrags, wenn sie für Indexing Rewards in Frage kommen.

   - Es wird empfohlen, mindestens 3.000 GRT zu kuratieren, um 3 Indexer anzuziehen. Prüfen Sie die Berechtigung zum Reward anhand der Nutzung der Subgraph-Funktionen und der unterstützten Netzwerke.

Um mehr über Kuratierung zu erfahren, lesen Sie [Kuratieren](/network/curating/).

Um Gaskosten zu sparen, können Sie Ihren Subgraph in der gleichen Transaktion kuratieren, in der Sie ihn veröffentlichen, indem Sie diese Option wählen:

![Subgraph publish](/img/publish-and-signal-tx.png)

### 8. Abfrage des Subgraphen

Jetzt können Sie Ihren Subgraphen abfragen, indem Sie GraphQL-Abfragen an seine Abfrage-URL senden, die Sie durch Klicken auf die Schaltfläche Abfrage finden können.

Weitere Informationen zur Abfrage von Daten aus Ihrem Subgraphen finden Sie unter [Querying The Graph](/querying/querying-the-graph/).
