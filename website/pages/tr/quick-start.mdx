---
title: Hızlı Başlangıç
---

The Graph üzerinde bir [subgraph](/developing/developer-faqs/#1-what-is-a-subgraph)'i kolayca nasıl yayınlayıp sorgulayacağınızı öğrenin.

## Bu rehber için gereksinimler

- Bir kripto cüzdanı
- [Desteklenen ağlardan](/developing/supported-networks/) birinde bir akıllı sözleşme adresi

## Adım adım rehber

### The Graph CLI'ı Yükleyin

Graph CLI'yi kullanmak için bilgisayarınızda [Node.js](https://nodejs.org/) ve tercih ettiğiniz bir paket yöneticisi (`npm`, `yarn` veya `pnpm`) kurulu olmalıdır. CLI'ın [en son](https://github.com/graphprotocol/graph-tooling/releases?q=%40graphprotocol%2Fgraph-cli&expanded=true) sürümünü kontrol edin.

Yerel makinenizde aşağıdaki komutlardan birini çalıştırın:

[npm](https://www.npmjs.com/) kullanarak:

```sh
npm install -g @graphprotocol/graph-cli@latest
```

[yarn](https://yarnpkg.com/) kullanarak:

```sh
yarn global add @graphprotocol/graph-cli
```

### 2. Subgraph'inizi oluşturun

Akıllı sözleşmenizde olaylar (event'ler) tanımlanmışsa, `init` komutu bir subgraph'in iskeletini otomatik olarak oluşturacaktır.

#### Graph CLI'ı ile Oluşturun

CLI kullanarak Subgraph Studio'da bir subgraph oluşturmak için şu komutu kullanın:

```sh
graph init --product subgraph-studio
```

#### Subgraph Studio ile Oluşturun

Subgraph Studio, subgraph oluşturmanıza, yönetmenize, yayına almanıza ve yayımlamanıza, ayrıca API anahtarlarını oluşturmanıza ve yönetmenize olanak tanır.

1. [Subgraph Studio](https://thegraph.com/studio/)'ya gidin ve cüzdanınızı bağlayın.
2. "Subgraph Oluştur" düğmesine tıklayın. Subgraph'in adını başlık formunda vermeniz önerilir: "Subgraph Adı Ağ Adı".

Subgraph oluşturma ve Graph CLI hakkında daha fazla bilgi için [Subgraph Oluşturma](/developing/creating-a-subgraph) sayfasına bakın.

### 3. Subgraph'inizi başlatın

#### Mevcut bir sözleşmeden

Aşağıdaki komut, subgraph'inizi mevcut bir akıllı sözleşmeden başlatır:

```sh
graph init --studio <SUBGRAPH_SLUG>
```

> Not: Akıllı sözleşmeniz Etherscan'de doğrulanmışsa, ABI, CLI içinde otomatik olarak oluşturulacaktır.

Size ait spesifik subgraph'le ilgili komutları [Subgraph Studio](https://thegraph.com/studio/)'daki subgraph sayfasında bulabilirsiniz.

Subgraph'inizi başlattığınızda, CLI sizden aşağıdaki bilgileri isteyecektir:

- Protokol: Subgraph'inizin hangi protokolden veri endeksleyeceğini seçin.
- Subgraph slug: Subgraph'iniz için bir isim oluşturun. Subgraph slug'ınız, subgraph'iniz için bir tanımlayıcıdır.
- Subgraph'in oluşturulacağı dizin: Yerel dizininizi seçin.
- Ethereum ağı (isteğe bağlı): Subgraph'inizin hangi EVM uyumlu ağdan veri endeksleyeceğini belirtmeniz gerekebilir.
- Akıllı sözleşme adresi: Veri sorgulamak istediğiniz akıllı sözleşme adresini bulun.
- ABI: Eğer ABI otomatik doldurulmadıysa, JSON dosyası olarak manuel olarak girmeniz gerekecek.
- Başlangıç Bloku: Subgraph'inizin blokzinciri verilerini daha iyi endekslemesi için başlangıç blokunu girin. Sözleşmenizin yayına alındığı bloku bularak başlangıç blokunu tespit edin.
- Sözleşme Adı: Sözleşmenizin adını girin.
- Sözleşme olaylarını varlık olarak endeksle: Yayımlanan her olay için subgraph'inize otomatik olarak eşlemeler eklenmesi için bu seçeneğin "true" olarak ayarlanması önerilir.
- Başka bir sözleşme ekleyin (isteğe bağlı): Başka bir sözleşme ekleyebilirsiniz.

Subgraph'ınızı başlatırken neyle karşılaşacağınıza dair bir örnek için aşağıdaki ekran görüntüsüne bakın:

![Subgraph komutu](/img/subgraph-init-example.png)

### 4. Subgraph'inizi yazın

Önceki adımda `init` komutu, subgraph'inizi oluşturmak için kullanabileceğiniz bir iskelet subgraph yaratır.

Subgraph'inizde değişiklik yaparken, ağırlıklı olarak üç dosya ile çalışacaksınız:

- Manifesto (`subgraph.yaml`): Subgraph'inizin hangi veri kaynaklarını endeksleyeceğini tanımlar.
- Şema (`schema.graphql`): Subgraph'ten hangi veriyi almak istediğinizi tanımlar.
- AssemblyScript Eşlemeleri (`mapping.ts`): Veri kaynaklarınızdan gelen veriyi şemada tanımlanan varlıklara dönüştürür.

Subgraph yazımı hakkında ayrıntılı bilgi için [Subgraph Oluşturma](/developing/creating-a-subgraph/) sayfasına göz atın.

### 5. Subgraph'inizi yayına alın

Unutmayın; yayına almak, yayımlamakla aynı şey değildir.

- Bir subgraph'i yayına aldığınızda, onu [Subgraph Studio](https://thegraph.com/studio/)'ya gönderirsiniz; burada subgraph'i test edebilir, yayına almaya hazırlayabilir ve inceleyebilirsiniz.
- Bir subgraph'i yayımladığınızda, onu merkeziyetsiz ağda, zincir üzerinde yayımlamış olursunuz.

1. Subgraph'ınız yazıldıktan sonra aşağıdaki komutları çalıştırın:

   ```sh
   graph codegen
   graph build
   ```

2. Subgraph'inizi kimlik doğrulayıp yayına alın. Yayına alma anahtarını, Subgraph Studio'daki subgraph sayfasında bulabilirsiniz.

![Yayına alma anahtarı](/img/subgraph-studio-deploy-key.jpg)

````
```sh

graph auth --studio <DEPLOY_KEY>

graph deploy --studio <SUBGRAPH_SLUG>
```
````

- CLI sizden bir sürüm etiketi isteyecektir.
  - Sürüm numaralandırması için [semantik versiyonlama](https://semver.org/) kullanmanız şiddetle tavsiye edilir, örneğin: `0.0.1`. Bununla birlikte, sürüm için herhangi bir dizgi seçebilirsiniz, örneğin: `v1`, `version1`, `asdf`, vb.

### 6. Subgraph'inizi gözden geçirin

Subgraph'inizi ağda yayımlamadan önce incelemek isterseniz, [Subgraph Studio](https://thegraph.com/studio/)'yu kullanarak şunları yapabilirsiniz:

- Örnek bir sorgu çalıştırabilirsiniz.
- Subgraph'iniz hakkında bilgi kontrol etmek için kontrol panelini analiz edebilirsiniz.
- Subgraph'inizde hata olup olmadığını görmek için kontrol panelindeki kayıtları kontrol edin. Çalışan bir subgraph'in kayıtları şu şekilde görünecektir:

  ![Subgraph kayıtları](/img/subgraph-logs-image.png)

### 7. Subgraph'inizi The Graph Ağında yayımlayın

Subgraph'inizi merkeziyetsiz ağda yayımlamak, [Küratörlerin](/network/curating/) onu kürasyona ve [Endeksleyicilerin](/network/indexing/) onu endekslemeye başlamasını sağlar.

#### Subgraph Studio ile yayımlama

1. Subgraph'inizi yayımlamak için, kontrol panelindeki Yayımla düğmesine tıklayın.
2. Subgraph'inizi yayımlamak istediğiniz ağı seçin.

#### CLI ile yayımlama

Sürüm 0.73.0 itibarıyla, subgraph'inizi Graph CLI ile de yayımlayabilirsiniz.

1. `graph-cli`yi açın.

2. Şu komutları kullanın:

   ```sh
   graph codegen && graph build
   ```

   Ardından,

   ```sh
   graph publish
   ```

3. Bir pencere açılacak, cüzdanınızı bağlayabilecek, meta verileri ekleyebilecek ve sonuçlandırılmış subgraph'inizi seçtiğiniz ağda yayımlayabileceksiniz.

![cli-ui](/img/cli-ui.png)

Yayımlamanızı özelleştirmek için, [Subgraph Yayımlama](/publishing/publishing-a-subgraph/) sayfasına göz atın.

#### Subgraph'inize sinyal ekleme

1. Endeksleyicilerin subgraph'inizi sorgulaması için subgraph'inize GRT kürasyon sinyali eklemelisiniz.

   - Bu işlem, hizmet kalitesini artırır, gecikmeyi azaltır ve subgraph'inizin ağdaki yedekliliğini ve müsaitliğini artırır.

2. Endeksleme ödüllerine hak kazanan Endeksleyiciler sinyal miktarına bağlı olarak GRT ödülü alırlar.

   - En az 3 Endeksleyici çekmek için en az 3.000 GRT küratörlük yapmanız önerilir. Subgraph özelliği kullanımı ve desteklenen ağlara bağlı olarak ödül hak kazanımlarının nasıl dağıtıldığını kontrol edin.

Küratörlük hakkında daha fazla bilgi için [Küratörlük](/network/curating/) sayfasını okuyun.

Gas maliyetlerinden tasarruf etmek için, subgraph'inizi küratörlük işlemini, yayımlama işlemiyle aynı anda yapabilirsiniz. Bunun için şu seçeneği seçin:

![Subgraph publish](/img/studio-publish-modal.png)

### 8. Subgraph'inizi sorgulama

Artık, subgraph'inizi sorgu URL'sine GraphQL sorguları göndererek sorgulayabilirsiniz. Bu URL'yi, Sorgula düğmesine tıklayarak bulabilirsiniz.

Subgraph'inizden veri sorgulama hakkında daha fazla bilgi için [The Graph'e Sorgu Gönderme](/querying/querying-the-graph/) sayfasına bakın.
