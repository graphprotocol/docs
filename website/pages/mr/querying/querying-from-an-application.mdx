---
title: अर्जावरून क्वेरी करत आहे
---

एकदा सबग्राफ स्टुडिओ किंवा ग्राफ एक्सप्लोररमध्ये सबग्राफ उपयोजित केल्यावर, तुम्हाला तुमच्या ग्राफक्यूएल API साठी एंडपॉइंट दिला जाईल जो असे काहीतरी दिसला पाहिजे:

**सबग्राफ स्टुडिओ (चाचणी एंडपॉइंट)**

```sh
Queries (HTTP)
https://api.studio.thegraph.com/query/<ID>/<SUBGRAPH_NAME>/<VERSION>
```

**आलेख एक्सप्लोरर**

```sh
Queries (HTTP)
https://gateway.thegraph.com/api/<API_KEY>/subgraphs/id/<SUBGRAPH_ID>
```

GraphQL एंडपॉइंट वापरून, तुम्ही सबग्राफची क्वेरी करण्यासाठी आणि सबग्राफद्वारे अनुक्रमित केलेल्या डेटासह तुमचा अॅप पॉप्युलेट करण्यासाठी विविध GraphQL क्लायंट लायब्ररी वापरू शकता.

इकोसिस्टममधील आणखी काही लोकप्रिय ग्राफक्यूएल क्लायंट आणि ते कसे वापरायचे ते येथे आहेत:

## ग्राफक्यूएल क्लायंट

### आलेख क्लायंट

ग्राफ स्वतःचे GraphQL क्लायंट, `graph-client` प्रदान करत आहे जे अद्वितीय वैशिष्ट्यांना समर्थन देते जसे की:

- क्रॉस-चेक्रॉस-चेन सबग्राफ हँडलिंग: एकाच क्वेरीमध्ये एकाधिक सबग्राफमधून क्वेरी करणेन
- [स्वयंचलित ब्लॉक ट्रॅकिंग](https://github.com/graphprotocol/graph-client/blob/main/packages/block-tracking/README.md)
- [स्वयंचलित पृष्ठांकन](https://github.com/graphprotocol/graph-client/blob/main/packages/auto-pagination/README.md)
- पूर्ण टाईप केलेला निकाल

<br />

तसेच अपोलो आणि URQL सारख्या लोकप्रिय GraphQL क्लायंटसह एकत्रित केलेले आणि सर्व वातावरणाशी सुसंगत (React, Angular, Node.js, React Native), `graph-client` वापरणे तुम्हाला द शी संवाद साधण्याचा सर्वोत्तम अनुभव देईल. आलेख.

<br />

`graphql-client` सह सबग्राफमधून डेटा कसा मिळवायचा ते पाहू.

सुरुवात करण्यासाठी, तुमच्या प्रोजेक्टमध्ये The Graph Client CLI इन्स्टॉल केल्याची खात्री करा:

```sh
yarn add -D @graphprotocol/client-cli
# or, with NPM: यार्न अॅड -D @graphprotocol/client-cli
# किंवा, NPM सह:
npm स्थापित करा --save-dev @graphprotocol/client-cli
npm install --save-dev @graphprotocol/client-cli
```

तुमची क्वेरी `.graphql` फाइलमध्ये परिभाषित करा (किंवा तुमच्या `.js` किंवा `.ts` फाइलमध्ये इनलाइन केलेली):

```graphql
query ExampleQuery {
  # this one is coming from compound-v2
  markets(first: 7) {
    borrowRate
    cash
    collateralFactor
  }
  # this one is coming from uniswap-v2
  pair(id: "0x00004ee988665cdda9a1080d5792cecd16dc1220") {
    id
    token0 {
      id
      symbol
      name
    }
    token1 {
      id
      symbol
      name
    }
  }
}
```

तुमची क्वेरी `.graphql` फाइलमध्ये व्याख्या करा (किंवा तुमच्या `.js` किंवा `.ts` फाइलमध्ये इनलाइन विकल्प:

```yaml
# .graphclientrc.yml
sources:
  - name: uniswapv2
    handler:
      graphql:
        endpoint: https://api.thegraph.com/subgraphs/name/uniswap/uniswap-v2
  - name: compoundv2
    handler:
      graphql:
        endpoint: https://api.thegraph.com/subgraphs/name/graphprotocol/compound-v2

documents:
  - ./src/example-query.graphql
```

खालील ग्राफ क्लायंट CLI कमांड चालवल्याने जावास्क्रिप्ट कोड टाइप केलेला आणि वापरण्यासाठी तयार होईल:

```sh
graphclient build
```

शेवटी, व्युत्पन्न टाइप केलेले GraphQL दस्तऐवज वापरण्यासाठी तुमची `.ts` फाइल अपडेट करा:

```tsx
import React, { useEffect } from 'react'
// ...
// we import types and typed-graphql document from the generated code (`..graphclient/`)
import { ExampleQueryDocument, ExampleQueryQuery, execute } from '../.graphclient'

function App() {
  const [data, setData] = React.useState<ExampleQueryQuery>()

  useEffect(() => {
    execute(ExampleQueryDocument, {}).then((result) => {
      setData(result?.data)
    })
  }, [setData])
  return (
    <div className="App">
      <header className="App-header">
        <img src={logo} className="App-logo" alt="logo" />
        <p>Graph Client Example</p>
        <fieldset>
          {data && (
            <form>
              <label>Data</label>
              <br />
              <textarea value={JSON.stringify(data, null, 2)} readOnly rows={25} />
            </form>
          )}
        </fieldset>
      </header>
    </div>
  )
}

export default App
```

<br />

**⚠️ महत्वाची सूचना**

`ग्राफ-क्लायंट` इतर GraphQL क्लायंट जसे की अपोलो क्लायंट, URQL, किंवा React Query सह उत्तम प्रकारे एकत्रित केले आहे; तुम्हाला [अधिकृत भांडारात उदाहरणे सापडतील](https://github.com/graphprotocol/graph-client/tree/main/examples).

तथापि, तुम्ही दुसर्‍या क्लायंटसोबत जाण्याचे निवडल्यास, लक्षात ठेवा की **तुम्ही क्रॉस-चेन सबग्राफ हँडलिंग किंवा ऑटोमॅटिक पेजनेशन वापरण्यास सक्षम असणार नाही, जे क्वेरीसाठी मुख्य वैशिष्ट्ये आहेत. आलेख**.

<br />

### अपोलो क्लायंट

[अपोलो क्लायंट](https://www.apollographql.com/docs/) हा फ्रंट-एंड इकोसिस्टमवर सर्वव्यापी ग्राफक्यूएल क्लायंट आहे.

React, Angular, Vue, Ember, iOS आणि Android साठी उपलब्ध, Apollo Client, जरी सर्वात वजनदार क्लायंट असले तरी, GraphQL वर प्रगत UI तयार करण्यासाठी अनेक वैशिष्ट्ये आणते:

- प्रगत त्रुटी हाताळणी
- पृष्ठांकन
- डेटा प्रीफेचिंग
- आशावादी UI
- स्थानिक राज्य व्यवस्थापन

<br />

वेब प्रोजेक्टमध्ये अपोलो क्लायंटसह सबग्राफमधून डेटा कसा मिळवायचा ते पाहू.

प्रथम, `@apollo/client` आणि `graphql` स्थापित करा:

```sh
npm install @apollo/client graphql
```

त्यानंतर तुम्ही खालील कोडसह API ची क्वेरी करू शकता:

```javascript
import { ApolloClient, InMemoryCache, gql } from '@apollo/client'

const APIURL = 'https://api.studio.thegraph.com/query//<SUBGRAPH_NAME>/'

const tokensQuery = `
  query {
    tokens {
      id
      tokenID
      contentURI
      metadataURI
    }
  }
`

const client = new ApolloClient({
  uri: APIURL,
  cache: new InMemoryCache(),
})

client
  .query({
    query: gql(tokensQuery),
  })
  .then((data) => console.log('Subgraph data: ', data))
  .catch((err) => {
    console.log('Error fetching data: ', err)
  })
```

व्हेरिएबल्स वापरण्यासाठी, तुम्ही क्वेरीमध्ये `variables` वितर्क पास करू शकता:

```javascript
const tokensQuery = `
  query($first: Int, $orderBy: BigInt, $orderDirection: String) {
    tokens(
      first: $first, orderBy: $orderBy, orderDirection: $orderDirection
    ) {
      id
      tokenID
      contentURI
      metadataURI
    }
  }
`

client
  .query({
    query: gql(tokensQuery),
    variables: {
      first: 10,
      orderBy: 'createdAtTimestamp',
      orderDirection: 'desc',
    },
  })
  .then((data) => console.log('Subgraph data: ', data))
  .catch((err) => {
    console.log('Error fetching data: ', err)
  })
```

<br />

### URQL

दुसरा पर्याय [URQL](https://formidable.com/open-source/urql/) आहे जो Node.js, React/Preact, Vue आणि Svelte वातावरणात उपलब्ध आहे, अधिक प्रगत वैशिष्ट्ये:

- लवचिक कॅशे प्रणाली
- एक्स्टेंसिबल डिझाइन (त्याच्या वर नवीन क्षमता जोडणे सोपे करणे)
- Lightweight bundle (~5x lighter than Apollo Client)
- फाइल अपलोड आणि ऑफलाइन मोडसाठी समर्थन

<br />

Let's look at how to fetch data from a subgraph with URQL in a web project.

प्रथम, `urql` आणि `graphql` स्थापित करा:

```sh
npm install urql graphql
```

त्यानंतर तुम्ही खालील कोडसह API ची क्वेरी करू शकता:

```javascript
import { createClient } from 'urql'

const APIURL = 'https://api.thegraph.com/subgraphs/name/username/subgraphname'

const tokensQuery = `
  query {
    tokens {
      id
      tokenID
      contentURI
      metadataURI
    }
  }
`

const client = createClient({
  url: APIURL,
})

const data = await client.query(tokensQuery).toPromise()
```
