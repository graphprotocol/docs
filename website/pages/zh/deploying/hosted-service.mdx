---
title: 什么是托管服务？
---

> Please note, the hosted service will begin sunsetting in 2023, but it will remain available to networks that are not supported on the decentralized network. Developers are encouraged to [upgrade their subgraphs to The Graph Network](/cookbook/upgrading-a-subgraph) as more networks are supported. Each network will have their hosted service equivalents gradually sunset to ensure developers have enough time to upgrade subgraphs to the decentralized network. Read more about the sunsetting of the hosted service [here](https://thegraph.com/blog/sunsetting-hosted-service).

This section will walk you through deploying a subgraph to the [hosted service](https://thegraph.com/hosted-service/).

If you don't have an account on the hosted service, you can sign up with your GitHub account. Once you authenticate, you can start creating subgraphs through the UI and deploying them from your terminal. The hosted service supports a number of networks, such as Polygon, Gnosis Chain, BNB Chain, Optimism, Arbitrum, and more.

有关详细列表，请参阅[支持的网络](/developing/supported-networks/#hosted-service)。

## 创建子图

首先按照[这里](/developing/defining-a-subgraph)的说明安装 Graph CLI。通过传入`graph init--产品托管服务`创建子图。

### 基于现有合约

If you already have a smart contract deployed to your network of choice, bootstrapping a new subgraph from this contract can be a good way to get started on the hosted service.

您可以使用此命令创建一个子图，为现有合约中的所有事件编制索引。 这将尝试从 [Etherscan](https://etherscan.io/) 获取合约 ABI。

```sh
graph init \
  --product hosted-service
  --from-contract <CONTRACT_ADDRESS> \
  <GITHUB_USER>/<SUBGRAPH_NAME> [<DIRECTORY>]
```

此外，您可以使用以下可选参数。 如果无法从 Etherscan 获取 ABI，它会退回到请求本地文件路径。 如果命令中缺少任何可选参数，它会带您进入交互式表单。

```sh
--network <ETHEREUM_NETWORK> \
--abi <FILE> \
```

在本例中，`<GITHUB_USER>`是您的 GitHub 用户或组织名称，`<SUBGRAPH_NAME>`是您的子图名称，`<DIRECTORY>`是Graph init 放置示例子图清单目录的可选名称。`<CONTRACT_ADDRESS>` 是您现有合约的地址。`<ETHEREUM_NETWORK>` 是合约所依赖的网络的名称。`<FILE>`是合约 ABI 文件的本地路径。**网络和 abi 都是可选的。**

### 基于子图示例

`graph init` 支持的第二种模式是从示例子图创建新项目。 以下命令执行此操作：

```
graph init --from-example --product hosted-service <GITHUB_USER>/<SUBGRAPH_NAME> [<DIRECTORY>]
```

示例子图基于 Dani Grant 的 Gravity 合约，该合约管理用户头像，并在创建或更新头像时发出 `NewGravatar` 或 `UpdateGravatar` 事件。子图通过将 `Gravatar` 实体写入 Graph 节点存储并确保根据事件更新它们来处理这些事件。继续查看[子图清单](/developing/creating-a-subgraph#the-subgraph-manifest)，以便更好地理解智能合约中需要关注的事件、映射等等。

## Supported Networks on the hosted service

您可以在[这里](/developing/supported-networks)找到支持的网络列表。
