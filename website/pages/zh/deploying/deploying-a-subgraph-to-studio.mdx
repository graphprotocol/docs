---
title: 将子图部署到子图工作室
---

> Ensure the network your subgraph is indexing data from is [supported](/developing/supported-chains) on the decentralized network.

These are the steps to deploy your subgraph to the Subgraph Studio:

- Install The Graph CLI (with either yarn or npm)
- Create your Subgraph in the Subgraph Studio
- Authenticate your account from the CLI
- 将子图部署到子图工作室

## Installing Graph CLI

We are using the same CLI to deploy subgraphs to our [hosted service](https://thegraph.com/hosted-service/) and to the [Subgraph Studio](https://thegraph.com/studio/). Here are the commands to install graph-cli. This can be done using npm or yarn.

**用 yarn 安装：**

```bash
yarn global add @graphprotocol/graph-cli
```

**用 npm 安装：**

```bash
npm install -g @graphprotocol/graph-cli
```

## Create your Subgraph in Subgraph Studio

在部署您的实际子图之前，您需要在[子图工作室](https://thegraph.com/studio/)创建一个子图。我们建议您阅读我们的 [工作室文档](/deploying/subgraph-studio)以了解更多有关这方面的信息。

## 初始化你的子图

一旦你的子图在子图工作室中被创建，你可以用这个命令初始化子图代码。

```bash
graph init --studio <SUBGRAPH_SLUG>
```

`<SUBGRAPH_SLUG>`值可以在 子图工作室 中你的子图详情页上找到。

![Subgraph Studio - Slug](/img/doc-subgraph-slug.png)

运行`graph init` 之后，您将被要求输入要查询的合约地址、网络和 ABI。这样做将在本地计算机上生成一个新文件夹，其中包含一些基本代码，以便开始处理子图。然后您可以完成您的子图，以确保它按照预期工作。

## Graph 认证

在将你的子图部署到子图工作室之前，你需要在 CLI 内登入你的账户。要做到这一点，您将需要您的部署密钥，您可以找到您的“我的子图”页面或您的子图详细信息页面。

Here is the command that you need to use to authenticate from the CLI:

```bash
graph auth --studio <DEPLOY KEY>
```

## Deploying a Subgraph to Subgraph Studio

一旦你准备好了，你可以将你的子图部署到子图工作室。 这样做不会将你的子图发布到去中心化的网络中，它只会将它部署到你的工作室账户中，在那里你将能够测试它并更新元数据。

这里是你部署子图需要使用的 CLI 命令。

```bash
graph deploy --studio <SUBGRAPH_SLUG>
```

运行这个命令之后，CLI 将要求输入一个版本标签，您可以根据自己的需要对其进行命名，您可以使用诸如`0.1`和`0.2`之类的标签，也可以使用诸如 `uniswap-v2-0.1`之类的字母。这些标签将在图形浏览器中可见，并且可以被管理员用来决定他们是否要在这个版本上发出信号，所以要明智地选择它们。

一旦部署完毕，你可以在子图工作室中使用控制面板测试你的子图，如果需要的话，可以部署另一个版本，更新元数据，当你准备好后，将你的子图发布到图形浏览器。
