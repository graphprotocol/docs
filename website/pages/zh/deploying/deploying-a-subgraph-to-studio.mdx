---
title: 将子图部署到子图工作室
---

> 确保您子图从中索引数据的网络在去中心化网络上受[支持](/developing/supported-chains)。

以下是将子图部署到子图工作室的步骤：

- 安装 Graph CLI（同时使用 yarn 和 npm）
- 在子图工作室中创建你的子图
- 从 CLI 认证你的账户
- 将子图部署到子图工作室

## 安装 Graph CLI

我们使用相同的 CLI 将子图部署到我们的 [托管服务](https://thegraph.com/hosted-service/) 和[子图工作室](https://thegraph.com/studio/)中。 以下是安装 graph-cli 的命令。 这可以用 npm 或 yarn 来完成。

**用 yarn 安装：**

```bash
yarn global add @graphprotocol/graph-cli
```

**用 npm 安装：**

```bash
npm install -g @graphprotocol/graph-cli
```

## 在子图工作室中创建你的子图

在部署您的实际子图之前，您需要在[子图工作室](https://thegraph.com/studio/)创建一个子图。我们建议您阅读我们的 [工作室文档](/deploying/subgraph-studio)以了解更多有关这方面的信息。

## 初始化你的子图

一旦你的子图在子图工作室中被创建，你可以用这个命令初始化子图代码。

```bash
graph init --studio <SUBGRAPH_SLUG>
```

`<SUBGRAPH_SLUG>`值可以在 子图工作室 中你的子图详情页上找到。

![Subgraph Studio - Slug](/img/doc-subgraph-slug.png)

运行`graph init` 之后，您将被要求输入要查询的合约地址、网络和 ABI。这样做将在本地计算机上生成一个新文件夹，其中包含一些基本代码，以便开始处理子图。然后您可以完成您的子图，以确保它按照预期工作。

## Graph 认证

在将你的子图部署到子图工作室之前，你需要在 CLI 内登入你的账户。要做到这一点，您将需要您的部署密钥，您可以找到您的“我的子图”页面或您的子图详细信息页面。

以下是你从 CLI 进行认证需要使用的命令：

```bash
graph auth --studio <DEPLOY KEY>
```

## 将子图部署到子图工作室

一旦你准备好了，你可以将你的子图部署到子图工作室。 这样做不会将你的子图发布到去中心化的网络中，它只会将它部署到你的工作室账户中，在那里你将能够测试它并更新元数据。

这里是你部署子图需要使用的 CLI 命令。

```bash
graph deploy --studio <SUBGRAPH_SLUG>
```

运行这个命令后，CLI 会要求提供一个版本标签，你可以随意命名，你可以使用 `0.1`和 `0.2`这样的标签，或者也可以使用字母，如 `uniswap-v2-0.1` 。这些标签将在 Graph Explorer 中可见，并可由策展人用来决定是否要在这个版本上发出信号，所以要明智地选择它们。

一旦部署完毕，你可以在子图工作室中使用控制面板测试你的子图，如果需要的话，可以部署另一个版本，更新元数据，当你准备好后，将你的子图发布到Graph浏览器。
