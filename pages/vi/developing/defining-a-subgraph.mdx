---
title: Xác định một Subgraph
---

Một subgraph xác định dữ liệu nào The Graph sẽ lập chỉ mục từ Ethereum và cách nó sẽ lưu trữ dữ liệu đó. Sau khi được triển khai, nó sẽ tạo thành một phần của biểu đồ toàn cầu về dữ liệu blockchain.

![Xác định một Subgraph](/img/defining-a-subgraph.png)

Định nghĩa subgraph bao gồm một số tệp:

- `subgraph.yaml`: một tệp YAML chứa tệp kê khai subgraph

- `schema.graphql`: một lược đồ GraphQL xác định dữ liệu nào được lưu trữ cho subgraph của bạn và cách truy vấn nó qua GraphQL

- `Ánh xạ AssemblyScript`: Mã [AssemblyScript](https://github.com/AssemblyScript/assemblyscript) dịch từ dữ liệu sự kiện sang các thực thể được xác định trong lược đồ của bạn (ví dụ: `mapping.ts` trong hướng dẫn này)

Trước khi đi vào chi tiết về nội dung của tệp kê khai, bạn cần cài đặt [Graph CLI](https://github.com/graphprotocol/graph-cli) mà bạn sẽ cần để xây dựng và triển khai một subgraph.

## Cài đặt Graph CLI

Graph CLI được viết bằng JavaScript và bạn sẽ cần cài đặt `yarn` hoặc `npm` để dùng nó; Chúng ta sẽ giả định rằng bạn đã có yarn trong những các bước sau.

Một khi bạn có `yarn`, cài đặt Graph CLI bằng cách chạy

**Cài đặt bằng yarn:**

```bash
yarn global add @graphprotocol/graph-cli
```

**Cài đặt bằng npm:**

```bash
npm install -g @graphprotocol/graph-cli
```
