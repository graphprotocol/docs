---
title: Comienzo Rapido
---

Esta guía te llevará rápidamente a través de cómo inicializar, crear y desplegar tu subgrafo en:

- **Subgraph Studio** - usado solo para subgrafos que indexan en **Ethereum mainnet**
- **Hosted Service** - usado para subgrafos que indexan **otras redes** fuera de Ethereum mainnet (e.g. Binance, Matic, etc)

## Subgraph Studio

### 1. Instala The Graph CLI

The Graph CLI esta escrito en JavaScript y necesitaras tener `npm` o `yarn` instalado para usarlo.

```sh
# NPM
$ npm install -g @graphprotocol/graph-cli

# Yarn
$ yarn global add @graphprotocol/graph-cli
```

### 2. Inicializa tu Subgrafo

- Inicializa tu subgrafo a partir de un contrato existente.

```sh
graph init --studio <SUBGRAPH_SLUG>
```

- El slug de tu subgrafo es un identificador para tu subgrafo. La herramienta CLI te guiará a través de los pasos para crear un subgrafo, como la address del contrato, la red, etc., como puedes ver en la captura de pantalla siguiente.

![Subgraph command](/img/Subgraph-Slug.png)

### 3. Escribe tu Subgrafo

Los comandos anteriores crean un subgrafo de andamio que puedes utilizar como punto de partida para construir tu subgrafo. Al realizar cambios en el subgrafo, trabajarás principalmente con tres archivos:

- Manifest (subgraph.yaml) - El manifiesto define qué fuentes de datos indexarán tus subgrafos.
- Schema (schema.graphql) - El esquema GraphQL define los datos que deseas recuperar del subgrafo.
- AssemblyScript Mappings (mapping.ts) - Este es el código que traduce los datos de tus fuentes de datos a las entidades definidas en el esquema.

Para más información sobre cómo escribir tu subgrafo, mira [Create a Subgraph](/developer/create-subgraph-hosted).

### 4. Despliega en Subgraph Studio

- Ve a Subgraph Studio [https://thegraph.com/studio/](https://thegraph.com/studio/) y conecta tu wallet.
- Haz clic en "Crear" e introduce el subgrafo que utilizaste en el paso 2.
- Ejecuta estos comandos en la carpeta subgrafo

```sh
$ graph codegen
$ graph build
```

- Autentica y despliega tu subgrafo. La clave para desplegar se puede encontrar en la página de Subgraph en Subgraph Studio.

```sh
$ graph auth --studio <DEPLOY_KEY>
$ graph deploy --studio <SUBGRAPH_SLUG>
```

- Se te pedirá una etiqueta de versión. Se recomienda encarecidamente utilizar las siguientes convenciones para nombrar tus versiones. Ejemplo: `0.0.1`, `v1`, `version1`

### 5. Comprueba tus registros

Los registros deberían indicarte si hay algún error. Si tu subgrafo está fallando, puedes consultar la fortaleza del subgrafo utilizando la función [GraphiQL Playground](https://graphiql-online.com/). Usa [este endpoint](https://api.thegraph.com/index-node/graphql). Ten en cuenta que puedes aprovechar la consulta de abajo e introducir tu ID de despliegue para tu subgrafo. En este caso, `Qm...` es el ID de despliegue (que puede ser obtenido en la pagina de the Subgraph debado de **Details**). La siguiente consulta te dirá cuándo falla un subgrafo para que puedas depurar en consecuencia:

```sh
{
  indexingStatuses(subgraphs: ["Qm..."]) {
    node
    synced
    health
    fatalError {
      message
      block {
        number
        hash
      }
      handler
    }
    nonFatalErrors {
      message
      block {
        number
        hash
      }
      handler
    }
    chains {
      network
      chainHeadBlock {
        number
      }
      earliestBlock {
        number
      }
      latestBlock {
        number
      }
      lastHealthyBlock {
        number
      }
    }
    entityCount
  }
}
```

### 6. Consulta tu Subgrafo

Ahora puedes consultar tu subgrafo siguiendo [estas instrucciones](/developer/query-the-graph). You can query from your dapp if you don't have your API key via the free, rate limited temporary query URL that can be used for development and staging. You can read the additional instructions for how to query a subgraph from a frontend application [here](/developer/querying-from-your-app).

## Hosted Service

### 1. Instalar The Graph CLI

"The Graph CLI is an npm package and you will need `npm` or `yarn` installed to use it.

```sh
# NPM
$ npm install -g @graphprotocol/graph-cli

# Yarn
$ yarn global add @graphprotocol/graph-cli
```

### 2. Inicializa tu Subgrafo

- Inicializa tu subgrafo a partir de un contrato existente.

```sh
$ graph init --product hosted-service --from-contract <Address>
```

- You will be asked for a subgraph name. The format is `<Github>/<Subgraph Name>`. Ex: `graphprotocol/examplesubgraph`

- If you'd like to initialize from an example, run the command below:

```sh
$ graph init --product hosted-service --from-example
```

- In the case of the example, the subgraph is based on the Gravity contract by Dani Grant that manages user avatars and emits `NewGravatar` or `UpdateGravatar` events whenever avatars are created or updated.

### 3. Escribe tu Subgrafo

The previous command will have created a scaffold from where you can build your subgraph. Al realizar cambios en el subgrafo, trabajarás principalmente con tres archivos:

- Manifest (subgraph.yaml) - The manifest defines what datasources your subgraph will index
- Schema (schema.graphql) - The GraphQL schema define what data you wish to retrieve from the subgraph
- AssemblyScript Mappings (mapping.ts) - This is the code that translates data from your datasources to the entities defined in the schema

Para más información sobre cómo escribir tu subgrafo, mira [Create a Subgraph](/developer/create-subgraph-hosted).

### 4. Deploy your Subgraph

- Sign into the [Hosted Service](https://thegraph.com/hosted-service/) using your github account
- Click Add Subgraph and fill out the required information. Use the same subgraph name as in step 2.
- Run codegen in the subgraph folder

```sh
 # NPM
$ npm run codegen

# Yarn
$ yarn codegen
```

- Add your Access token and deploy your subgraph. The access token is found on your dashboard in the Hosted Service.

```sh
$ graph auth --product hosted-service <ACCESS_TOKEN>
$ graph deploy --product hosted-service <GITHUB_USER>/<SUBGRAPH NAME>
```

### 5. Comprueba tus registros

Los registros deberían indicarte si hay algún error. Si tu subgrafo está fallando, puedes consultar la fortaleza del subgrafo utilizando la función [GraphiQL Playground](https://graphiql-online.com/). Usa [este endpoint](https://api.thegraph.com/index-node/graphql). Ten en cuenta que puedes aprovechar la consulta de abajo e introducir tu ID de despliegue para tu subgrafo. En este caso, `Qm...` es el ID de despliegue (que puede ser obtenido en la pagina de the Subgraph debado de **Details**). La siguiente consulta te dirá cuándo falla un subgrafo para que puedas depurar en consecuencia:

```sh
{
  indexingStatuses(subgraphs: ["Qm..."]) {
  indexingStatuses(subgraphs: ["Qm..."]) {
    node
    synced
    health
    fatalError {
      message
      block {
        number
        hash
      }
      handler
    }
    nonFatalErrors {
      message
      block {
        number
        hash
      }
      handler
    }
    chains {
      network
      chainHeadBlock {
        number
      }
      earliestBlock {
        number
      }
      latestBlock {
        number
      }
      lastHealthyBlock {
        number
      }
    }
    entityCount
  }
}
```

### 6. Consulta tu Subgrafo

Follow [these instructions](/hosted-service/query-hosted-service) to query your subgraph on the Hosted Service.
