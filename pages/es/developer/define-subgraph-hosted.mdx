---
title: Definir un Subgrafo
---

A subgraph defines which data The Graph will index from a blockchain, and how it will store it. Once deployed, it will form a part of a global graph of blockchain data which you can retrieve using GraphQL.

![Definir un Subgrafo](/img/define-subgraph.png)

La definición del subgrafo consta de unos cuantos archivos:

- `subgraph.yaml`: un archivo YAML que contiene el manifiesto del subgrafo

- `schema.graphql`: un esquema GraphQL que define qué datos se almacenan para su subgrafo, y cómo consultarlos a través de GraphQL

- `AssemblyScript Mappings`: [AssemblyScript](https://github.com/AssemblyScript/assemblyscript) codigo que traduce de los datos del evento a las entidades definidas en su esquema (por ejemplo `mapping.ts` en este tutorial)

Antes de entrar en detalles sobre el contenido del archivo de manifiesto, es necesario instalar el [Graph CLI](https://github.com/graphprotocol/graph-cli) que necesitarás para construir y desplegar un subgrafo.

## Instalar The Graph CLI

The Graph CLI está escrito en JavaScript, y tendrás que instalar `yarn` o `npm` para utilizarlo; se supone que tienes yarn en lo que sigue.

Una vez que tengas `yarn`, instala The Graph CLI ejecutando

**Instalar con yarn:**

```bash
yarn global add @graphprotocol/graph-cli
```

**Instalar con npm:**

```bash
npm install -g @graphprotocol/graph-cli
```
