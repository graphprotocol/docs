---
title: 什么是托管服务？
---

本节将引导您将子图部署到 [托管服务](https://thegraph.com/hosted-service/) 提醒一下，托管服务不会很快关闭。 一旦去中心化网络达到托管服务相当的功能，我们将逐步取消托管服务。 您在托管服务上部署的子图在[此处](https://thegraph.com/hosted-service/)仍然可用。

如果您没有托管服务帐户，您可以使用您的 Github 帐户注册。 进行身份验证后，您可以开始通过 UI 创建子图并从终端部署它们。 除了主网之外，Graph Node 还支持许多以太坊测试网（Rinkeby、Ropsten、Kovan）。

## 创建子图

First follow the instructions [here](/developer/define-subgraph-hosted) to install the Graph CLI. Create a subgraph by passing in `graph init --product hosted-service`

### 基于现有合约

如果您已经将智能合约部署到以太坊主网或其中一个测试网，那么从该合约中引导一个新的子图可能是开始使用托管服务的好方法。

您可以使用此命令创建一个子图，为现有合约中的所有事件编制索引。 这将尝试从 [Etherscan](https://etherscan.io/) 获取合约 ABI。

```sh
graph init \
  --product hosted-service
  --from-contract <CONTRACT_ADDRESS> \
  <GITHUB_USER>/<SUBGRAPH_NAME> [<DIRECTORY>]
```

此外，您可以使用以下可选参数。 如果无法从 Etherscan 获取 ABI，它会退回到请求本地文件路径。 如果命令中缺少任何可选参数，它会带您进入交互式表单。

```sh
--network <ETHEREUM_NETWORK> \
--abi <FILE> \
```

The `<GITHUB_USER>` in this case is your GitHub user or organization name, `<SUBGRAPH_NAME>` is the name for your subgraph, and `<DIRECTORY>` is the optional name of the directory where graph init will put the example subgraph manifest. The `<CONTRACT_ADDRESS>` is the address of your existing contract. `<ETHEREUM_NETWORK>` is the name of the Ethereum network that the contract lives on. `<FILE>` is a local path to a contract ABI file. **Both --network and --abi are optional.**

### 基于子图示例

`graph init` 支持的第二种模式是从示例子图创建一个新项目。 以下命令执行此操作：

```
graph init --from-example --product hosted-service <GITHUB_USER>/<SUBGRAPH_NAME> [<DIRECTORY>]
```

示例子图基于 Dani Grant 的 Gravity 合约，该合约管理用户头像并在创建或更新头像时发出 `NewGravatar` 或 `UpdateGravatar` 事件。 子图通过将 `Gravatar` 实体写入 Graph 节点存储并确保根据事件更新这些事件来处理这些事件。 继续查看[子图清单](/developer/create-subgraph-hosted#the-subgraph-manifest)，以更好地了解您的智能合约中需要关注的事件、映射等。

## 托管服务支持的网络

请注意托管服务支持以下网络。 [Graph Explorer](https://thegraph.com/explorer)目前不支持以太坊主网（“主网”）之外的网络。

- `mainnet`
- `kovan`
- `rinkeby`
- `ropsten`
- `goerli`
- `poa-core`
- `poa-sokol`
- `xdai` (now known as Gnosis Chain)
- `near-mainnet`
- `near-testnet`
- `matic` (now known as Polygon)
- `mumbai`
- `fantom`
- `bsc` (now known as BNB Chain)
- `chapel`
- `clover`
- `avalanche`
- `fuji`
- `celo`
- `celo-alfajores`
- `fuse`
- `moonriver`
- `mbase`
- `arbitrum-one`
- `arbitrum-rinkeby`
- `optimism`
- `optimism-kovan`
- `aurora`
- `aurora-testnet`
- `boba`
