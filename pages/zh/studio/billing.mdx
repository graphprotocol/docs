---
title: 子图工作室的计费
---

### 概述

发票是客户所欠付款金额的报表，通常在系统中每周生成一次。 你需要根据你使用API密钥产生的查询费用来支付费用。 账单合同在[Polygon](https://polygon.technology/)网络上。 它将允许你：

- 添加和移除GRT
- 根据你向你的账户添加了多少GRT，你移除了多少，以及你的发票来跟踪你的余额。
- 根据产生的查询费用自动结算付款

为了将GRT添加到你的账户中，你将需要通过以下步骤：

1. 在您选择的交易所购买GRT和ETH
2. 将GRT和ETH发送到你的钱包里
3. 使用用户界面桥接GRT到Polygon

   a) You will receive 0.001 Matic in a few minutes after you send any amount of GRT to the Polygon bridge. You can track the transaction on [Polygonscan](https://polygonscan.com/) by inputting your address into the search bar. 你可以在搜索栏中输入你的地址，在 [Polygonscan](https://polygonscan.com/)上跟踪交易情况。

4. Add bridged GRT to the billing contract on Polygon. The billing contract address is: [0x10829DB618E6F520Fa3A01c75bC6dDf8722fA9fE](https://polygonscan.com/address/0x10829DB618E6F520Fa3A01c75bC6dDf8722fA9fE). 计费合同地址是：[0x10829DB618E6F520Fa3A01c75bC6dDf8722fA9fE](https://polygonscan.com/address/0x10829DB618E6F520Fa3A01c75bC6dDf8722fA9fE).

   a) 为了完成第4步，你需要将钱包中的网络切换到Polygon。 a) In order to complete step #4, you'll need to switch your network in your wallet to Polygon. You can add Polygon's network by connecting your wallet and clicking on "Choose Matic (Polygon) Mainnet" [here.](https://chainlist.org/) Once you've added the network, switch it over in your wallet by navigating to the network pill on the top right hand side corner. In Metamask, the network is called **Matic Mainnnet.** 在Metamask中，该网络被称为 **Matic Mainnnet.**

At the end of each week, if you used your API keys, you will receive an invoice based on the query fees you have generated during this period. This invoice will be paid using GRT available in your balance. Query volume is evaluated by the API keys you own. Your balance will be updated after fees are withdrawn. 这张发票将用你余额中的GRT来支付。 查询量是由你拥有的API密钥来评估的。 你的余额将在费用提取后被更新。

#### 下面是你如何进行开票的过程：

你的发票可以有4种状态：

1. 创建--你的发票刚刚创建，还没有被支付
2. 已付 - 你的发票已成功支付
3. 未支付 - 账单合同上你的余额中没有足够的GRT
4. 错误 - 处理付款时出现了错误

**更多信息见下图：**

![Billing Flow](/img/billing-flow.png)

关于在Subgraph Studio上如何进行计费的快速演示，请看下面的视频。

<figure className="video-container">
  <iframe
    className="video-iframe"
    src="https://www.youtube.com/embed/UrfIpm-Vlgs"
    title="YouTube video player"
    frameBorder="0"
    allowFullScreen
></iframe>
</figure>

### 多重签名用户

Multisigs are smart-contracts that can exist only on the network they have been created, so if you created one on Ethereum Mainnet - it will only exist on Mainnet. Since our billing uses Polygon, if you were to bridge GRT to the multisig address on Polygon the funds would be lost. 由于我们的账单使用Polygon，如果你将GRT桥接到Polygon的多符号地址上，资金就会丢失。

为了克服这个问题，我们创建了 [一个专门的工具](https://multisig-billing.thegraph.com/)，它将帮助你用一个标准的钱包/EOA（一个由私钥控制的账户）在我们的计费合同上存入GRT（代表multisig）。

你可以在这里访问我们的Multisig计费工具：https://multisig-billing.thegraph.com/

这个工具将指导你完成以下步骤：

1. 连接你的标准钱包/EOA（这个钱包需要拥有一些ETH以及你要存入的GRT）。
2. 桥GRT到Polygon。 Bridge GRT to Polygon. You will have to wait 7-8 minutes after the transaction is complete for the bridge transfer to be finalized.
3. 一旦你的GRT在你的Polygon余额中可用，你就可以把它们存入账单合同，同时在`Multisig地址栏` 中指定你要资助的multisig地址。

一旦存款交易得到确认，你就可以回到 [Subgraph Studio](https://thegraph.com/studio/)，并与你的Gnosis Safe Multisig连接，以创建API密钥并使用它们来生成查询。

这些查询将产生发票，这些发票将使用multisig的账单余额自动支付。
