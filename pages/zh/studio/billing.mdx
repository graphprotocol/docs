---
title: 子图工作室的计费
---

### 概述

发票是客户所欠付款金额的报表，通常在系统中每周生成一次。 你需要根据你使用API密钥产生的查询费用来支付费用。 账单合同在[Polygon](https://polygon.technology/)网络上。 它将允许你：

- 添加和移除GRT
- 根据你向你的账户添加了多少GRT，你移除了多少，以及你的发票来跟踪你的余额。
- 根据产生的查询费用自动结算付款

为了将GRT添加到你的账户中，你将需要通过以下步骤：

1. 在您选择的交易所购买GRT和ETH
2. 将GRT和ETH发送到你的钱包里
3. 使用用户界面桥接GRT到Polygon

   a) 在你向Polygon桥发送任何数量的GRT后，你将在几分钟内收到0.001 Matic。 你可以在搜索栏中输入你的地址，在 [Polygonscan](https://polygonscan.com/)上跟踪交易情况。

4. 在Polygon的计费合同中加入桥接的GRT。 计费合同地址是：[0x10829DB618E6F520Fa3A01c75bC6dDf8722fA9fE](https://polygonscan.com/address/0x10829DB618E6F520Fa3A01c75bC6dDf8722fA9fE).

   a) 为了完成第4步，你需要将钱包中的网络切换到Polygon。 你可以通过连接你的钱包并点击[这里](https://chainlist.org/) 的 "选择Matic（Polygon）主网 "来添加Polygon的网络。一旦你添加了网络，在你的钱包里通过导航到右上角的网络图标来切换它。 在Metamask中，该网络被称为 **Matic Mainnnet.**

在每个周末，如果你使用了你的API密钥，你将会收到一张基于你在这期间产生的查询费用的发票。 这张发票将用你余额中的GRT来支付。 查询量是由你拥有的API密钥来评估的。 你的余额将在费用提取后被更新。

#### 下面是你如何进行开票的过程：

你的发票可以有4种状态：

1. 创建--你的发票刚刚创建，还没有被支付
2. 已付 - 你的发票已成功支付
3. 未支付 - 账单合同上你的余额中没有足够的GRT
4. 错误 - 处理付款时出现了错误

**更多信息见下图：**

![Billing Flow](/img/billing-flow.png)

关于在Subgraph Studio上如何进行计费的快速演示，请看下面的视频。

<figure className="video-container">
  <iframe
    className="video-iframe"
    src="https://www.youtube.com/embed/UrfIpm-Vlgs"
    title="YouTube video player"
    frameBorder="0"
    allowFullScreen
></iframe>
</figure>

### 多重签名用户

多重合约是只能存在于它们所创建的网络上的智能合约，所以如果你在以太坊主网上创建了一个--它将只存在于主网上。 由于我们的账单使用Polygon，如果你将GRT桥接到Polygon的多符号地址上，资金就会丢失。

为了克服这个问题，我们创建了 [一个专门的工具](https://multisig-billing.thegraph.com/)，它将帮助你用一个标准的钱包/EOA（一个由私钥控制的账户）在我们的计费合同上存入GRT（代表multisig）。

你可以在这里访问我们的Multisig计费工具：https://multisig-billing.thegraph.com/

这个工具将指导你完成以下步骤：

1. 连接你的标准钱包/EOA（这个钱包需要拥有一些ETH以及你要存入的GRT）。
2. 桥GRT到Polygon。 在交易完成后，你需要等待7-8分钟，以便最终完成桥梁转移。
3. 一旦你的GRT在你的Polygon余额中可用，你就可以把它们存入账单合同，同时在`Multisig地址栏` 中指定你要资助的multisig地址。

一旦存款交易得到确认，你就可以回到 [Subgraph Studio](https://thegraph.com/studio/)，并与你的Gnosis Safe Multisig连接，以创建API密钥并使用它们来生成查询。

这些查询将产生发票，这些发票将使用multisig的账单余额自动支付。
