---
title: 将一个子图部署到子图工作室
---

Deploying a Subgraph to the Subgraph Studio is quite simple. This will take you through the steps to: 你可以通过以下步骤完成：

- 安装Graph CLI（同时使用yarn和npm）。
- 在子图工作室中创建你的子图
- 从CLI认证你的账户
- 将一个子图部署到子图工作室

## 安装Graph CLI

We are using the same CLI to deploy subgraphs to our [hosted service](https://thegraph.com/hosted-service/) and to the [Subgraph Studio](https://thegraph.com/studio/). Here are the commands to install graph-cli. This can be done using npm or yarn. 以下是安装graph-cli的命令。 这可以用npm或yarn来完成。

**用yarn安装：**

```bash
yarn global add @graphprotocol/graph-cli
```

**用npm安装：**

```bash
npm install -g @graphprotocol/graph-cli
```

## 在子图工作室中创建你的子图

Before deploying your actual subgraph you need to create a subgraph in [Subgraph Studio](https://thegraph.com/studio/). We recommend you read our [Studio documentation](/studio/subgraph-studio) to learn more about this. 我们建议你阅读我们的[Studio文档](/studio/subgraph-studio)以了解更多这方面的信息。

## 初始化你的子图

一旦你的子图在子图工作室中被创建，你可以用这个命令初始化子图代码。

```bash
graph init --studio <SUBGRAPH_SLUG>
```

`<SUBGRAPH_SLUG>`值可以在Subgraph Studio中你的子图详情页上找到。

![Subgraph Studio - Slug](/img/doc-subgraph-slug.png)

After running `graph init`, you will be asked to input the contract address, network and abi that you want to query. Doing this will generate a new folder on your local machine with some basic code to start working on your subgraph. You can then finalize your subgraph to make sure it works as expected. 这样做将在你的本地机器上生成一个新的文件夹，里面有一些基本代码，可以开始在你的子图上工作。 然后，你可以最终确定你的子图，以确保它按预期工作。

## Graph 认证

Before being able to deploy your subgraph to Subgraph Studio, you need to login to your account within the CLI. To do this, you will need your deploy key that you can find on your "My Subgraphs" page or on your subgraph details page. 要做到这一点，你将需要你的部署密钥，你可以在你的 "我的子图 "页面或子图的详细信息页面上找到。

以下是你需要使用的命令，以从CLI进行认证：

```bash
graph auth --studio <DEPLOY KEY>
```

## 将一个子图部署到子图工作室

一旦你准备好了，你可以将你的子图部署到子图工作室。 Once you are ready, you can deploy your subgraph to Subgraph Studio. Doing this won't publish your subgraph to the decentralized network, it will only deploy it to your Studio account where you will be able to test it and update the metadata.

这里是你需要使用的CLI命令，以部署你的子图。

```bash
graph deploy --studio <SUBGRAPH_SLUG>
```

After running this command, the CLI will ask for a version label, you can name it however you want, you can use labels such as `0.1` and `0.2` or use letters as well such as `uniswap-v2-0.1` . Those labels will be visible in Graph Explorer and can be used by curators to decide if they want to signal on this version or not, so choose them wisely. 这些标签将在Graph Explorer中可见，并可由策展人用来决定是否要在这个版本上发出信号，所以要明智地选择它们。

一旦部署完毕，你可以在子图工作室中使用控制面板测试你的子图，如果需要的话，可以部署另一个版本，更新元数据，当你准备好后，将你的子图发布到Graph Explorer。
