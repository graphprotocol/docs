---
title: 将一个子图部署到子图工作室
---

将一个子图部署到子图工作室是非常简单的。 你可以通过以下步骤完成：

- 安装 Graph CLI（同时使用 yarn 和 npm）。
- 在子图工作室中创建你的子图
- 从 CLI 认证你的账户
- 将一个子图部署到子图工作室

## 安装 Graph CLI

我们使用相同的 CLI 将子图部署到我们的 [托管服务](https://thegraph.com/hosted-service/) 和[Subgraph Studio](https://thegraph.com/studio/)中。 以下是安装 graph-cli 的命令。 这可以用 npm 或 yarn 来完成。

**用 yarn 安装：**

```bash
yarn global add @graphprotocol/graph-cli
```

**用 npm 安装：**

```bash
npm install -g @graphprotocol/graph-cli
```

## 在子图工作室中创建你的子图

在部署你的实际子图之前，你需要在 [子图工作室](https://thegraph.com/studio/)中创建一个子图。 我们建议你阅读我们的[Studio 文档](/studio/subgraph-studio)以了解更多这方面的信息。

## 初始化你的子图

一旦你的子图在子图工作室中被创建，你可以用这个命令初始化子图代码。

```bash
graph init --studio <SUBGRAPH_SLUG>
```

`<SUBGRAPH_SLUG>`值可以在 Subgraph Studio 中你的子图详情页上找到。

![Subgraph Studio - Slug](/img/doc-subgraph-slug.png)

After running `graph init`, you will be asked to input the contract address, network, and ABI that you want to query. Doing this will generate a new folder on your local machine with some basic code to start working on your subgraph. You can then finalize your subgraph to make sure it works as expected.

## Graph 认证

Before being able to deploy your subgraph to Subgraph Studio, you need to login into your account within the CLI. To do this, you will need your deploy key that you can find on your "My Subgraphs" page or your subgraph details page.

以下是你需要使用的命令，以从 CLI 进行认证：

```bash
graph auth --studio <DEPLOY KEY>
```

## 将一个子图部署到子图工作室

一旦你准备好了，你可以将你的子图部署到子图工作室。 这样做不会将你的子图发布到去中心化的网络中，它只会将它部署到你的 Studio 账户中，在那里你将能够测试它并更新元数据。

这里是你需要使用的 CLI 命令，以部署你的子图。

```bash
graph deploy --studio <SUBGRAPH_SLUG>
```

After running this command, the CLI will ask for a version label, you can name it however you want, you can use labels such as `0.1` and `0.2` or use letters as well such as `uniswap-v2-0.1`. Those labels will be visible in Graph Explorer and can be used by curators to decide if they want to signal on this version or not, so choose them wisely.

一旦部署完毕，你可以在子图工作室中使用控制面板测试你的子图，如果需要的话，可以部署另一个版本，更新元数据，当你准备好后，将你的子图发布到 Graph Explorer。
