---
title: Subgraph Studio 사용법
---

당신의 새로운 런치패드에 오신 것을 환영합니다 👩🏽‍🚀

Subgraph Studio는 서브그래프를 작성 및 생성하고, 메타데이터를 추가하고, 새로운 분산 탐색기에 게시할 수 있는 곳입니다(자세한 내용은 [여기](/explorer)를 확인하세요).

Subgraph Studio에서 할 수 있는 작업:

- Studio UI를 통해 서브그래프 만들기
- CLI를 사용하여 서브그래프 배포
- Studio UI로 서브그래프 게시
- 플레이그라운드에서 테스트 시행
- 쿼리 URL을 사용하여 스테이징에 이를 통합
- 특정 서브그래프에 대한 API 키 생성 및 관리

여기 Subgraph Studio에서 서브그래프를 완전히 제어할 수 있습니다. 서브그래프를 게시하기 전에 테스트할 수 있을 뿐만 아니라 API 키를 특정 도메인으로 제한하고 특정 인덱서만 API 키에서 쿼리하도록 허용할 수도 있습니다.

서브그래프를 쿼리하면 쿼리 수수료가 생성되며, Graph 네트워크에서 [인덱서](/indexing)에게 보상을 제공하는 데 사용됩니다. 귀하가 dapp 개발자 또는 서브그래프 개발자인 경우 Studio는 귀하 또는 커뮤니티의 쿼리를 강화하기 위해 더 나은 서브그래프를 구축할 수 있는 권한을 부여합니다. Studio는 5개의 주요 부분으로 구성됩니다:

- 사용자 계정 제어
- 생성한 서브그래프 목록
- 특정 서브그래프의 상태를 관리, 세부 정보 보기 및 시각화하는 섹션
- 서브그래프를 쿼리하는 데 필요한 API 키를 관리하는 섹션
- 결제를 관리하는 섹션

## 계정 생성 방법

1. 지갑으로 로그인 - MetaMask 또는 WalletConnect를 통해 로그인할 수 있습니다.
1. 로그인하면 계정 홈 페이지에 고유한 배포 키가 표시됩니다. 이를 통해 서브그래프를 게시하거나 API 키 + 청구를 관리할 수 있습니다. 손상되었다고 생각되는 경우 다시 생성할 수 있는 고유한 배포 키가 있습니다.

## Subgraph Studio에서 서브그래프를 만드는 방법

베스트 파트입니다! 서브그래프를 처음 만들 때 다음을 작성하라는 지시를 받게 됩니다:

- 귀하의 서브그래프 이름
- 이미지
- 설명
- 카테고리
- 웹사이트

## The Graph 네트워크와 서브그래프 호환성

The Graph 네트워크는 아직 호스팅 서비스에서 사용할 수 있는 모든 데이터 소스 & 기능을 지원할 수 없습니다. 네트워크의 인덱서가 이를 지원하기 위해서는 서브그래프는 다음을 충족해야 합니다:

- 인덱스 메인넷 이더리움
- 다음 기능을 사용하면 안 됩니다:
  - ipfs.cat & ipfs.map
  - Non-fatal errors
  - Grafting

더 많은 기능 & 네트워크가 The Graph 네트워크에 점진적으로 추가됩니다.

### 서브그래프 수명 주기 흐름

![Subgraph Lifecycle](/img/subgraph-lifecycle.png)

서브그래프를 생성한 후 [CLI](https://github.com/graphprotocol/graph-cli) 또는 명령줄 인터페이스를 사용하여 배포할 수 있습니다. CLI를 사용하여 서브그래프를 배포하면 플레이그라운드를 사용하여 서브그래프를 테스트할 수 있는 Studio로 서브그래프가 푸시됩니다. 이렇게 하면 결국 그래프 네트워크에 게시할 수 있습니다. CLI 설정에 대한 자세한 내용은 [여기를 확인하시기 바랍니다](/developer/define-subgraph-hosted#install-the-graph-cli)(pst, 배포 키가 있는지 확인하십시오). 배포는 게시와 **다릅니다**. 서브그래프를 deploy 할 때 여러분들은 단순하게 테스트할 수 있는 Studio로 푸시하는 것입니다. 반대로 서브그래프를 배포(publish)하면 온체인에 게시하는 것입니다.

## Subgraph Studio에서 서브그래프 테스트하기

네트워크에 게시하기 전에 서브그래프를 테스트하려면 서브그래프 **Playground**에서 수행하거나 로그를 볼 수 있습니다. 서브 그래프 로그는 서브그래프가 실패하는 경우 **어디에서** 실패하는지 알려줍니다.

## Subgraph Studio에서 서브그래프 배포(Publish)

여러분은 여기까지 왔습니다. 축하드립니다! 서브그래프를 게시한다는 것은 CLI 내에서 서브그래프를 배포할 때 IPFS 해시가 생성되었고, 네트워크의 이더리움 스마트 컨트랙트에 저장되었음을 의미합니다. 서브그래프를 성공적으로 게시하려면 [이 블로그](https://thegraph.com/blog/building-with-subgraph-studio)에 설명된 다음 단계를 거쳐야 합니다. 아래의 비디오 개요도 확인하시기 바랍니다.

<figure className="video-container">
  <iframe
    className="video-iframe"
    src="https://www.youtube.com/embed/HfDgC2oNnwo"
    title="YouTubeビデオプレーヤー"
    frameBorder="0"
    allowFullScreen
  ></iframe>
</figure>

퍼블리싱 플로우를 진행하는 동안 메인넷이나 우리가 지원하는 테스트넷인 Rinkeby로 푸시할 수 있음을 기억하시기 바랍니다. 서브그래프 개발자가 처음이라면 무료인 Rinkeby에 퍼블리싱하는 것으로 시작하는 것이 좋습니다. 이를 통해 그래프 탐색기에서 서브그래프가 어떻게 작동하는지 확인하고 큐레이션 요소를 테스트할 수 있습니다.

메인넷 데이터를 인덱싱하는 서브그래프만 네트워크에 게시할 수 있기 때문에 메인넷의 데이터만 인덱싱할 수 있습니다(서브그래프가 테스트넷에 게시된 경우에도 마찬가지입니다.). 이는 인덱서가 특정 블록 해시와 같은 필수 인덱싱 레코드를 제출해야 하기 때문입니다. 서브그래프를 게시하는 것은 온체인에서 수행되는 작업이므로 트랜잭션이 완료되는 데 몇 분이 걸릴 수 있음을 기억하시기 바랍니다. 컨트랙트를 게시하는 데 사용하는 모든 주소는 향후 버전을 게시할 수 있는 유일한 주소입니다. 현명하게 선택하시길 바랍니다!

큐레이션 신호가 있는 서브그래프는 인덱서에 표시되어 분산 네트워크에서 인덱싱될 수 있습니다. 하나의 트랜잭션에서 서브그래프와 신호를 게시할 수 있으므로 서브그래프에서 첫 번째 큐레이션 신호를 발행하고 가스 비용을 절약할 수 있습니다. 큐레이터가 나중에 제공하는 신호에 신호를 추가하면 서브그래프가 궁극적으로 쿼리를 제공할 가능성이 더 높아집니다.

**이제 서브그래프를 게시했으므로 정기적으로 서브그래프를 관리하는 방법에 대해 알아보겠습니다.** 동기화에 실패한 경우 서브그래프를 네트워크에 게시할 수 없음을 인지하시기 바랍니다. 이는 일반적으로 서브그래프에 버그가 있기 때문입니다. 로그는 해당 문제가 있는 위치를 알려줍니다!

## CLI를 사용한 서브그래프 버전 관리

개발자는 다양한 이유로 서브그래프를 업데이트할 수 있습니다. 이 경우 CLI를 사용하여 새 버전의 서브그래프를 Studio에 배포할 수 있으며(현시점 비공개), 만족한다면 이 새 배포를 The Graph Explorer에 게시할 수 있습니다. 이렇게 하면 큐레이터가 신호를 시작할 수 있고 인덱서가 이 새 버전을 인덱싱할 수 있는 새 버전의 서브그래프가 생성됩니다.

최근까지 개발자는 서브그래프의 메타데이터를 업데이트하기 위해 새 버전의 서브그래프를 배포하고 탐색기에 게시해야 했습니다. 이제 개발자는 **새 버전을 게시하지 않고도** 서브그래프의 메타데이터를 업데이트할 수 있습니다. 개발자는 그래프 탐색기에서 세부 정보 업데이트라는 옵션을 선택하여 스튜디오(프로필 사진, 이름, 설명 등 아래)에서 서브그래프 세부 정보를 업데이트할 수 있습니다. 이 옵션을 선택하면 새 배포로 새 버전을 게시할 필요 없이 탐색기에서 서브그래프 세부 정보를 업데이트하는 온체인 트랜잭션이 생성됩니다.

서브그래프의 새 버전을 네트워크에 게시하는 것과 관련된 비용이 있음을 유의하시길 바랍니다. 거래 수수료 외에도 개발자는 자동 마이그레이션 신호에 대한 큐레이션 세금의 일부에 관한 자금 또한 마련해야 합니다. 큐레이터가 신호를 보내지 않은 경우 서브그래프의 새 버전을 게시할 수 없습니다. 큐레이션의 위험에 대한 더 자세한 내용은 [여기](/curating)를 참조하시기 바랍니다.

### 서브그래프 버전의 자동 보관

Subgraph Studio에서 새 서브그래프 버전을 배포할 때마다 이전 버전이 보관됩니다. 보관된 버전은 인덱싱/동기화되지 않으므로 쿼리할 수 없습니다. Studio UI에서 서브그래프의 보관된 버전을 보관 취소할 수 있습니다. Studio에 배포된 미공개 서브그래프의 이전 버전은 자동으로 보관됩니다.

![Subgraph Studio - Unarchive](/img/Unarchive.png)

## API 키 관리

Dapp 개발자이든 서브그래프 개발자이든 상관없이 API 키를 관리해야 합니다. API 키는 애플리케이션 서비스 간의 연결이 유효하고 승인되었는지 확인하기 때문에 서브그래프를 쿼리할 수 있다는 것은 중요합니다. 여기에는 애플리케이션을 사용하여 최종 사용자와 장치를 인증하는 것이 포함됩니다.

Studio는 기존 API 키를 나열하여 관리하거나 삭제할 수 있는 기능을 제공합니다.

1. **Overview** 섹션에서는 다음을 수행할 수 있습니다.
   - 키 이름 수정
   - API 키 재생성
   - 통계와 함께 API 키의 현재 사용량 보기:
     - 쿼리 수
     - GRT 소비량
2. Under **Security**, you’ll be able to opt into security settings depending on the level of control you’d like to have over your API keys. In this section, you can:
   - API 키를 사용하도록 승인된 도메인 이름 보기 및 관리
   - API 키로 쿼리할 수 있는 서브그래프 할당
3. Under **Indexer Preference**, you’ll be able to set different preferences for Indexers who are indexing subgraphs that your API key is used for. You can assign up to 5 points for each of these:
   - **Fastest Speed**: Time between the query and the response from an indexer. If you mark this as important we will optimize for fast indexers.
   - **Lowest Price**: The amount paid per query. If you mark this as important we will optimize for the less expensive indexers.
   - **Data Freshness**: How recent the latest block an indexer has processed for the subgraph you are querying. If you mark this as important we will optimize to find the indexers with the freshest data.
   - **Economic Security**: The amount of GRT an indexer can lose if they respond incorrectly to your query. If you mark this as important we will optimize for indexers with a large stake.
4. Under **Budget**, you’ll be able to update the maximum price per query. Note that we have a dynamic setting for that that's based on a volume discounting algorithm. **We strongly recommend using the default settings unless you are experiencing a specific problem.** Otherwise, you can update it under "Set a custom maximum budget". On this page you can also view different KPIs (in GRT and USD):
   - Average cost per query
   - Failed queries over max price
   - Most expensive query

## 서브그래프를 관리하는 방법

API 키 외에도 서브그래프를 관리하는 데 사용할 수 있는 많은 도구가 있습니다. **status** 및 **category**로 서브그래프를 구성할 수 있습니다.

- The **Status** tag allows you to pick between a variety of tags including `<created>`, `<deployed>`, `<published>`, `<archived>`, etc.
- Meanwhile, **Category** allows you to designate what category your subgraph falls into. Options include `<DeFi>`, `<NFTs>`, `<Governance>`, etc.
