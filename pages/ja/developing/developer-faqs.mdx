---
title: 開発者向けFAQ
---

### 1. 作成したサブグラフを削除できますか？

一度作成したサブグラフの削除はできません。

### 2. サブグラフの名前は変更できますか？

一度作成したサブグラフの名前を変更することはできません。サブグラフを作成する際には、他の dapps から検索しやすく、識別しやすい名前になるよう、よく考えてから作成してください。

### 3. サブグラフに関連する GitHub アカウントは変更できますか？

一度作成したサブグラフに関連する GitHub のアカウントは変更できません。サブグラフを作成する前に、この点をよく考えてください。

### 4. スマートコントラクトにイベントがない場合でも、サブグラフを作成できますか？

スマートコントラクトを構成して、クエリしたいデータに関連するイベントを持つことを強くお勧めします。サブグラフ内のイベントハンドラは、コントラクトのイベントによってトリガされ、有用なデータを取得するための圧倒的に速い方法です。

使用しているコントラクトにイベントが含まれていない場合、サブグラフはコールハンドラとブロックハンドラを使用してインデックス作成をトリガすることができます。しかし、パフォーマンスが大幅に低下するため、これは推奨されません。

### 5. 同じ名前のサブグラフを複数のネットワークに配置することは可能ですか？

複数のネットワークには別々の名前が必要です。同じ名前で異なるサブグラフを持つことはできませんが、単一のコードベースで複数のネットワークに対応する便利な方法があります。詳しくはドキュメントをご覧ください: [Redeploying a Subgraph](/deploying/deploying-a-subgraph-to-hosted#redeploying-a-subgraph)

### 6. テンプレートとデータソースはどう違うのですか？

テンプレートは、サブグラフがインデックスを作成している間に、その場でデータソースを作成することができます。また、コントラクトの形状（ABI、イベントなど）を前もって知っているので、テンプレートでどのようにインデックスを作成するかを定義することができ、コントラクトが作成されると、サブグラフはコントラクトのアドレスを供給することで動的なデータソースを作成します。

データソース・テンプレートのインスタンス化」のセクションをご覧ください: [Data Source Templates](/developing/creating-a-subgraph#data-source-templates)

### 7. 最新版の graph-node を使用していることを確認する方法はありますか？

以下のコマンドを実行してください:

```sh
docker pull graphprotocol/graph-node:latest
```

**注:** docker / docker-compose は、最初に実行したときにプルされた graph-node のバージョンを常に使用しますので、最新版の graph-node を使用していることを確認するために、このコマンドを実行することが重要です。

### 8. サブグラフ・マッピングからコントラクト関数を呼び出したり、パブリック・ステート変数にアクセスするにはどうすればいいですか？

[AssemblyScript API](/developing/assemblyscript-api)内の`Access to smart contract`セクションをご参照ください。

### 9. 2 つのコントラクトで`graph-cli`の`graph init` を使ってサブグラフをセットアップすることは可能ですか？それとも、`graph init`を実行した後、`subgraph.yaml`に別のデータソースを手動で追加する必要がありますか？

`graph init`は基本的な出発点として意図されており、そこから手動でデータソースを追加することができます。

### 10. GitHub の課題に貢献したいのですが、オープンソースのリポジトリはどこにありますか？

- [graph-node](https://github.com/graphprotocol/graph-node)
- [graph-cli](https://github.com/graphprotocol/graph-cli)
- [graph-ts](https://github.com/graphprotocol/graph-ts)

### 11. イベントを処理する際に、エンティティの "自動生成された "Id を構築する推奨される方法は何ですか？

もし、イベント中に 1 つのエンティティしか作成されず、他に利用できるものがなければ、トランザクションハッシュ＋ログインデックスがユニークになります。Bytes に変換して`crypto.keccak256`に通すことで難読化することができますが、これでは一意性は高まりません。

### 12. 複数のコントラクトをリスニングする際、イベントをリスニングするコントラクトの順番を選択することは可能ですか？

サブグラフ内では、複数のコントラクトにまたがっているかどうかにかかわらず、イベントは常にブロックに表示される順序で処理されます。

### 13. イベントハンドラ内からネットワーク（mainnet, Goerli, local）を区別することは可能ですか？

はい、以下の例のように`graph-ts`をインポートすることで可能です。

```javascript
import { dataSource } from '@graphprotocol/graph-ts'

dataSource.network()
dataSource.address()
```

### 14. Rinkeby では、ブロックハンドラやコールハンドラをサポートしていますか？

Rinkeby ではブロックハンドラーをサポートしていますが、`filter: call`はサポートしていません。コールハンドラーは当面サポートしていません。

### 15. サブグラフのマッピングに ethers.js や他の JS ライブラリをインポートできますか？

マッピングは AssemblyScript で書かれているため、現在はできません。代替案としては、生データをエンティティに格納し、JS ライブラリを必要とするロジックをクライアントで実行することが考えられます。

### 16. インデックス作成を開始するブロックを指定することはできますか？

はい。`subgraph.yaml`ファイルの`dataSources.source.startBlock`は、データソースがインデックス作成を開始するブロックの番号を指定します。ほとんどの場合、コントラクトが作成されたブロックを使用することをお勧めします。開始ブロック

### 17. インデックス作成のパフォーマンスを向上させるためのヒントはありますか？

はい、コントラクトがデプロイされたブロックからインデックス作成を開始するオプションのスタートブロック機能をご利用ください: [Start blocks](/developing/creating-a-subgraph#start-blocks)

### 18. サブグラフに直接クエリして、インデックスを作成した最新のブロック番号を確認する方法はありますか？

はい、あります。organization/subgraphName」を公開先の組織とサブグラフの名前に置き換えて、以下のコマンドを実行してみてください:

```sh
curl -X POST -d '{ "query": "{indexingStatusForCurrentVersion(subgraphName: \"organization/subgraphName\") { chains { latestBlock { hash number }}}}"}' https://api.thegraph.com/index-node/graphql
```

### 19. the Graph がサポートするネットワークは？

グラフノードは、EVM と互換性のある JSON RPC API チェーンをサポートしています。

なた、グラフネットワークは、イーサリアム・メインネットをインデックス化したサブグラフをサポートしています。

- `メインネット`

ホステッドサービスでは、以下のネットワークをサポートしています:

- Ethereum mainnet
- Rinkeby
- Goerli
- PoA-Core
- PoA-Sokol
- xDAI
- NEAR
- NEAR testnet
- Matic
- Mumbai
- Fantom
- Binance Smart Chain
- Clover
- Avalanche
- Fuji
- Celo
- Celo-Alfajores
- Fuse
- Moonbeam
- Moonriver
- Moonbase Alpha (Moonbeam/Moonriver Testnet)
- Arbitrum One
- Arbitrum Testnet (on Rinkeby)
- Optimism
- Optimism Testnet (on Goerli)

他のブロックチェーンとの統合に向けた作業が進行中で、詳細はレポでご覧いただけます。RFC-0003 を参照してください: [RFC-0003: Multi-Blockchain Support](https://github.com/graphprotocol/rfcs/pull/8/files)

### 20. 再デプロイせずに、サブグラフを別のアカウントやエンドポイントに複製することは可能ですか？

サブグラフを再デプロイする必要がありますが、サブグラフの ID（IPFS ハッシュ）が変わらなければ、最初から同期する必要はありません。

### 21. graph-node の上に Apollo Federation を使用することは可能ですか？

将来的にはサポートしたいと考えていますが、フェデレーションはまだサポートされていません。現時点でできることは、クライアント上またはプロキシサービス経由でスキーマステッチを使用することです。

### 22. The Graph が 1 回のクエリで返すオブジェクトの数に制限はありますか？

デフォルトでは、クエリの応答は 1 つのコレクションにつき 100 アイテムに制限されています。それ以上の数を受け取りたい場合は、1 コレクションあたり 1000 アイテムまで、それ以上は以下のようにページネーションすることができます:

```graphql
someCollection(first: 1000, skip: <number>) { ... }
```

### 23. dapp のフロントエンドが The Graph を使ってクエリを行う場合、クエリキーをフロントエンドに直接書き込む必要がありますか？また、ユーザーにクエリ料を支払う場合、悪意のあるユーザーがいるとクエリ料が非常に高くなってしまうのではないでしょうか？

現時点では、フロントエンドにキーを追加し、それをエンドユーザーに公開することが、dapp の推奨するアプローチです。とはいえ、 *yourdapp.io*や subgraph のように、そのキーをホスト名に限定することもできます。ゲートウェイは現在、Edge&Node が運営しています。ゲートウェイの責任の一つは、不正な行為を監視し、悪意のあるクライアントからのトラフィックをブロックすることです。

### 24. ホステッドサービスの現在のサブグラフはどこで確認できますか？

あなたや他の人がホステッドサービスにデプロイしたサブグラフを見つけるために、ホステッドサービスに向かってください。[こちら](https://thegraph.com/hosted-service)で見つけることができます。

### 25. ホステッドサービスでは、クエリ料が発生しますか？

The Graph は、ホステッドサービスに対して課金することはありません。The Graph は非中央集権的なプロトコルであり、中央集権的なサービスに課金することは The Graph の価値観に合致しません。ホステッドサービスは常に、分散型ネットワークに移行するための一時的なステップでした。開発者には十分な時間があるので、安心して分散型ネットワークに移行することができます。

### 26. ホステッドサービスはいつ終了しますか？

そのような計画がある場合は、ホステッドサービス上に構築されたサブグラフを考慮して、十分に前もってコミュニティに通知されます。

### 27. メインネット上のサブグラフをアップグレードするには？

サブグラフの開発者であれば、CLI を使ってサブグラフの新バージョンをスタジオにアップグレードすることができます。その時点では非公開ですが、満足できるものであれば、分散化された Graph Explorer に公開することができます。これにより、キュレーターがシグナリングを開始できるサブグラフの新バージョンが作成されます。
