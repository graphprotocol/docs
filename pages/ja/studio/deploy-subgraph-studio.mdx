---
title: Subgraph Studioへのサブグラフのデプロイ
---

Subgraph Studio へのサブグラフのデプロイメントは非常に簡単です。ここでは、以下の手順を説明します:

- Graph CLI をインストールする（yarn と npm の両方で）
- Subgraph Studio でサブグラフを作成する
- CLI から自分のアカウントを認証する
- Subgraph Studio にサブグラフをデプロイする

## Graph CLI のインストール

ホステッドサービス[hosted service](https://thegraph.com/hosted-service/)へのサブグラフのデプロイと、[Subgraph Studio](https://thegraph.com/studio/)へのサブグラフのデプロイに、同じ CLI を使用しています。以下は、graph-cli をインストールするためのコマンドです。これは、npm または yarn を使って行うことができます。

**yarn でインストールします:**

```bash
yarn global add @graphprotocol/graph-cli
```

**npm でインストールします:**

```bash
npm install -g @graphprotocol/graph-cli
```

## Subgraph Studio でサブグラフを作成する

実際のサブグラフをデプロイする前に、[Subgraph Studio](https://thegraph.com/studio/)でサブグラフを作成する必要があります。詳しくは、[Studio documentation](/studio/subgraph-studio)をお読みになることをお勧めします。

## サブグラフの初期化

Subgraph Studio でサブグラフが作成されると、以下のコマンドでサブグラフのコードを初期化することができます:

```bash
graph init --studio <SUBGRAPH_SLUG>
```

`<SUBGRAPH_SLUG>`の値は、Subgraph Studio のサブグラフの詳細ページにあります:

![Subgraph Studio - Slug](/img/doc-subgraph-slug.png)

After running `graph init`, you will be asked to input the contract address, network, and ABI that you want to query. Doing this will generate a new folder on your local machine with some basic code to start working on your subgraph. You can then finalize your subgraph to make sure it works as expected.

## グラフ認証

Before being able to deploy your subgraph to Subgraph Studio, you need to login into your account within the CLI. To do this, you will need your deploy key that you can find on your "My Subgraphs" page or your subgraph details page.

以下は、CLI から認証を行うために必要なコマンドです:

```bash
graph auth --studio graph auth --studio <DEPLOY KEY>」
```

## Subgraph Studio へのサブグラフのデプロイ

準備ができたら、Subgraph Studio にサブグラフをデプロイすることができます。これを行うと、分散型ネットワークにサブグラフが公開されず、テストやメタデータの更新が可能な Studio アカウントにのみデプロイされます。

以下は、サブグラフのデプロイに必要な CLI コマンドです。

```bash
graph deploy --studio <SUBGRAPH_SLUG>
```

After running this command, the CLI will ask for a version label, you can name it however you want, you can use labels such as `0.1` and `0.2` or use letters as well such as `uniswap-v2-0.1`. Those labels will be visible in Graph Explorer and can be used by curators to decide if they want to signal on this version or not, so choose them wisely.

デプロイされた後は、Subgraph Studio でプレイグラウンドを使ってサブグラフをテストし、必要に応じて別のバージョンをデプロイし、メタデータを更新し、準備ができたら Graph Explorer にサブグラフを公開することができます。
