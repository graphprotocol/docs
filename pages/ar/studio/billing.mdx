---
title: الفوترة على Subgraph Studio
---

### نظره عامة

الفواتير هي كشوفات بمبالغ السداد المستحقة على العميل ويتم إنشاؤها عادةً على أساس أسبوعي في النظام. سيُطلب منك دفع الرسوم بناءً على رسوم الاستعلام التي تنشئها باستخدام مفاتيح API الخاصة بك. يسري عقد الفوترة على شبكة [ Polygon ](https://polygon.technology/). وسيسمح لك بما يلي:

- إضافة وإزالة GRT
- تتبع أرصدتك بناء على مقدار GRT الذي أضفته إلى حسابك ، والمبلغ الذي قمت بإزالته ، وفواتيرك
- مسح المدفوعات تلقائيًا بناءً على رسوم الاستعلام التي تم إنشاؤها

لإضافة GRT إلى حسابك ، ستحتاج إلى اتباع الخطوات التالية:

1. قم بشراء GRT و ETH في أحد المنصات من اختيارك
2. أرسل GRT و ETH إلى محفظتك
3. قم بـ (Bridge) ربط GRT إلى Polygon باستخدام واجهة المستخدم (UI)

   أ) ستتلقى 0.001 Matic في غضون دقائق قليلة بعد إرسال أي مبلغ من GRT إلى جسر Polygon. يمكنك تتبع الإجراء على [ Polygonscan ](https://polygonscan.com/) بإدخال عنوانك في شريط البحث.

4. أضف GRT المربوط إلى عقد الفوترة في Polygon. عنوان عقد الفوترة هو: [ 0x10829DB618E6F520Fa3A01c75bC6dDf8722fA9fE ](https://polygonscan.com/address/0x10829DB618E6F520Fa3A01c75bC6dDf8722fA9fE).

   a) In order to complete step #4, you'll need to switch your network in your wallet to Polygon. You can add Polygon's network by connecting your wallet and clicking on "Choose Matic (Polygon) Mainnet" [here.](https://chainlist.org/) Once you've added the network, switch it over in your wallet by navigating to the network pill on the top right-hand side corner. In Metamask, the network is called **Matic Mainnnet.**

في نهاية كل أسبوع ، إذا استخدمت مفاتيح API الخاصة بك ، فستتلقى فاتورة بناءً على رسوم الاستعلام التي أنشأتها خلال هذه الفترة. سيتم دفع هذه الفاتورة باستخدام GRT المتاح في رصيدك. يتم تقييم حجم الاستعلام بواسطة مفاتيح API التي تمتلكها. سيتم تحديث رصيدك بعد سحب الرسوم.

#### إليك كيفية متابعة عملية الفواتير:

هناك 4 حالات ممكنة لفاتورتك:

1. Created - تم إنشاء فاتورتك للتو ولم يتم دفعها بعد
2. Paid - تم دفع فاتورتك بنجاح
3. Unpaid - ليس هناك ما يكفي من GRT في رصيدك في عقد الفوترة
4. Error - هناك خطأ في معالجة الدفع

**انظر الرسم البياني أدناه لمزيد من المعلومات:**

![تدفق الفوترة(Billing Flow)](/img/billing-flow.png)

للحصول على عرض توضيحي سريع لكيفية عمل الفوترة في Subgraph Studio ، راجع الفيديو أدناه:

<figure className="video-container">
  <iframe
    className="video-iframe"
    src="https://www.youtube.com/embed/UrfIpm-Vlgs"
    title="مشغل فيديو يوتيوب"
    frameBorder="0"
    allowFullScreen
  ></iframe>
</figure>

### مستخدمو Multisig

Multisigs are smart contracts that can exist only on the network they have been created, so if you created one on Ethereum Mainnet - it will only exist on Mainnet. Since our billing uses Polygon, if you were to bridge GRT to the multisig address on Polygon the funds would be lost.

للتغلب على هذه المشكلة ، أنشأنا [ أداة مخصصة ](https://multisig-billing.thegraph.com/) من شأنها أن تساعدك على إيداع GRT في عقد الفوترة الخاص بنا (نيابة عن multisig) بمحفظة قياسية / EOA (حساب يتحكم فيه مفتاح خاص).

يمكنك الوصول إلى أداة Multisig Billing Tool الخاصة بنا هنا: /https://multisig-billing.thegraph.com

ستوجهك هذه الأداة إلى اتباع الخطوات التالية:

1. قم بتوصيل محفظتك القياسية / EOA (تحتاج هذه المحفظة إلى امتلاك بعض ETH بالإضافة إلى GRT الذي تريد إيداعه)
2. قم بـ(Bridge) عملية ربط GRT إلى Polygon. سيتعين عليك الانتظار 7-8 دقائق بعد اكتمال الإجراء حتى يتم الانتهاء من تحويل الجسر(bridge).
3. بمجرد توفر GRT الخاص بك في رصيدك على Polygon ، يمكنك إيداعها في عقد الفوترة أثناء تحديد عنوان multisig الذي تموله في حقل `Multisig Address`.

بمجرد تأكيد إجراء الإيداع ، يمكنك الرجوع إلى [ Subgraph Studio ](https://thegraph.com/studio/) والربط بـ Gnosis Safe Multisig الخاص بك لإنشاء مفاتيح API واستخدامها في توليد الاستعلامات.

ستنشئ هذه الاستعلامات فواتير سيتم دفعها تلقائيًا باستخدام رصيد فوترة multisig.
